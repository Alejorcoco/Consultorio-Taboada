(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))c(M);new MutationObserver(M=>{for(const H of M)if(H.type==="childList")for(const S of H.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&c(S)}).observe(document,{childList:!0,subtree:!0});function d(M){const H={};return M.integrity&&(H.integrity=M.integrity),M.referrerPolicy&&(H.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?H.credentials="include":M.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function c(M){if(M.ep)return;M.ep=!0;const H=d(M);fetch(M.href,H)}})();function Af(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var ed={exports:{}},gn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf;function Px(){if(nf)return gn;nf=1;var h=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function d(c,M,H){var S=null;if(H!==void 0&&(S=""+H),M.key!==void 0&&(S=""+M.key),"key"in M){H={};for(var $ in M)$!=="key"&&(H[$]=M[$])}else H=M;return M=H.ref,{$$typeof:h,type:c,key:S,ref:M!==void 0?M:null,props:H}}return gn.Fragment=x,gn.jsx=d,gn.jsxs=d,gn}var rf;function eh(){return rf||(rf=1,ed.exports=Px()),ed.exports}var l=eh(),td={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of;function th(){if(of)return Ce;of=1;var h=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),S=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function K(u){return u===null||typeof u!="object"?null:(u=V&&u[V]||u["@@iterator"],typeof u=="function"?u:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,ce={};function ae(u,w,Y){this.props=u,this.context=w,this.refs=ce,this.updater=Y||F}ae.prototype.isReactComponent={},ae.prototype.setState=function(u,w){if(typeof u!="object"&&typeof u!="function"&&u!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,u,w,"setState")},ae.prototype.forceUpdate=function(u){this.updater.enqueueForceUpdate(this,u,"forceUpdate")};function le(){}le.prototype=ae.prototype;function se(u,w,Y){this.props=u,this.context=w,this.refs=ce,this.updater=Y||F}var ne=se.prototype=new le;ne.constructor=se,R(ne,ae.prototype),ne.isPureReactComponent=!0;var be=Array.isArray;function ie(){}var q={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function pe(u,w,Y){var ee=Y.ref;return{$$typeof:h,type:u,key:w,ref:ee!==void 0?ee:null,props:Y}}function ue(u,w){return pe(u.type,w,u.props)}function ke(u){return typeof u=="object"&&u!==null&&u.$$typeof===h}function we(u){var w={"=":"=0",":":"=2"};return"$"+u.replace(/[=:]/g,function(Y){return w[Y]})}var Be=/\/+/g;function J(u,w){return typeof u=="object"&&u!==null&&u.key!=null?we(""+u.key):w.toString(36)}function L(u){switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:switch(typeof u.status=="string"?u.then(ie,ie):(u.status="pending",u.then(function(w){u.status==="pending"&&(u.status="fulfilled",u.value=w)},function(w){u.status==="pending"&&(u.status="rejected",u.reason=w)})),u.status){case"fulfilled":return u.value;case"rejected":throw u.reason}}throw u}function y(u,w,Y,ee,fe){var B=typeof u;(B==="undefined"||B==="boolean")&&(u=null);var je=!1;if(u===null)je=!0;else switch(B){case"bigint":case"string":case"number":je=!0;break;case"object":switch(u.$$typeof){case h:case x:je=!0;break;case Z:return je=u._init,y(je(u._payload),w,Y,ee,fe)}}if(je)return fe=fe(u),je=ee===""?"."+J(u,0):ee,be(fe)?(Y="",je!=null&&(Y=je.replace(Be,"$&/")+"/"),y(fe,w,Y,"",function(mt){return mt})):fe!=null&&(ke(fe)&&(fe=ue(fe,Y+(fe.key==null||u&&u.key===fe.key?"":(""+fe.key).replace(Be,"$&/")+"/")+je)),w.push(fe)),1;je=0;var qe=ee===""?".":ee+":";if(be(u))for(var Ae=0;Ae<u.length;Ae++)ee=u[Ae],B=qe+J(ee,Ae),je+=y(ee,w,Y,B,fe);else if(Ae=K(u),typeof Ae=="function")for(u=Ae.call(u),Ae=0;!(ee=u.next()).done;)ee=ee.value,B=qe+J(ee,Ae++),je+=y(ee,w,Y,B,fe);else if(B==="object"){if(typeof u.then=="function")return y(L(u),w,Y,ee,fe);throw w=String(u),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return je}function U(u,w,Y){if(u==null)return u;var ee=[],fe=0;return y(u,ee,"","",function(B){return w.call(Y,B,fe++)}),ee}function I(u){if(u._status===-1){var w=u._result;w=w(),w.then(function(Y){(u._status===0||u._status===-1)&&(u._status=1,u._result=Y)},function(Y){(u._status===0||u._status===-1)&&(u._status=2,u._result=Y)}),u._status===-1&&(u._status=0,u._result=w)}if(u._status===1)return u._result.default;throw u._result}var ve=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Q={map:U,forEach:function(u,w,Y){U(u,function(){w.apply(this,arguments)},Y)},count:function(u){var w=0;return U(u,function(){w++}),w},toArray:function(u){return U(u,function(w){return w})||[]},only:function(u){if(!ke(u))throw Error("React.Children.only expected to receive a single React element child.");return u}};return Ce.Activity=A,Ce.Children=Q,Ce.Component=ae,Ce.Fragment=d,Ce.Profiler=M,Ce.PureComponent=se,Ce.StrictMode=c,Ce.Suspense=D,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(u){return q.H.useMemoCache(u)}},Ce.cache=function(u){return function(){return u.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(u,w,Y){if(u==null)throw Error("The argument must be a React element, but you passed "+u+".");var ee=R({},u.props),fe=u.key;if(w!=null)for(B in w.key!==void 0&&(fe=""+w.key),w)!me.call(w,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&w.ref===void 0||(ee[B]=w[B]);var B=arguments.length-2;if(B===1)ee.children=Y;else if(1<B){for(var je=Array(B),qe=0;qe<B;qe++)je[qe]=arguments[qe+2];ee.children=je}return pe(u.type,fe,ee)},Ce.createContext=function(u){return u={$$typeof:S,_currentValue:u,_currentValue2:u,_threadCount:0,Provider:null,Consumer:null},u.Provider=u,u.Consumer={$$typeof:H,_context:u},u},Ce.createElement=function(u,w,Y){var ee,fe={},B=null;if(w!=null)for(ee in w.key!==void 0&&(B=""+w.key),w)me.call(w,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=w[ee]);var je=arguments.length-2;if(je===1)fe.children=Y;else if(1<je){for(var qe=Array(je),Ae=0;Ae<je;Ae++)qe[Ae]=arguments[Ae+2];fe.children=qe}if(u&&u.defaultProps)for(ee in je=u.defaultProps,je)fe[ee]===void 0&&(fe[ee]=je[ee]);return pe(u,B,fe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(u){return{$$typeof:$,render:u}},Ce.isValidElement=ke,Ce.lazy=function(u){return{$$typeof:Z,_payload:{_status:-1,_result:u},_init:I}},Ce.memo=function(u,w){return{$$typeof:p,type:u,compare:w===void 0?null:w}},Ce.startTransition=function(u){var w=q.T,Y={};q.T=Y;try{var ee=u(),fe=q.S;fe!==null&&fe(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ie,ve)}catch(B){ve(B)}finally{w!==null&&Y.types!==null&&(w.types=Y.types),q.T=w}},Ce.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ce.use=function(u){return q.H.use(u)},Ce.useActionState=function(u,w,Y){return q.H.useActionState(u,w,Y)},Ce.useCallback=function(u,w){return q.H.useCallback(u,w)},Ce.useContext=function(u){return q.H.useContext(u)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(u,w){return q.H.useDeferredValue(u,w)},Ce.useEffect=function(u,w){return q.H.useEffect(u,w)},Ce.useEffectEvent=function(u){return q.H.useEffectEvent(u)},Ce.useId=function(){return q.H.useId()},Ce.useImperativeHandle=function(u,w,Y){return q.H.useImperativeHandle(u,w,Y)},Ce.useInsertionEffect=function(u,w){return q.H.useInsertionEffect(u,w)},Ce.useLayoutEffect=function(u,w){return q.H.useLayoutEffect(u,w)},Ce.useMemo=function(u,w){return q.H.useMemo(u,w)},Ce.useOptimistic=function(u,w){return q.H.useOptimistic(u,w)},Ce.useReducer=function(u,w,Y){return q.H.useReducer(u,w,Y)},Ce.useRef=function(u){return q.H.useRef(u)},Ce.useState=function(u){return q.H.useState(u)},Ce.useSyncExternalStore=function(u,w,Y){return q.H.useSyncExternalStore(u,w,Y)},Ce.useTransition=function(){return q.H.useTransition()},Ce.version="19.2.3",Ce}var df;function cd(){return df||(df=1,td.exports=th()),td.exports}var m=cd();const ah=Af(m);var ad={exports:{}},bn={},ld={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function lh(){return cf||(cf=1,(function(h){function x(y,U){var I=y.length;y.push(U);e:for(;0<I;){var ve=I-1>>>1,Q=y[ve];if(0<M(Q,U))y[ve]=U,y[I]=Q,I=ve;else break e}}function d(y){return y.length===0?null:y[0]}function c(y){if(y.length===0)return null;var U=y[0],I=y.pop();if(I!==U){y[0]=I;e:for(var ve=0,Q=y.length,u=Q>>>1;ve<u;){var w=2*(ve+1)-1,Y=y[w],ee=w+1,fe=y[ee];if(0>M(Y,I))ee<Q&&0>M(fe,Y)?(y[ve]=fe,y[ee]=I,ve=ee):(y[ve]=Y,y[w]=I,ve=w);else if(ee<Q&&0>M(fe,I))y[ve]=fe,y[ee]=I,ve=ee;else break e}}return U}function M(y,U){var I=y.sortIndex-U.sortIndex;return I!==0?I:y.id-U.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var H=performance;h.unstable_now=function(){return H.now()}}else{var S=Date,$=S.now();h.unstable_now=function(){return S.now()-$}}var D=[],p=[],Z=1,A=null,V=3,K=!1,F=!1,R=!1,ce=!1,ae=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ne(y){for(var U=d(p);U!==null;){if(U.callback===null)c(p);else if(U.startTime<=y)c(p),U.sortIndex=U.expirationTime,x(D,U);else break;U=d(p)}}function be(y){if(R=!1,ne(y),!F)if(d(D)!==null)F=!0,ie||(ie=!0,we());else{var U=d(p);U!==null&&L(be,U.startTime-y)}}var ie=!1,q=-1,me=5,pe=-1;function ue(){return ce?!0:!(h.unstable_now()-pe<me)}function ke(){if(ce=!1,ie){var y=h.unstable_now();pe=y;var U=!0;try{e:{F=!1,R&&(R=!1,le(q),q=-1),K=!0;var I=V;try{t:{for(ne(y),A=d(D);A!==null&&!(A.expirationTime>y&&ue());){var ve=A.callback;if(typeof ve=="function"){A.callback=null,V=A.priorityLevel;var Q=ve(A.expirationTime<=y);if(y=h.unstable_now(),typeof Q=="function"){A.callback=Q,ne(y),U=!0;break t}A===d(D)&&c(D),ne(y)}else c(D);A=d(D)}if(A!==null)U=!0;else{var u=d(p);u!==null&&L(be,u.startTime-y),U=!1}}break e}finally{A=null,V=I,K=!1}U=void 0}}finally{U?we():ie=!1}}}var we;if(typeof se=="function")we=function(){se(ke)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,J=Be.port2;Be.port1.onmessage=ke,we=function(){J.postMessage(null)}}else we=function(){ae(ke,0)};function L(y,U){q=ae(function(){y(h.unstable_now())},U)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(y){y.callback=null},h.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<y?Math.floor(1e3/y):5},h.unstable_getCurrentPriorityLevel=function(){return V},h.unstable_next=function(y){switch(V){case 1:case 2:case 3:var U=3;break;default:U=V}var I=V;V=U;try{return y()}finally{V=I}},h.unstable_requestPaint=function(){ce=!0},h.unstable_runWithPriority=function(y,U){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var I=V;V=y;try{return U()}finally{V=I}},h.unstable_scheduleCallback=function(y,U,I){var ve=h.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ve+I:ve):I=ve,y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,y={id:Z++,callback:U,priorityLevel:y,startTime:I,expirationTime:Q,sortIndex:-1},I>ve?(y.sortIndex=I,x(p,y),d(D)===null&&y===d(p)&&(R?(le(q),q=-1):R=!0,L(be,I-ve))):(y.sortIndex=Q,x(D,y),F||K||(F=!0,ie||(ie=!0,we()))),y},h.unstable_shouldYield=ue,h.unstable_wrapCallback=function(y){var U=V;return function(){var I=V;V=U;try{return y.apply(this,arguments)}finally{V=I}}}})(sd)),sd}var uf;function sh(){return uf||(uf=1,ld.exports=lh()),ld.exports}var nd={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff;function nh(){if(ff)return _t;ff=1;var h=cd();function x(D){var p="https://react.dev/errors/"+D;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var Z=2;Z<arguments.length;Z++)p+="&args[]="+encodeURIComponent(arguments[Z])}return"Minified React error #"+D+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(x(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},M=Symbol.for("react.portal");function H(D,p,Z){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:A==null?null:""+A,children:D,containerInfo:p,implementation:Z}}var S=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $(D,p){if(D==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,_t.createPortal=function(D,p){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(x(299));return H(D,p,null,Z)},_t.flushSync=function(D){var p=S.T,Z=c.p;try{if(S.T=null,c.p=2,D)return D()}finally{S.T=p,c.p=Z,c.d.f()}},_t.preconnect=function(D,p){typeof D=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(D,p))},_t.prefetchDNS=function(D){typeof D=="string"&&c.d.D(D)},_t.preinit=function(D,p){if(typeof D=="string"&&p&&typeof p.as=="string"){var Z=p.as,A=$(Z,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,K=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;Z==="style"?c.d.S(D,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:K}):Z==="script"&&c.d.X(D,{crossOrigin:A,integrity:V,fetchPriority:K,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_t.preinitModule=function(D,p){if(typeof D=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var Z=$(p.as,p.crossOrigin);c.d.M(D,{crossOrigin:Z,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(D)},_t.preload=function(D,p){if(typeof D=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var Z=p.as,A=$(Z,p.crossOrigin);c.d.L(D,Z,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_t.preloadModule=function(D,p){if(typeof D=="string")if(p){var Z=$(p.as,p.crossOrigin);c.d.m(D,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:Z,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(D)},_t.requestFormReset=function(D){c.d.r(D)},_t.unstable_batchedUpdates=function(D,p){return D(p)},_t.useFormState=function(D,p,Z){return S.H.useFormState(D,p,Z)},_t.useFormStatus=function(){return S.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var mf;function ih(){if(mf)return nd.exports;mf=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(x){console.error(x)}}return h(),nd.exports=nh(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function rh(){if(xf)return bn;xf=1;var h=sh(),x=cd(),d=ih();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function M(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function H(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D(e){if(H(e)!==e)throw Error(c(188))}function p(e){var t=e.alternate;if(!t){if(t=H(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return D(n),e;if(i===s)return D(n),t;i=i.sibling}throw Error(c(188))}if(a.return!==s.return)a=n,s=i;else{for(var r=!1,o=n.child;o;){if(o===a){r=!0,a=n,s=i;break}if(o===s){r=!0,s=n,a=i;break}o=o.sibling}if(!r){for(o=i.child;o;){if(o===a){r=!0,a=i,s=n;break}if(o===s){r=!0,s=i,a=n;break}o=o.sibling}if(!r)throw Error(c(189))}}if(a.alternate!==s)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function Z(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Z(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case ae:return"Profiler";case ce:return"StrictMode";case be:return"Suspense";case ie:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case se:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var L=Array.isArray,y=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ve=[],Q=-1;function u(e){return{current:e}}function w(e){0>Q||(e.current=ve[Q],ve[Q]=null,Q--)}function Y(e,t){Q++,ve[Q]=e.current,e.current=t}var ee=u(null),fe=u(null),B=u(null),je=u(null);function qe(e,t){switch(Y(B,t),Y(fe,e),Y(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Du(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Du(t),e=Au(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}w(ee),Y(ee,e)}function Ae(){w(ee),w(fe),w(B)}function mt(e){e.memoizedState!==null&&Y(je,e);var t=ee.current,a=Au(t,e.type);t!==a&&(Y(fe,e),Y(ee,a))}function _(e){fe.current===e&&(w(ee),w(fe)),je.current===e&&(w(je),fn._currentValue=I)}var te,re;function Ne(e){if(te===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);te=t&&t[1]||"",re=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+e+re}var Ge=!1;function He(e,t){if(!e||Ge)return"";Ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(C){var k=C}Reflect.construct(e,[],O)}else{try{O.call()}catch(C){k=C}e.call(O.prototype)}}else{try{throw Error()}catch(C){k=C}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(C){if(C&&k&&typeof C.stack=="string")return[C.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),r=i[0],o=i[1];if(r&&o){var f=r.split(`
`),N=o.split(`
`);for(n=s=0;s<f.length&&!f[s].includes("DetermineComponentFrameRoot");)s++;for(;n<N.length&&!N[n].includes("DetermineComponentFrameRoot");)n++;if(s===f.length||n===N.length)for(s=f.length-1,n=N.length-1;1<=s&&0<=n&&f[s]!==N[n];)n--;for(;1<=s&&0<=n;s--,n--)if(f[s]!==N[n]){if(s!==1||n!==1)do if(s--,n--,0>n||f[s]!==N[n]){var T=`
`+f[s].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=s&&0<=n);break}}}finally{Ge=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ne(a):""}function Ze(e,t){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==t&&t!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return He(e.type,!1);case 11:return He(e.type.render,!1);case 1:return He(e.type,!0);case 31:return Ne("Activity");default:return""}}function Te(e){try{var t="",a=null;do t+=Ze(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var W=Object.prototype.hasOwnProperty,oe=h.unstable_scheduleCallback,ze=h.unstable_cancelCallback,Pe=h.unstable_shouldYield,at=h.unstable_requestPaint,Ee=h.unstable_now,Tt=h.unstable_getCurrentPriorityLevel,b=h.unstable_ImmediatePriority,X=h.unstable_UserBlockingPriority,he=h.unstable_NormalPriority,Se=h.unstable_LowPriority,jt=h.unstable_IdlePriority,Ut=h.log,pt=h.unstable_setDisableYieldValue,lt=null,Nt=null;function Et(e){if(typeof Ut=="function"&&pt(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(lt,e)}catch{}}var kt=Math.clz32?Math.clz32:ks,ml=Math.log,La=Math.LN2;function ks(e){return e>>>=0,e===0?32:31-(ml(e)/La|0)|0}var Ba=256,qa=262144,Rl=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hl(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=s&134217727;return o!==0?(s=o&~i,s!==0?n=ga(s):(r&=o,r!==0?n=ga(r):a||(a=o&~e,a!==0&&(n=ga(a))))):(o=s&~i,o!==0?n=ga(o):r!==0?n=ga(r):a||(a=s&~e,a!==0&&(n=ga(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function xl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var e=Rl;return Rl<<=1,(Rl&62914560)===0&&(Rl=4194304),e}function ws(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function z(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,a,s,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,f=e.expirationTimes,N=e.hiddenUpdates;for(a=r&~a;0<a;){var T=31-kt(a),O=1<<T;o[T]=0,f[T]=-1;var k=N[T];if(k!==null)for(N[T]=null,T=0;T<k.length;T++){var C=k[T];C!==null&&(C.lane&=-536870913)}a&=~O}s!==0&&et(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function et(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-kt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ot(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-kt(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function hl(e,t){var a=t&-t;return a=(a&42)!==0?1:Ct(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ct(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gl(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Wu(e.type))}function Ss(e,t){var a=U.p;try{return U.p=e,t()}finally{U.p=a}}var Rt=Math.random().toString(36).slice(2),st="__reactFiber$"+Rt,ot="__reactProps$"+Rt,Ya="__reactContainer$"+Rt,Ul="__reactEvents$"+Rt,Vi="__reactListeners$"+Rt,Qf="__reactHandles$"+Rt,hd="__reactResources$"+Rt,Cs="__reactMarker$"+Rt;function Xi(e){delete e[st],delete e[ot],delete e[Ul],delete e[Vi],delete e[Qf]}function Ll(e){var t=e[st];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ya]||a[st]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Hu(e);e!==null;){if(a=e[st])return a;e=Hu(e)}return t}e=a,a=e.parentNode}return null}function Bl(e){if(e=e[st]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function ql(e){var t=e[hd];return t||(t=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[Cs]=!0}var gd=new Set,bd={};function bl(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(bd[e]=t,e=0;e<t.length;e++)gd.add(t[e])}var Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},vd={};function Xf(e){return W.call(vd,e)?!0:W.call(pd,e)?!1:Vf.test(e)?vd[e]=!0:(pd[e]=!0,!1)}function Sn(e,t,a){if(Xf(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Cn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function pa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zf(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zi(e){if(!e._valueTracker){var t=yd(e)?"checked":"value";e._valueTracker=Zf(e,t,""+e[t])}}function jd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=yd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $f=/[\n"\\]/g;function ea(e){return e.replace($f,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $i(e,t,a,s,n,i,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Ki(e,r,Pt(t)):a!=null?Ki(e,r,Pt(a)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Pt(o):e.removeAttribute("name")}function Nd(e,t,a,s,n,i,r,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Zi(e);return}a=a!=null?""+Pt(a):"",t=t!=null?""+Pt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Zi(e)}function Ki(e,t,a){t==="number"&&zn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gl(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Pt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function kd(e,t,a){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Pt(a):""}function wd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(c(92));if(L(s)){if(1<s.length)throw Error(c(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Pt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Zi(e)}function Ql(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Kf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Cd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Sd(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Sd(e,i,t[i])}function Ji(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(e){return Ff.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var Fi=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,Xl=null;function zd(e){var t=Bl(e);if(t&&(e=t.stateNode)){var a=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if($i(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ea(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[ot]||null;if(!n)throw Error(c(90));$i(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&jd(s)}break e;case"textarea":kd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gl(e,!!a.multiple,t,!1)}}}var Wi=!1;function Dd(e,t,a){if(Wi)return e(t,a);Wi=!0;try{var s=e(t);return s}finally{if(Wi=!1,(Vl!==null||Xl!==null)&&(hi(),Vl&&(t=Vl,e=Xl,Xl=Vl=null,zd(t),e)))for(t=0;t<e.length;t++)zd(e[t])}}function Ds(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ot]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pi=!1;if(ya)try{var As={};Object.defineProperty(As,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Pi=!1}var Ga=null,er=null,An=null;function Ad(){if(An)return An;var e,t=er,a=t.length,s,n="value"in Ga?Ga.value:Ga.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(s=1;s<=r&&t[a-s]===n[i-s];s++);return An=n.slice(e,1<s?1-s:void 0)}function Mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _n(){return!0}function Md(){return!1}function Lt(e){function t(a,s,n,i,r){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_n:Md,this.isPropagationStopped=Md,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_n)},persist:function(){},isPersistent:_n}),t}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tn=Lt(pl),Ms=A({},pl,{view:0,detail:0}),If=Lt(Ms),tr,ar,_s,En=A({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(tr=e.screenX-_s.screenX,ar=e.screenY-_s.screenY):ar=tr=0,_s=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),_d=Lt(En),Wf=A({},En,{dataTransfer:0}),Pf=Lt(Wf),em=A({},Ms,{relatedTarget:0}),lr=Lt(em),tm=A({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Lt(tm),lm=A({},pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sm=Lt(lm),nm=A({},pl,{data:0}),Td=Lt(nm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function sr(){return dm}var cm=A({},Ms,{key:function(e){if(e.key){var t=im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(e){return e.type==="keypress"?Mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),um=Lt(cm),fm=A({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=Lt(fm),mm=A({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),xm=Lt(mm),hm=A({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Lt(hm),bm=A({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pm=Lt(bm),vm=A({},pl,{newState:0,oldState:0}),ym=Lt(vm),jm=[9,13,27,32],nr=ya&&"CompositionEvent"in window,Ts=null;ya&&"documentMode"in document&&(Ts=document.documentMode);var Nm=ya&&"TextEvent"in window&&!Ts,Od=ya&&(!nr||Ts&&8<Ts&&11>=Ts),Rd=" ",Hd=!1;function Ud(e,t){switch(e){case"keyup":return jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zl=!1;function km(e,t){switch(e){case"compositionend":return Ld(t);case"keypress":return t.which!==32?null:(Hd=!0,Rd);case"textInput":return e=t.data,e===Rd&&Hd?null:e;default:return null}}function wm(e,t){if(Zl)return e==="compositionend"||!nr&&Ud(e,t)?(e=Ad(),An=er=Ga=null,Zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sm[e.type]:t==="textarea"}function qd(e,t,a,s){Vl?Xl?Xl.push(s):Xl=[s]:Vl=s,t=Ni(t,"onChange"),0<t.length&&(a=new Tn("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Es=null,Os=null;function Cm(e){Nu(e,0)}function On(e){var t=zs(e);if(jd(t))return e}function Yd(e,t){if(e==="change")return t}var Gd=!1;if(ya){var ir;if(ya){var rr="oninput"in document;if(!rr){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),rr=typeof Qd.oninput=="function"}ir=rr}else ir=!1;Gd=ir&&(!document.documentMode||9<document.documentMode)}function Vd(){Es&&(Es.detachEvent("onpropertychange",Xd),Os=Es=null)}function Xd(e){if(e.propertyName==="value"&&On(Os)){var t=[];qd(t,Os,e,Ii(e)),Dd(Cm,t)}}function zm(e,t,a){e==="focusin"?(Vd(),Es=t,Os=a,Es.attachEvent("onpropertychange",Xd)):e==="focusout"&&Vd()}function Dm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return On(Os)}function Am(e,t){if(e==="click")return On(t)}function Mm(e,t){if(e==="input"||e==="change")return On(t)}function _m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:_m;function Rs(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!W.call(t,n)||!Xt(e[n],t[n]))return!1}return!0}function Zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var a=Zd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zd(a)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=zn(e.document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tm=ya&&"documentMode"in document&&11>=document.documentMode,$l=null,dr=null,Hs=null,cr=!1;function Fd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cr||$l==null||$l!==zn(s)||(s=$l,"selectionStart"in s&&or(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hs&&Rs(Hs,s)||(Hs=s,s=Ni(dr,"onSelect"),0<s.length&&(t=new Tn("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=$l)))}function vl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Kl={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},ur={},Id={};ya&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function yl(e){if(ur[e])return ur[e];if(!Kl[e])return e;var t=Kl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Id)return ur[e]=t[a];return e}var Wd=yl("animationend"),Pd=yl("animationiteration"),ec=yl("animationstart"),Em=yl("transitionrun"),Om=yl("transitionstart"),Rm=yl("transitioncancel"),tc=yl("transitionend"),ac=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function da(e,t){ac.set(e,t),bl(t,[e])}var Rn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ta=[],Jl=0,mr=0;function Hn(){for(var e=Jl,t=mr=Jl=0;t<e;){var a=ta[t];ta[t++]=null;var s=ta[t];ta[t++]=null;var n=ta[t];ta[t++]=null;var i=ta[t];if(ta[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}i!==0&&lc(a,n,i)}}function Un(e,t,a,s){ta[Jl++]=e,ta[Jl++]=t,ta[Jl++]=a,ta[Jl++]=s,mr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xr(e,t,a,s){return Un(e,t,a,s),Ln(e)}function jl(e,t){return Un(e,null,null,t),Ln(e)}function lc(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,s=i.alternate,s!==null&&(s.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-kt(a),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),i):null}function Ln(e){if(50<sn)throw sn=0,wo=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fl={};function Hm(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,a,s){return new Hm(e,t,a,s)}function hr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var a=e.alternate;return a===null?(a=Zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,a,s,n,i){var r=0;if(s=e,typeof e=="function")hr(e)&&(r=1);else if(typeof e=="string")r=Yx(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Zt(31,a,t,n),e.elementType=pe,e.lanes=i,e;case R:return Nl(a.children,n,i,t);case ce:r=8,n|=24;break;case ae:return e=Zt(12,a,t,n|2),e.elementType=ae,e.lanes=i,e;case be:return e=Zt(13,a,t,n),e.elementType=be,e.lanes=i,e;case ie:return e=Zt(19,a,t,n),e.elementType=ie,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:r=10;break e;case le:r=9;break e;case ne:r=11;break e;case q:r=14;break e;case me:r=16,s=null;break e}r=29,a=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Zt(r,a,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Nl(e,t,a,s){return e=Zt(7,e,s,t),e.lanes=a,e}function gr(e,t,a){return e=Zt(6,e,null,t),e.lanes=a,e}function nc(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function br(e,t,a){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ic=new WeakMap;function aa(e,t){if(typeof e=="object"&&e!==null){var a=ic.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Te(t)},ic.set(e,t),t)}return{value:e,source:t,stack:Te(t)}}var Il=[],Wl=0,qn=null,Us=0,la=[],sa=0,Qa=null,fa=1,ma="";function Na(e,t){Il[Wl++]=Us,Il[Wl++]=qn,qn=e,Us=t}function rc(e,t,a){la[sa++]=fa,la[sa++]=ma,la[sa++]=Qa,Qa=e;var s=fa;e=ma;var n=32-kt(s)-1;s&=~(1<<n),a+=1;var i=32-kt(t)+n;if(30<i){var r=n-n%5;i=(s&(1<<r)-1).toString(32),s>>=r,n-=r,fa=1<<32-kt(t)+n|a<<n|s,ma=i+e}else fa=1<<i|a<<n|s,ma=e}function pr(e){e.return!==null&&(Na(e,1),rc(e,1,0))}function vr(e){for(;e===qn;)qn=Il[--Wl],Il[Wl]=null,Us=Il[--Wl],Il[Wl]=null;for(;e===Qa;)Qa=la[--sa],la[sa]=null,ma=la[--sa],la[sa]=null,fa=la[--sa],la[sa]=null}function oc(e,t){la[sa++]=fa,la[sa++]=ma,la[sa++]=Qa,fa=t.id,ma=t.overflow,Qa=e}var zt=null,nt=null,Ye=!1,Va=null,na=!1,yr=Error(c(519));function Xa(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(aa(t,e)),yr}function dc(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[st]=e,t[ot]=s,a){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(a=0;a<rn.length;a++)Re(rn[a],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Nd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),wd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Cu(t.textContent,a)?(s.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),s.onScroll!=null&&Re("scroll",t),s.onScrollEnd!=null&&Re("scrollend",t),s.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||Xa(e,!0)}function cc(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:zt=zt.return}}function Pl(e){if(e!==zt)return!1;if(!Ye)return cc(e),Ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bo(e.type,e.memoizedProps)),a=!a),a&&nt&&Xa(e),cc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));nt=Ru(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));nt=Ru(e)}else t===27?(t=nt,nl(e.type)?(e=Vo,Vo=null,nt=e):nt=t):nt=zt?ra(e.stateNode.nextSibling):null;return!0}function kl(){nt=zt=null,Ye=!1}function jr(){var e=Va;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),Va=null),e}function Ls(e){Va===null?Va=[e]:Va.push(e)}var Nr=u(null),wl=null,ka=null;function Za(e,t,a){Y(Nr,t._currentValue),t._currentValue=a}function wa(e){e._currentValue=Nr.current,w(Nr)}function kr(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function wr(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var f=0;f<t.length;f++)if(o.context===t[f]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),kr(i.return,a,e),s||(r=null);break e}i=o.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(c(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),kr(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function es(e,t,a,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(c(387));if(r=r.memoizedProps,r!==null){var o=n.type;Xt(n.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(n===je.current){if(r=n.alternate,r===null)throw Error(c(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(fn):e=[fn])}n=n.return}e!==null&&wr(t,e,a,s),t.flags|=262144}function Yn(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sl(e){wl=e,ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return uc(wl,e)}function Gn(e,t){return wl===null&&Sl(e),uc(e,t)}function uc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ka===null){if(e===null)throw Error(c(308));ka=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ka=ka.next=t;return a}var Um=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Lm=h.unstable_scheduleCallback,Bm=h.unstable_NormalPriority,xt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sr(){return{controller:new Um,data:new Map,refCount:0}}function Bs(e){e.refCount--,e.refCount===0&&Lm(Bm,function(){e.controller.abort()})}var qs=null,Cr=0,ts=0,as=null;function qm(e,t){if(qs===null){var a=qs=[];Cr=0,ts=Mo(),as={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Cr++,t.then(fc,fc),t}function fc(){if(--Cr===0&&qs!==null){as!==null&&(as.status="fulfilled");var e=qs;qs=null,ts=0,as=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ym(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var mc=y.S;y.S=function(e,t){F0=Ee(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qm(e,t),mc!==null&&mc(e,t)};var Cl=u(null);function zr(){var e=Cl.current;return e!==null?e:tt.pooledCache}function Qn(e,t){t===null?Y(Cl,Cl.current):Y(Cl,t.pool)}function xc(){var e=zr();return e===null?null:{parent:xt._currentValue,pool:e}}var ls=Error(c(460)),Dr=Error(c(474)),Vn=Error(c(542)),Xn={then:function(){}};function hc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gc(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(va,va),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pc(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pc(e),e}throw Dl=t,ls}}function zl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Dl=a,ls):a}}var Dl=null;function bc(){if(Dl===null)throw Error(c(459));var e=Dl;return Dl=null,e}function pc(e){if(e===ls||e===Vn)throw Error(c(483))}var ss=null,Ys=0;function Zn(e){var t=Ys;return Ys+=1,ss===null&&(ss=[]),gc(ss,e,t)}function Gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $n(e,t){throw t.$$typeof===V?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vc(e){function t(v,g){if(e){var j=v.deletions;j===null?(v.deletions=[g],v.flags|=16):j.push(g)}}function a(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function s(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function n(v,g){return v=ja(v,g),v.index=0,v.sibling=null,v}function i(v,g,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<g?(v.flags|=67108866,g):j):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function r(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function o(v,g,j,E){return g===null||g.tag!==6?(g=gr(j,v.mode,E),g.return=v,g):(g=n(g,j),g.return=v,g)}function f(v,g,j,E){var ge=j.type;return ge===R?T(v,g,j.props.children,E,j.key):g!==null&&(g.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===me&&zl(ge)===g.type)?(g=n(g,j.props),Gs(g,j),g.return=v,g):(g=Bn(j.type,j.key,j.props,null,v.mode,E),Gs(g,j),g.return=v,g)}function N(v,g,j,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=br(j,v.mode,E),g.return=v,g):(g=n(g,j.children||[]),g.return=v,g)}function T(v,g,j,E,ge){return g===null||g.tag!==7?(g=Nl(j,v.mode,E,ge),g.return=v,g):(g=n(g,j),g.return=v,g)}function O(v,g,j){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=gr(""+g,v.mode,j),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case K:return j=Bn(g.type,g.key,g.props,null,v.mode,j),Gs(j,g),j.return=v,j;case F:return g=br(g,v.mode,j),g.return=v,g;case me:return g=zl(g),O(v,g,j)}if(L(g)||we(g))return g=Nl(g,v.mode,j,null),g.return=v,g;if(typeof g.then=="function")return O(v,Zn(g),j);if(g.$$typeof===se)return O(v,Gn(v,g),j);$n(v,g)}return null}function k(v,g,j,E){var ge=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:o(v,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===ge?f(v,g,j,E):null;case F:return j.key===ge?N(v,g,j,E):null;case me:return j=zl(j),k(v,g,j,E)}if(L(j)||we(j))return ge!==null?null:T(v,g,j,E,null);if(typeof j.then=="function")return k(v,g,Zn(j),E);if(j.$$typeof===se)return k(v,g,Gn(v,j),E);$n(v,j)}return null}function C(v,g,j,E,ge){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return v=v.get(j)||null,o(g,v,""+E,ge);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case K:return v=v.get(E.key===null?j:E.key)||null,f(g,v,E,ge);case F:return v=v.get(E.key===null?j:E.key)||null,N(g,v,E,ge);case me:return E=zl(E),C(v,g,j,E,ge)}if(L(E)||we(E))return v=v.get(j)||null,T(g,v,E,ge,null);if(typeof E.then=="function")return C(v,g,j,Zn(E),ge);if(E.$$typeof===se)return C(v,g,j,Gn(g,E),ge);$n(g,E)}return null}function de(v,g,j,E){for(var ge=null,Qe=null,xe=g,Me=g=0,Le=null;xe!==null&&Me<j.length;Me++){xe.index>Me?(Le=xe,xe=null):Le=xe.sibling;var Ve=k(v,xe,j[Me],E);if(Ve===null){xe===null&&(xe=Le);break}e&&xe&&Ve.alternate===null&&t(v,xe),g=i(Ve,g,Me),Qe===null?ge=Ve:Qe.sibling=Ve,Qe=Ve,xe=Le}if(Me===j.length)return a(v,xe),Ye&&Na(v,Me),ge;if(xe===null){for(;Me<j.length;Me++)xe=O(v,j[Me],E),xe!==null&&(g=i(xe,g,Me),Qe===null?ge=xe:Qe.sibling=xe,Qe=xe);return Ye&&Na(v,Me),ge}for(xe=s(xe);Me<j.length;Me++)Le=C(xe,v,Me,j[Me],E),Le!==null&&(e&&Le.alternate!==null&&xe.delete(Le.key===null?Me:Le.key),g=i(Le,g,Me),Qe===null?ge=Le:Qe.sibling=Le,Qe=Le);return e&&xe.forEach(function(cl){return t(v,cl)}),Ye&&Na(v,Me),ge}function ye(v,g,j,E){if(j==null)throw Error(c(151));for(var ge=null,Qe=null,xe=g,Me=g=0,Le=null,Ve=j.next();xe!==null&&!Ve.done;Me++,Ve=j.next()){xe.index>Me?(Le=xe,xe=null):Le=xe.sibling;var cl=k(v,xe,Ve.value,E);if(cl===null){xe===null&&(xe=Le);break}e&&xe&&cl.alternate===null&&t(v,xe),g=i(cl,g,Me),Qe===null?ge=cl:Qe.sibling=cl,Qe=cl,xe=Le}if(Ve.done)return a(v,xe),Ye&&Na(v,Me),ge;if(xe===null){for(;!Ve.done;Me++,Ve=j.next())Ve=O(v,Ve.value,E),Ve!==null&&(g=i(Ve,g,Me),Qe===null?ge=Ve:Qe.sibling=Ve,Qe=Ve);return Ye&&Na(v,Me),ge}for(xe=s(xe);!Ve.done;Me++,Ve=j.next())Ve=C(xe,v,Me,Ve.value,E),Ve!==null&&(e&&Ve.alternate!==null&&xe.delete(Ve.key===null?Me:Ve.key),g=i(Ve,g,Me),Qe===null?ge=Ve:Qe.sibling=Ve,Qe=Ve);return e&&xe.forEach(function(Wx){return t(v,Wx)}),Ye&&Na(v,Me),ge}function We(v,g,j,E){if(typeof j=="object"&&j!==null&&j.type===R&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:e:{for(var ge=j.key;g!==null;){if(g.key===ge){if(ge=j.type,ge===R){if(g.tag===7){a(v,g.sibling),E=n(g,j.props.children),E.return=v,v=E;break e}}else if(g.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===me&&zl(ge)===g.type){a(v,g.sibling),E=n(g,j.props),Gs(E,j),E.return=v,v=E;break e}a(v,g);break}else t(v,g);g=g.sibling}j.type===R?(E=Nl(j.props.children,v.mode,E,j.key),E.return=v,v=E):(E=Bn(j.type,j.key,j.props,null,v.mode,E),Gs(E,j),E.return=v,v=E)}return r(v);case F:e:{for(ge=j.key;g!==null;){if(g.key===ge)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){a(v,g.sibling),E=n(g,j.children||[]),E.return=v,v=E;break e}else{a(v,g);break}else t(v,g);g=g.sibling}E=br(j,v.mode,E),E.return=v,v=E}return r(v);case me:return j=zl(j),We(v,g,j,E)}if(L(j))return de(v,g,j,E);if(we(j)){if(ge=we(j),typeof ge!="function")throw Error(c(150));return j=ge.call(j),ye(v,g,j,E)}if(typeof j.then=="function")return We(v,g,Zn(j),E);if(j.$$typeof===se)return We(v,g,Gn(v,j),E);$n(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,g!==null&&g.tag===6?(a(v,g.sibling),E=n(g,j),E.return=v,v=E):(a(v,g),E=gr(j,v.mode,E),E.return=v,v=E),r(v)):a(v,g)}return function(v,g,j,E){try{Ys=0;var ge=We(v,g,j,E);return ss=null,ge}catch(xe){if(xe===ls||xe===Vn)throw xe;var Qe=Zt(29,xe,null,v.mode);return Qe.lanes=E,Qe.return=v,Qe}finally{}}}var Al=vc(!0),yc=vc(!1),$a=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Xe&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Ln(e),lc(e,null,a),t}return Un(e,s,t,a),Ln(e)}function Qs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ot(e,a)}}function _r(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Tr=!1;function Vs(){if(Tr){var e=as;if(e!==null)throw e}}function Xs(e,t,a,s){Tr=!1;var n=e.updateQueue;$a=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var f=o,N=f.next;f.next=null,r===null?i=N:r.next=N,r=f;var T=e.alternate;T!==null&&(T=T.updateQueue,o=T.lastBaseUpdate,o!==r&&(o===null?T.firstBaseUpdate=N:o.next=N,T.lastBaseUpdate=f))}if(i!==null){var O=n.baseState;r=0,T=N=f=null,o=i;do{var k=o.lane&-536870913,C=k!==o.lane;if(C?(Ue&k)===k:(s&k)===k){k!==0&&k===ts&&(Tr=!0),T!==null&&(T=T.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var de=e,ye=o;k=t;var We=a;switch(ye.tag){case 1:if(de=ye.payload,typeof de=="function"){O=de.call(We,O,k);break e}O=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ye.payload,k=typeof de=="function"?de.call(We,O,k):de,k==null)break e;O=A({},O,k);break e;case 2:$a=!0}}k=o.callback,k!==null&&(e.flags|=64,C&&(e.flags|=8192),C=n.callbacks,C===null?n.callbacks=[k]:C.push(k))}else C={lane:k,tag:o.tag,payload:o.payload,callback:o.callback,next:null},T===null?(N=T=C,f=O):T=T.next=C,r|=k;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;C=o,o=C.next,C.next=null,n.lastBaseUpdate=C,n.shared.pending=null}}while(!0);T===null&&(f=O),n.baseState=f,n.firstBaseUpdate=N,n.lastBaseUpdate=T,i===null&&(n.shared.lanes=0),el|=r,e.lanes=r,e.memoizedState=O}}function jc(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Nc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jc(a[e],t)}var ns=u(null),Kn=u(0);function kc(e,t){e=Ea,Y(Kn,e),Y(ns,t),Ea=e|t.baseLanes}function Er(){Y(Kn,Ea),Y(ns,ns.current)}function Or(){Ea=Kn.current,w(ns),w(Kn)}var $t=u(null),ia=null;function Fa(e){var t=e.alternate;Y(ut,ut.current&1),Y($t,e),ia===null&&(t===null||ns.current!==null||t.memoizedState!==null)&&(ia=e)}function Rr(e){Y(ut,ut.current),Y($t,e),ia===null&&(ia=e)}function wc(e){e.tag===22?(Y(ut,ut.current),Y($t,e),ia===null&&(ia=e)):Ia()}function Ia(){Y(ut,ut.current),Y($t,$t.current)}function Kt(e){w($t),ia===e&&(ia=null),w(ut)}var ut=u(0);function Jn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Go(a)||Qo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,De=null,Fe=null,ht=null,Fn=!1,is=!1,Ml=!1,In=0,Zs=0,rs=null,Gm=0;function dt(){throw Error(c(321))}function Hr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Xt(e[a],t[a]))return!1;return!0}function Ur(e,t,a,s,n,i){return Sa=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,y.H=e===null||e.memoizedState===null?r0:Wr,Ml=!1,i=a(s,n),Ml=!1,is&&(i=Cc(t,a,s,n)),Sc(e),i}function Sc(e){y.H=Js;var t=Fe!==null&&Fe.next!==null;if(Sa=0,ht=Fe=De=null,Fn=!1,Zs=0,rs=null,t)throw Error(c(300));e===null||gt||(e=e.dependencies,e!==null&&Yn(e)&&(gt=!0))}function Cc(e,t,a,s){De=e;var n=0;do{if(is&&(rs=null),Zs=0,is=!1,25<=n)throw Error(c(301));if(n+=1,ht=Fe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}y.H=o0,i=t(a,s)}while(is);return i}function Qm(){var e=y.H,t=e.useState()[0];return t=typeof t.then=="function"?$s(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(De.flags|=1024),t}function Lr(){var e=In!==0;return In=0,e}function Br(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function qr(e){if(Fn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fn=!1}Sa=0,ht=Fe=De=null,is=!1,Zs=In=0,rs=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?De.memoizedState=ht=e:ht=ht.next=e,ht}function ft(){if(Fe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=ht===null?De.memoizedState:ht.next;if(t!==null)ht=t,Fe=e;else{if(e===null)throw De.alternate===null?Error(c(467)):Error(c(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ht===null?De.memoizedState=ht=e:ht=ht.next=e}return ht}function Wn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var t=Zs;return Zs+=1,rs===null&&(rs=[]),e=gc(rs,e,t),t=De,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,y.H=t===null||t.memoizedState===null?r0:Wr),e}function Pn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===se)return Dt(e)}throw Error(c(438,String(e)))}function Yr(e){var t=null,a=De.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=De.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Wn(),De.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=ue;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function ei(e){var t=ft();return Gr(t,Fe,e)}function Gr(e,t,a){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=a;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=r=null,f=null,N=t,T=!1;do{var O=N.lane&-536870913;if(O!==N.lane?(Ue&O)===O:(Sa&O)===O){var k=N.revertLane;if(k===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),O===ts&&(T=!0);else if((Sa&k)===k){N=N.next,k===ts&&(T=!0);continue}else O={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},f===null?(o=f=O,r=i):f=f.next=O,De.lanes|=k,el|=k;O=N.action,Ml&&a(i,O),i=N.hasEagerState?N.eagerState:a(i,O)}else k={lane:O,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},f===null?(o=f=k,r=i):f=f.next=k,De.lanes|=O,el|=O;N=N.next}while(N!==null&&N!==t);if(f===null?r=i:f.next=o,!Xt(i,e.memoizedState)&&(gt=!0,T&&(a=as,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=f,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Qr(e){var t=ft(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Xt(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function zc(e,t,a){var s=De,n=ft(),i=Ye;if(i){if(a===void 0)throw Error(c(407));a=a()}else a=t();var r=!Xt((Fe||n).memoizedState,a);if(r&&(n.memoizedState=a,gt=!0),n=n.queue,Zr(Mc.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,os(9,{destroy:void 0},Ac.bind(null,s,n,a,t),null),tt===null)throw Error(c(349));i||(Sa&127)!==0||Dc(s,t,a)}return a}function Dc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=De.updateQueue,t===null?(t=Wn(),De.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ac(e,t,a,s){t.value=a,t.getSnapshot=s,_c(t)&&Tc(e)}function Mc(e,t,a){return a(function(){_c(t)&&Tc(e)})}function _c(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Xt(e,a)}catch{return!0}}function Tc(e){var t=jl(e,2);t!==null&&Qt(t,e,2)}function Vr(e){var t=Ht();if(typeof e=="function"){var a=e;if(e=a(),Ml){Et(!0);try{a()}finally{Et(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function Ec(e,t,a,s){return e.baseState=a,Gr(e,Fe,typeof s=="function"?s:Ca)}function Vm(e,t,a,s,n){if(li(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};y.T!==null?a(!0):i.isTransition=!1,s(i),a=t.pending,a===null?(i.next=t.pending=i,Oc(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Oc(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=y.T,r={};y.T=r;try{var o=a(n,s),f=y.S;f!==null&&f(r,o),Rc(e,t,o)}catch(N){Xr(e,t,N)}finally{i!==null&&r.types!==null&&(i.types=r.types),y.T=i}}else try{i=a(n,s),Rc(e,t,i)}catch(N){Xr(e,t,N)}}function Rc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Hc(e,t,s)},function(s){return Xr(e,t,s)}):Hc(e,t,a)}function Hc(e,t,a){t.status="fulfilled",t.value=a,Uc(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Oc(e,a)))}function Xr(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Uc(t),t=t.next;while(t!==s)}e.action=null}function Uc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lc(e,t){return t}function Bc(e,t){if(Ye){var a=tt.formState;if(a!==null){e:{var s=De;if(Ye){if(nt){t:{for(var n=nt,i=na;n.nodeType!==8;){if(!i){n=null;break t}if(n=ra(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){nt=ra(n.nextSibling),s=n.data==="F!";break e}}Xa(s)}s=!1}s&&(t=a[0])}}return a=Ht(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},a.queue=s,a=s0.bind(null,De,s),s.dispatch=a,s=Vr(!1),i=Ir.bind(null,De,!1,s.queue),s=Ht(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Vm.bind(null,De,n,i,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function qc(e){var t=ft();return Yc(t,Fe,e)}function Yc(e,t,a){if(t=Gr(e,t,Lc)[0],e=ei(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=$s(t)}catch(r){throw r===ls?Vn:r}else s=t;t=ft();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(De.flags|=2048,os(9,{destroy:void 0},Xm.bind(null,n,a),null)),[s,i,e]}function Xm(e,t){e.action=t}function Gc(e){var t=ft(),a=Fe;if(a!==null)return Yc(t,a,e);ft(),t=t.memoizedState,a=ft();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function os(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=De.updateQueue,t===null&&(t=Wn(),De.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Qc(){return ft().memoizedState}function ti(e,t,a,s){var n=Ht();De.flags|=e,n.memoizedState=os(1|t,{destroy:void 0},a,s===void 0?null:s)}function ai(e,t,a,s){var n=ft();s=s===void 0?null:s;var i=n.memoizedState.inst;Fe!==null&&s!==null&&Hr(s,Fe.memoizedState.deps)?n.memoizedState=os(t,i,a,s):(De.flags|=e,n.memoizedState=os(1|t,i,a,s))}function Vc(e,t){ti(8390656,8,e,t)}function Zr(e,t){ai(2048,8,e,t)}function Zm(e){De.flags|=4;var t=De.updateQueue;if(t===null)t=Wn(),De.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Xc(e){var t=ft().memoizedState;return Zm({ref:t,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Zc(e,t){return ai(4,2,e,t)}function $c(e,t){return ai(4,4,e,t)}function Kc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jc(e,t,a){a=a!=null?a.concat([e]):null,ai(4,4,Kc.bind(null,t,e),a)}function $r(){}function Fc(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Hr(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Ic(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Hr(t,s[1]))return s[0];if(s=e(),Ml){Et(!0);try{e()}finally{Et(!1)}}return a.memoizedState=[s,t],s}function Kr(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=W0(),De.lanes|=e,el|=e,a)}function Wc(e,t,a,s){return Xt(a,t)?a:ns.current!==null?(e=Kr(e,a,s),Xt(e,t)||(gt=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(Ue&261930)===0?(gt=!0,e.memoizedState=a):(e=W0(),De.lanes|=e,el|=e,t)}function Pc(e,t,a,s,n){var i=U.p;U.p=i!==0&&8>i?i:8;var r=y.T,o={};y.T=o,Ir(e,!1,t,a);try{var f=n(),N=y.S;if(N!==null&&N(o,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var T=Ym(f,s);Ks(e,t,T,It(e))}else Ks(e,t,s,It(e))}catch(O){Ks(e,t,{then:function(){},status:"rejected",reason:O},It())}finally{U.p=i,r!==null&&o.types!==null&&(r.types=o.types),y.T=r}}function $m(){}function Jr(e,t,a,s){if(e.tag!==5)throw Error(c(476));var n=e0(e).queue;Pc(e,n,t,I,a===null?$m:function(){return t0(e),a(s)})}function e0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function t0(e){var t=e0(e);t.next===null&&(t=e.alternate.memoizedState),Ks(e,t.next.queue,{},It())}function Fr(){return Dt(fn)}function a0(){return ft().memoizedState}function l0(){return ft().memoizedState}function Km(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=It();e=Ka(a);var s=Ja(t,e,a);s!==null&&(Qt(s,t,a),Qs(s,t,a)),t={cache:Sr()},e.payload=t;return}t=t.return}}function Jm(e,t,a){var s=It();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},li(e)?n0(t,a):(a=xr(e,t,a,s),a!==null&&(Qt(a,e,s),i0(a,t,s)))}function s0(e,t,a){var s=It();Ks(e,t,a,s)}function Ks(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(li(e))n0(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,o=i(r,a);if(n.hasEagerState=!0,n.eagerState=o,Xt(o,r))return Un(e,t,n,0),tt===null&&Hn(),!1}catch{}finally{}if(a=xr(e,t,n,s),a!==null)return Qt(a,e,s),i0(a,t,s),!0}return!1}function Ir(e,t,a,s){if(s={lane:2,revertLane:Mo(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},li(e)){if(t)throw Error(c(479))}else t=xr(e,a,s,2),t!==null&&Qt(t,e,2)}function li(e){var t=e.alternate;return e===De||t!==null&&t===De}function n0(e,t){is=Fn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function i0(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ot(e,a)}}var Js={readContext:Dt,use:Pn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Js.useEffectEvent=dt;var r0={readContext:Dt,use:Pn,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Vc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ti(4194308,4,Kc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){ti(4,2,e,t)},useMemo:function(e,t){var a=Ht();t=t===void 0?null:t;var s=e();if(Ml){Et(!0);try{e()}finally{Et(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ht();if(a!==void 0){var n=a(t);if(Ml){Et(!0);try{a(t)}finally{Et(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Jm.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Vr(e);var t=e.queue,a=s0.bind(null,De,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$r,useDeferredValue:function(e,t){var a=Ht();return Kr(a,e,t)},useTransition:function(){var e=Vr(!1);return e=Pc.bind(null,De,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=De,n=Ht();if(Ye){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),tt===null)throw Error(c(349));(Ue&127)!==0||Dc(s,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,Vc(Mc.bind(null,s,i,e),[e]),s.flags|=2048,os(9,{destroy:void 0},Ac.bind(null,s,i,a,t),null),a},useId:function(){var e=Ht(),t=tt.identifierPrefix;if(Ye){var a=ma,s=fa;a=(s&~(1<<32-kt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=In++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Gm++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fr,useFormState:Bc,useActionState:Bc,useOptimistic:function(e){var t=Ht();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ir.bind(null,De,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yr,useCacheRefresh:function(){return Ht().memoizedState=Km.bind(null,De)},useEffectEvent:function(e){var t=Ht(),a={impl:e};return t.memoizedState=a,function(){if((Xe&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Wr={readContext:Dt,use:Pn,useCallback:Fc,useContext:Dt,useEffect:Zr,useImperativeHandle:Jc,useInsertionEffect:Zc,useLayoutEffect:$c,useMemo:Ic,useReducer:ei,useRef:Qc,useState:function(){return ei(Ca)},useDebugValue:$r,useDeferredValue:function(e,t){var a=ft();return Wc(a,Fe.memoizedState,e,t)},useTransition:function(){var e=ei(Ca)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:zc,useId:a0,useHostTransitionStatus:Fr,useFormState:qc,useActionState:qc,useOptimistic:function(e,t){var a=ft();return Ec(a,Fe,e,t)},useMemoCache:Yr,useCacheRefresh:l0};Wr.useEffectEvent=Xc;var o0={readContext:Dt,use:Pn,useCallback:Fc,useContext:Dt,useEffect:Zr,useImperativeHandle:Jc,useInsertionEffect:Zc,useLayoutEffect:$c,useMemo:Ic,useReducer:Qr,useRef:Qc,useState:function(){return Qr(Ca)},useDebugValue:$r,useDeferredValue:function(e,t){var a=ft();return Fe===null?Kr(a,e,t):Wc(a,Fe.memoizedState,e,t)},useTransition:function(){var e=Qr(Ca)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:zc,useId:a0,useHostTransitionStatus:Fr,useFormState:Gc,useActionState:Gc,useOptimistic:function(e,t){var a=ft();return Fe!==null?Ec(a,Fe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yr,useCacheRefresh:l0};o0.useEffectEvent=Xc;function Pr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:A({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var eo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=It(),n=Ka(s);n.payload=t,a!=null&&(n.callback=a),t=Ja(e,n,s),t!==null&&(Qt(t,e,s),Qs(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=It(),n=Ka(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ja(e,n,s),t!==null&&(Qt(t,e,s),Qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=It(),s=Ka(a);s.tag=2,t!=null&&(s.callback=t),t=Ja(e,s,a),t!==null&&(Qt(t,e,a),Qs(t,e,a))}};function d0(e,t,a,s,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,r):t.prototype&&t.prototype.isPureReactComponent?!Rs(a,s)||!Rs(n,i):!0}function c0(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function _l(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=A({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function u0(e){Rn(e)}function f0(e){console.error(e)}function m0(e){Rn(e)}function si(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function x0(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function to(e,t,a){return a=Ka(a),a.tag=3,a.payload={element:null},a.callback=function(){si(e,t)},a}function h0(e){return e=Ka(e),e.tag=3,e}function g0(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){x0(t,a,s)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){x0(t,a,s),typeof n!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function Fm(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&es(t,a,n,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return ia===null?gi():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Xn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),zo(e,s,n)),!1;case 22:return a.flags|=65536,s===Xn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),zo(e,s,n)),!1}throw Error(c(435,a.tag))}return zo(e,s,n),gi(),!1}if(Ye)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==yr&&(e=Error(c(422),{cause:s}),Ls(aa(e,a)))):(s!==yr&&(t=Error(c(423),{cause:s}),Ls(aa(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=aa(s,a),n=to(e.stateNode,s,n),_r(e,n),ct!==4&&(ct=2)),!1;var i=Error(c(520),{cause:s});if(i=aa(i,a),ln===null?ln=[i]:ln.push(i),ct!==4&&(ct=2),t===null)return!0;s=aa(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=to(a.stateNode,s,e),_r(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=h0(n),g0(n,e,a,s),_r(a,n),!1}a=a.return}while(a!==null);return!1}var ao=Error(c(461)),gt=!1;function At(e,t,a,s){t.child=e===null?yc(t,null,a,s):Al(t,e.child,a,s)}function b0(e,t,a,s,n){a=a.render;var i=t.ref;if("ref"in s){var r={};for(var o in s)o!=="ref"&&(r[o]=s[o])}else r=s;return Sl(t),s=Ur(e,t,a,r,i,n),o=Lr(),e!==null&&!gt?(Br(e,t,n),za(e,t,n)):(Ye&&o&&pr(t),t.flags|=1,At(e,t,s,n),t.child)}function p0(e,t,a,s,n){if(e===null){var i=a.type;return typeof i=="function"&&!hr(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,v0(e,t,i,s,n)):(e=Bn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!uo(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Rs,a(r,s)&&e.ref===t.ref)return za(e,t,n)}return t.flags|=1,e=ja(i,s),e.ref=t.ref,e.return=t,t.child=e}function v0(e,t,a,s,n){if(e!==null){var i=e.memoizedProps;if(Rs(i,s)&&e.ref===t.ref)if(gt=!1,t.pendingProps=s=i,uo(e,n))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,za(e,t,n)}return lo(e,t,a,s,n)}function y0(e,t,a,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return j0(e,t,i,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qn(t,i!==null?i.cachePool:null),i!==null?kc(t,i):Er(),wc(t);else return s=t.lanes=536870912,j0(e,t,i!==null?i.baseLanes|a:a,a,s)}else i!==null?(Qn(t,i.cachePool),kc(t,i),Ia(),t.memoizedState=null):(e!==null&&Qn(t,null),Er(),Ia());return At(e,t,n,a),t.child}function Fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function j0(e,t,a,s,n){var i=zr();return i=i===null?null:{parent:xt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Qn(t,null),Er(),wc(t),e!==null&&es(e,t,s,!0),t.childLanes=n,null}function ni(e,t){return t=ri({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function N0(e,t,a){return Al(t,e.child,null,a),e=ni(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function Im(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(s.mode==="hidden")return e=ni(t,s),t.lanes=536870912,Fs(null,e);if(Rr(t),(e=nt)?(e=Ou(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qa!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=nc(e),a.return=t,t.child=a,zt=t,nt=null)):e=null,e===null)throw Xa(t);return t.lanes=536870912,null}return ni(t,s)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Rr(t),n)if(t.flags&256)t.flags&=-257,t=N0(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(gt||es(e,t,a,!1),n=(a&e.childLanes)!==0,gt||n){if(s=tt,s!==null&&(r=hl(s,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,jl(e,r),Qt(s,e,r),ao;gi(),t=N0(e,t,a)}else e=i.treeContext,nt=ra(r.nextSibling),zt=t,Ye=!0,Va=null,na=!1,e!==null&&oc(t,e),t=ni(t,s),t.flags|=4096;return t}return e=ja(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ii(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function lo(e,t,a,s,n){return Sl(t),a=Ur(e,t,a,s,void 0,n),s=Lr(),e!==null&&!gt?(Br(e,t,n),za(e,t,n)):(Ye&&s&&pr(t),t.flags|=1,At(e,t,a,n),t.child)}function k0(e,t,a,s,n,i){return Sl(t),t.updateQueue=null,a=Cc(t,s,a,n),Sc(e),s=Lr(),e!==null&&!gt?(Br(e,t,i),za(e,t,i)):(Ye&&s&&pr(t),t.flags|=1,At(e,t,a,i),t.child)}function w0(e,t,a,s,n){if(Sl(t),t.stateNode===null){var i=Fl,r=a.contextType;typeof r=="object"&&r!==null&&(i=Dt(r)),i=new a(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Ar(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Dt(r):Fl,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Pr(t,a,r,s),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&eo.enqueueReplaceState(i,i.state,null),Xs(t,s,i,n),Vs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,f=_l(a,o);i.props=f;var N=i.context,T=a.contextType;r=Fl,typeof T=="object"&&T!==null&&(r=Dt(T));var O=a.getDerivedStateFromProps;T=typeof O=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,T||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||N!==r)&&c0(t,i,s,r),$a=!1;var k=t.memoizedState;i.state=k,Xs(t,s,i,n),Vs(),N=t.memoizedState,o||k!==N||$a?(typeof O=="function"&&(Pr(t,a,O,s),N=t.memoizedState),(f=$a||d0(t,a,f,s,k,N,r))?(T||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),i.props=s,i.state=N,i.context=r,s=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Mr(e,t),r=t.memoizedProps,T=_l(a,r),i.props=T,O=t.pendingProps,k=i.context,N=a.contextType,f=Fl,typeof N=="object"&&N!==null&&(f=Dt(N)),o=a.getDerivedStateFromProps,(N=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==O||k!==f)&&c0(t,i,s,f),$a=!1,k=t.memoizedState,i.state=k,Xs(t,s,i,n),Vs();var C=t.memoizedState;r!==O||k!==C||$a||e!==null&&e.dependencies!==null&&Yn(e.dependencies)?(typeof o=="function"&&(Pr(t,a,o,s),C=t.memoizedState),(T=$a||d0(t,a,T,s,k,C,f)||e!==null&&e.dependencies!==null&&Yn(e.dependencies))?(N||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,C,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,C,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=C),i.props=s,i.state=C,i.context=f,s=T):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,ii(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Al(t,e.child,null,n),t.child=Al(t,null,a,n)):At(e,t,a,n),t.memoizedState=i.state,e=t.child):e=za(e,t,n),e}function S0(e,t,a,s){return kl(),t.flags|=256,At(e,t,a,s),t.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function no(e){return{baseLanes:e,cachePool:xc()}}function io(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ft),e}function C0(e,t,a){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(n?Fa(t):Ia(),(e=nt)?(e=Ou(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qa!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=nc(e),a.return=t,t.child=a,zt=t,nt=null)):e=null,e===null)throw Xa(t);return Qo(e)?t.lanes=32:t.lanes=536870912,null}var o=s.children;return s=s.fallback,n?(Ia(),n=t.mode,o=ri({mode:"hidden",children:o},n),s=Nl(s,n,a,null),o.return=t,s.return=t,o.sibling=s,t.child=o,s=t.child,s.memoizedState=no(a),s.childLanes=io(e,r,a),t.memoizedState=so,Fs(null,s)):(Fa(t),ro(t,o))}var f=e.memoizedState;if(f!==null&&(o=f.dehydrated,o!==null)){if(i)t.flags&256?(Fa(t),t.flags&=-257,t=oo(e,t,a)):t.memoizedState!==null?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),o=s.fallback,n=t.mode,s=ri({mode:"visible",children:s.children},n),o=Nl(o,n,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,Al(t,e.child,null,a),s=t.child,s.memoizedState=no(a),s.childLanes=io(e,r,a),t.memoizedState=so,t=Fs(null,s));else if(Fa(t),Qo(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var N=r.dgst;r=N,s=Error(c(419)),s.stack="",s.digest=r,Ls({value:s,source:null,stack:null}),t=oo(e,t,a)}else if(gt||es(e,t,a,!1),r=(a&e.childLanes)!==0,gt||r){if(r=tt,r!==null&&(s=hl(r,a),s!==0&&s!==f.retryLane))throw f.retryLane=s,jl(e,s),Qt(r,e,s),ao;Go(o)||gi(),t=oo(e,t,a)}else Go(o)?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,nt=ra(o.nextSibling),zt=t,Ye=!0,Va=null,na=!1,e!==null&&oc(t,e),t=ro(t,s.children),t.flags|=4096);return t}return n?(Ia(),o=s.fallback,n=t.mode,f=e.child,N=f.sibling,s=ja(f,{mode:"hidden",children:s.children}),s.subtreeFlags=f.subtreeFlags&65011712,N!==null?o=ja(N,o):(o=Nl(o,n,a,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,Fs(null,s),s=t.child,o=e.child.memoizedState,o===null?o=no(a):(n=o.cachePool,n!==null?(f=xt._currentValue,n=n.parent!==f?{parent:f,pool:f}:n):n=xc(),o={baseLanes:o.baseLanes|a,cachePool:n}),s.memoizedState=o,s.childLanes=io(e,r,a),t.memoizedState=so,Fs(e.child,s)):(Fa(t),a=e.child,e=a.sibling,a=ja(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function ro(e,t){return t=ri({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ri(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function oo(e,t,a){return Al(t,e.child,null,a),e=ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z0(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),kr(e.return,t,a)}function co(e,t,a,s,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function D0(e,t,a){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var r=ut.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,Y(ut,r),At(e,t,s,a),s=Ye?Us:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z0(e,a,t);else if(e.tag===19)z0(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Jn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),co(t,!1,n,a,i,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Jn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}co(t,!0,a,null,i,s);break;case"together":co(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function za(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),el|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(es(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function uo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Yn(e)))}function Wm(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),Za(t,xt,e.memoizedState.cache),kl();break;case 27:case 5:mt(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Rr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?C0(e,t,a):(Fa(t),e=za(e,t,a),e!==null?e.sibling:null);Fa(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(es(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return D0(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Y(ut,ut.current),s)break;return null;case 22:return t.lanes=0,y0(e,t,a,t.pendingProps);case 24:Za(t,xt,e.memoizedState.cache)}return za(e,t,a)}function A0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!uo(e,a)&&(t.flags&128)===0)return gt=!1,Wm(e,t,a);gt=(e.flags&131072)!==0}else gt=!1,Ye&&(t.flags&1048576)!==0&&rc(t,Us,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=zl(t.elementType),t.type=e,typeof e=="function")hr(e)?(s=_l(e,s),t.tag=1,t=w0(null,t,e,s,a)):(t.tag=0,t=lo(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===ne){t.tag=11,t=b0(null,t,e,s,a);break e}else if(n===q){t.tag=14,t=p0(null,t,e,s,a);break e}}throw t=J(e)||e,Error(c(306,t,""))}}return t;case 0:return lo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=_l(s,t.pendingProps),w0(e,t,s,n,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,Mr(e,t),Xs(t,s,null,a);var r=t.memoizedState;if(s=r.cache,Za(t,xt,s),s!==i.cache&&wr(t,[xt],a,!0),Vs(),s=r.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=S0(e,t,s,a);break e}else if(s!==n){n=aa(Error(c(424)),t),Ls(n),t=S0(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=ra(e.firstChild),zt=t,Ye=!0,Va=null,na=!0,a=yc(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(kl(),s===n){t=za(e,t,a);break e}At(e,t,s,a)}t=t.child}return t;case 26:return ii(e,t),e===null?(a=qu(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ye||(a=t.type,e=t.pendingProps,s=ki(B.current).createElement(a),s[st]=t,s[ot]=e,Mt(s,a,e),wt(s),t.stateNode=s):t.memoizedState=qu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mt(t),e===null&&Ye&&(s=t.stateNode=Uu(t.type,t.pendingProps,B.current),zt=t,na=!0,n=nt,nl(t.type)?(Vo=n,nt=ra(s.firstChild)):nt=n),At(e,t,t.pendingProps.children,a),ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((n=s=nt)&&(s=Dx(s,t.type,t.pendingProps,na),s!==null?(t.stateNode=s,zt=t,nt=ra(s.firstChild),na=!1,n=!0):n=!1),n||Xa(t)),mt(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,Bo(n,i)?s=null:r!==null&&Bo(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Ur(e,t,Qm,null,null,a),fn._currentValue=n),ii(e,t),At(e,t,s,a),t.child;case 6:return e===null&&Ye&&((e=a=nt)&&(a=Ax(a,t.pendingProps,na),a!==null?(t.stateNode=a,zt=t,nt=null,e=!0):e=!1),e||Xa(t)),null;case 13:return C0(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Al(t,null,s,a):At(e,t,s,a),t.child;case 11:return b0(e,t,t.type,t.pendingProps,a);case 7:return At(e,t,t.pendingProps,a),t.child;case 8:return At(e,t,t.pendingProps.children,a),t.child;case 12:return At(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Za(t,t.type,s.value),At(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Sl(t),n=Dt(n),s=s(n),t.flags|=1,At(e,t,s,a),t.child;case 14:return p0(e,t,t.type,t.pendingProps,a);case 15:return v0(e,t,t.type,t.pendingProps,a);case 19:return D0(e,t,a);case 31:return Im(e,t,a);case 22:return y0(e,t,a,t.pendingProps);case 24:return Sl(t),s=Dt(xt),e===null?(n=zr(),n===null&&(n=tt,i=Sr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:s,cache:n},Ar(t),Za(t,xt,n)):((e.lanes&a)!==0&&(Mr(e,t),Xs(t,null,null,a),Vs()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Za(t,xt,s)):(s=i.cache,Za(t,xt,s),s!==n.cache&&wr(t,[xt],a,!0))),At(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Da(e){e.flags|=4}function fo(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(au())e.flags|=8192;else throw Dl=Xn,Dr}else e.flags&=-16777217}function M0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xu(t))if(au())e.flags|=8192;else throw Dl=Xn,Dr}function oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wn():536870912,e.lanes|=t,fs|=t)}function Is(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Pm(e,t,a){var s=t.pendingProps;switch(vr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),wa(xt),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?Da(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jr())),it(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Da(t),i!==null?(it(t),M0(t,i)):(it(t),fo(t,n,null,s,a))):i?i!==e.memoizedState?(Da(t),it(t),M0(t,i)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Da(t),it(t),fo(t,n,e,s,a)),null;case 27:if(_(t),a=B.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Da(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return it(t),null}e=ee.current,Pl(t)?dc(t):(e=Uu(n,s,a),t.stateNode=e,Da(t))}return it(t),null;case 5:if(_(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Da(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return it(t),null}if(i=ee.current,Pl(t))dc(t);else{var r=ki(B.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}i[st]=t,i[ot]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Mt(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Da(t)}}return it(t),fo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Da(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=B.current,Pl(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=zt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[st]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Cu(e.nodeValue,a)),e||Xa(t,!0)}else e=ki(e).createTextNode(s),e[st]=t,t.stateNode=e}return it(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Pl(t),a!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[st]=t}else kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else a=jr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return it(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Pl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[st]=t}else kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),n=!1}else n=jr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),oi(t,t.updateQueue),it(t),null);case 4:return Ae(),e===null&&Oo(t.stateNode.containerInfo),it(t),null;case 10:return wa(t.type),it(t),null;case 19:if(w(ut),s=t.memoizedState,s===null)return it(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Is(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Jn(e),i!==null){for(t.flags|=128,Is(s,!1),e=i.updateQueue,t.updateQueue=e,oi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)sc(a,e),a=a.sibling;return Y(ut,ut.current&1|2),Ye&&Na(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Ee()>mi&&(t.flags|=128,n=!0,Is(s,!1),t.lanes=4194304)}else{if(!n)if(e=Jn(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,oi(t,e),Is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ye)return it(t),null}else 2*Ee()-s.renderingStartTime>mi&&a!==536870912&&(t.flags|=128,n=!0,Is(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ee(),e.sibling=null,a=ut.current,Y(ut,n?a&1|2:a&1),Ye&&Na(t,s.treeForkCount),e):(it(t),null);case 22:case 23:return Kt(t),Or(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),a=t.updateQueue,a!==null&&oi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&w(Cl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(xt),it(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ex(e,t){switch(vr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(xt),Ae(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(c(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return w(ut),null;case 4:return Ae(),null;case 10:return wa(t.type),null;case 22:case 23:return Kt(t),Or(),e!==null&&w(Cl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(xt),null;case 25:return null;default:return null}}function _0(e,t){switch(vr(t),t.tag){case 3:wa(xt),Ae();break;case 26:case 27:case 5:_(t);break;case 4:Ae();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:w(ut);break;case 10:wa(t.type);break;case 22:case 23:Kt(t),Or(),e!==null&&w(Cl);break;case 24:wa(xt)}}function Ws(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var i=a.create,r=a.inst;s=i(),r.destroy=s}a=a.next}while(a!==n)}}catch(o){Ke(t,t.return,o)}}function Wa(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var r=s.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,n=t;var f=a,N=o;try{N()}catch(T){Ke(n,f,T)}}}s=s.next}while(s!==i)}}catch(T){Ke(t,t.return,T)}}function T0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Nc(t,a)}catch(s){Ke(e,e.return,s)}}}function E0(e,t,a){a.props=_l(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ke(e,t,s)}}function Ps(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){Ke(e,t,n)}}function xa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){Ke(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ke(e,t,n)}else a.current=null}function O0(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){Ke(e,e.return,n)}}function mo(e,t,a){try{var s=e.stateNode;Nx(s,e.type,a,t),s[ot]=t}catch(n){Ke(e,e.return,n)}}function R0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nl(e.type)||e.tag===4}function xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ho(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=va));else if(s!==4&&(s===27&&nl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ho(e,t,a),e=e.sibling;e!==null;)ho(e,t,a),e=e.sibling}function di(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&nl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(di(e,t,a),e=e.sibling;e!==null;)di(e,t,a),e=e.sibling}function H0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mt(t,s,a),t[st]=e,t[ot]=a}catch(i){Ke(e,e.return,i)}}var Aa=!1,bt=!1,go=!1,U0=typeof WeakSet=="function"?WeakSet:Set,St=null;function tx(e,t){if(e=e.containerInfo,Uo=Mi,e=Jd(e),or(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,o=-1,f=-1,N=0,T=0,O=e,k=null;t:for(;;){for(var C;O!==a||n!==0&&O.nodeType!==3||(o=r+n),O!==i||s!==0&&O.nodeType!==3||(f=r+s),O.nodeType===3&&(r+=O.nodeValue.length),(C=O.firstChild)!==null;)k=O,O=C;for(;;){if(O===e)break t;if(k===a&&++N===n&&(o=r),k===i&&++T===s&&(f=r),(C=O.nextSibling)!==null)break;O=k,k=O.parentNode}O=C}a=o===-1||f===-1?null:{start:o,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lo={focusedElem:e,selectionRange:a},Mi=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){switch(t=St,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,s=a.stateNode;try{var de=_l(a.type,n);e=s.getSnapshotBeforeUpdate(de,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ke(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Yo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}}function L0(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:_a(e,a),s&4&&Ws(5,a);break;case 1:if(_a(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Ke(a,a.return,r)}else{var n=_l(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ke(a,a.return,r)}}s&64&&T0(a),s&512&&Ps(a,a.return);break;case 3:if(_a(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Nc(e,t)}catch(r){Ke(a,a.return,r)}}break;case 27:t===null&&s&4&&H0(a);case 26:case 5:_a(e,a),t===null&&s&4&&O0(a),s&512&&Ps(a,a.return);break;case 12:_a(e,a);break;case 31:_a(e,a),s&4&&Y0(e,a);break;case 13:_a(e,a),s&4&&G0(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cx.bind(null,a),Mx(e,a))));break;case 22:if(s=a.memoizedState!==null||Aa,!s){t=t!==null&&t.memoizedState!==null||bt,n=Aa;var i=bt;Aa=s,(bt=t)&&!i?Ta(e,a,(a.subtreeFlags&8772)!==0):_a(e,a),Aa=n,bt=i}break;case 30:break;default:_a(e,a)}}function B0(e){var t=e.alternate;t!==null&&(e.alternate=null,B0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Bt=!1;function Ma(e,t,a){for(a=a.child;a!==null;)q0(e,t,a),a=a.sibling}function q0(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:bt||xa(a,t),Ma(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||xa(a,t);var s=rt,n=Bt;nl(a.type)&&(rt=a.stateNode,Bt=!1),Ma(e,t,a),dn(a.stateNode),rt=s,Bt=n;break;case 5:bt||xa(a,t);case 6:if(s=rt,n=Bt,rt=null,Ma(e,t,a),rt=s,Bt=n,rt!==null)if(Bt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(i){Ke(a,t,i)}else try{rt.removeChild(a.stateNode)}catch(i){Ke(a,t,i)}break;case 18:rt!==null&&(Bt?(e=rt,Tu(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ys(e)):Tu(rt,a.stateNode));break;case 4:s=rt,n=Bt,rt=a.stateNode.containerInfo,Bt=!0,Ma(e,t,a),rt=s,Bt=n;break;case 0:case 11:case 14:case 15:Wa(2,a,t),bt||Wa(4,a,t),Ma(e,t,a);break;case 1:bt||(xa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&E0(a,t,s)),Ma(e,t,a);break;case 21:Ma(e,t,a);break;case 22:bt=(s=bt)||a.memoizedState!==null,Ma(e,t,a),bt=s;break;default:Ma(e,t,a)}}function Y0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(a){Ke(t,t.return,a)}}}function G0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(a){Ke(t,t.return,a)}}function ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new U0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new U0),t;default:throw Error(c(435,e.tag))}}function ci(e,t){var a=ax(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=ux.bind(null,e,s);s.then(n,n)}})}function qt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],i=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(nl(o.type)){rt=o.stateNode,Bt=!1;break e}break;case 5:rt=o.stateNode,Bt=!1;break e;case 3:case 4:rt=o.stateNode.containerInfo,Bt=!0;break e}o=o.return}if(rt===null)throw Error(c(160));q0(i,r,n),rt=null,Bt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Q0(t,e),t=t.sibling}var ca=null;function Q0(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Yt(e),s&4&&(Wa(3,e,e.return),Ws(3,e),Wa(5,e,e.return));break;case 1:qt(t,e),Yt(e),s&512&&(bt||a===null||xa(a,a.return)),s&64&&Aa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=ca;if(qt(t,e),Yt(e),s&512&&(bt||a===null||xa(a,a.return)),s&4){var i=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Cs]||i[st]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),Mt(i,s,a),i[st]=e,wt(i),s=i;break e;case"link":var r=Qu("link","href",n).get(s+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(i=r[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}i=n.createElement(s),Mt(i,s,a),n.head.appendChild(i);break;case"meta":if(r=Qu("meta","content",n).get(s+(a.content||""))){for(o=0;o<r.length;o++)if(i=r[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}i=n.createElement(s),Mt(i,s,a),n.head.appendChild(i);break;default:throw Error(c(468,s))}i[st]=e,wt(i),s=i}e.stateNode=s}else Vu(n,e.type,e.stateNode);else e.stateNode=Gu(n,s,e.memoizedProps);else i!==s?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,s===null?Vu(n,e.type,e.stateNode):Gu(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&mo(e,e.memoizedProps,a.memoizedProps)}break;case 27:qt(t,e),Yt(e),s&512&&(bt||a===null||xa(a,a.return)),a!==null&&s&4&&mo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qt(t,e),Yt(e),s&512&&(bt||a===null||xa(a,a.return)),e.flags&32){n=e.stateNode;try{Ql(n,"")}catch(de){Ke(e,e.return,de)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,mo(e,n,a!==null?a.memoizedProps:n)),s&1024&&(go=!0);break;case 6:if(qt(t,e),Yt(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(de){Ke(e,e.return,de)}}break;case 3:if(Ci=null,n=ca,ca=wi(t.containerInfo),qt(t,e),ca=n,Yt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(de){Ke(e,e.return,de)}go&&(go=!1,V0(e));break;case 4:s=ca,ca=wi(e.stateNode.containerInfo),qt(t,e),Yt(e),ca=s;break;case 12:qt(t,e),Yt(e);break;case 31:qt(t,e),Yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ci(e,s)));break;case 13:qt(t,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fi=Ee()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ci(e,s)));break;case 22:n=e.memoizedState!==null;var f=a!==null&&a.memoizedState!==null,N=Aa,T=bt;if(Aa=N||n,bt=T||f,qt(t,e),bt=T,Aa=N,Yt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||f||Aa||bt||Tl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){f=a=t;try{if(i=f.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=f.stateNode;var O=f.memoizedProps.style,k=O!=null&&O.hasOwnProperty("display")?O.display:null;o.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(de){Ke(f,f.return,de)}}}else if(t.tag===6){if(a===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(de){Ke(f,f.return,de)}}}else if(t.tag===18){if(a===null){f=t;try{var C=f.stateNode;n?Eu(C,!0):Eu(f.stateNode,!1)}catch(de){Ke(f,f.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ci(e,a))));break;case 19:qt(t,e),Yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ci(e,s)));break;case 30:break;case 21:break;default:qt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(R0(s)){a=s;break}s=s.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var n=a.stateNode,i=xo(e);di(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(Ql(r,""),a.flags&=-33);var o=xo(e);di(e,o,r);break;case 3:case 4:var f=a.stateNode.containerInfo,N=xo(e);ho(e,N,f);break;default:throw Error(c(161))}}catch(T){Ke(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;V0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)L0(e,t.alternate,t),t=t.sibling}function Tl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wa(4,t,t.return),Tl(t);break;case 1:xa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&E0(t,t.return,a),Tl(t);break;case 27:dn(t.stateNode);case 26:case 5:xa(t,t.return),Tl(t);break;case 22:t.memoizedState===null&&Tl(t);break;case 30:Tl(t);break;default:Tl(t)}e=e.sibling}}function Ta(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:Ta(n,i,a),Ws(4,i);break;case 1:if(Ta(n,i,a),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(N){Ke(s,s.return,N)}if(s=i,n=s.updateQueue,n!==null){var o=s.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)jc(f[n],o)}catch(N){Ke(s,s.return,N)}}a&&r&64&&T0(i),Ps(i,i.return);break;case 27:H0(i);case 26:case 5:Ta(n,i,a),a&&s===null&&r&4&&O0(i),Ps(i,i.return);break;case 12:Ta(n,i,a);break;case 31:Ta(n,i,a),a&&r&4&&Y0(n,i);break;case 13:Ta(n,i,a),a&&r&4&&G0(n,i);break;case 22:i.memoizedState===null&&Ta(n,i,a),Ps(i,i.return);break;case 30:break;default:Ta(n,i,a)}t=t.sibling}}function bo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bs(a))}function po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bs(e))}function ua(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X0(e,t,a,s),t=t.sibling}function X0(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ua(e,t,a,s),n&2048&&Ws(9,t);break;case 1:ua(e,t,a,s);break;case 3:ua(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bs(e)));break;case 12:if(n&2048){ua(e,t,a,s),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,o=i.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){Ke(t,t.return,f)}}else ua(e,t,a,s);break;case 31:ua(e,t,a,s);break;case 13:ua(e,t,a,s);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?ua(e,t,a,s):en(e,t):i._visibility&2?ua(e,t,a,s):(i._visibility|=2,ds(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&bo(r,t);break;case 24:ua(e,t,a,s),n&2048&&po(t.alternate,t);break;default:ua(e,t,a,s)}}function ds(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,o=a,f=s,N=r.flags;switch(r.tag){case 0:case 11:case 15:ds(i,r,o,f,n),Ws(8,r);break;case 23:break;case 22:var T=r.stateNode;r.memoizedState!==null?T._visibility&2?ds(i,r,o,f,n):en(i,r):(T._visibility|=2,ds(i,r,o,f,n)),n&&N&2048&&bo(r.alternate,r);break;case 24:ds(i,r,o,f,n),n&&N&2048&&po(r.alternate,r);break;default:ds(i,r,o,f,n)}t=t.sibling}}function en(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:en(a,s),n&2048&&bo(s.alternate,s);break;case 24:en(a,s),n&2048&&po(s.alternate,s);break;default:en(a,s)}t=t.sibling}}var tn=8192;function cs(e,t,a){if(e.subtreeFlags&tn)for(e=e.child;e!==null;)Z0(e,t,a),e=e.sibling}function Z0(e,t,a){switch(e.tag){case 26:cs(e,t,a),e.flags&tn&&e.memoizedState!==null&&Gx(a,ca,e.memoizedState,e.memoizedProps);break;case 5:cs(e,t,a);break;case 3:case 4:var s=ca;ca=wi(e.stateNode.containerInfo),cs(e,t,a),ca=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=tn,tn=16777216,cs(e,t,a),tn=s):cs(e,t,a));break;default:cs(e,t,a)}}function $0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function an(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];St=s,J0(s,e)}$0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)K0(e),e=e.sibling}function K0(e){switch(e.tag){case 0:case 11:case 15:an(e),e.flags&2048&&Wa(9,e,e.return);break;case 3:an(e);break;case 12:an(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ui(e)):an(e);break;default:an(e)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];St=s,J0(s,e)}$0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wa(8,t,t.return),ui(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ui(t));break;default:ui(t)}e=e.sibling}}function J0(e,t){for(;St!==null;){var a=St;switch(a.tag){case 0:case 11:case 15:Wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Bs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,St=s;else e:for(a=e;St!==null;){s=St;var n=s.sibling,i=s.return;if(B0(s),s===a){St=null;break e}if(n!==null){n.return=i,St=n;break e}St=i}}}var lx={getCacheForType:function(e){var t=Dt(xt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Dt(xt).controller.signal}},sx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,tt=null,Oe=null,Ue=0,$e=0,Jt=null,Pa=!1,us=!1,vo=!1,Ea=0,ct=0,el=0,El=0,yo=0,Ft=0,fs=0,ln=null,Gt=null,jo=!1,fi=0,F0=0,mi=1/0,xi=null,tl=null,vt=0,al=null,ms=null,Oa=0,No=0,ko=null,I0=null,sn=0,wo=null;function It(){return(Xe&2)!==0&&Ue!==0?Ue&-Ue:y.T!==null?Mo():gl()}function W0(){if(Ft===0)if((Ue&536870912)===0||Ye){var e=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),Ft=e}else Ft=536870912;return e=$t.current,e!==null&&(e.flags|=32),Ft}function Qt(e,t,a){(e===tt&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(xs(e,0),ll(e,Ue,Ft,!1)),z(e,a),((Xe&2)===0||e!==tt)&&(e===tt&&((Xe&2)===0&&(El|=a),ct===4&&ll(e,Ue,Ft,!1)),ha(e))}function P0(e,t,a){if((Xe&6)!==0)throw Error(c(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||xl(e,t),n=s?rx(e,t):Co(e,t,!0),i=s;do{if(n===0){us&&!s&&ll(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!nx(a)){n=Co(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;n=ln;var f=o.current.memoizedState.isDehydrated;if(f&&(xs(o,r).flags|=256),r=Co(o,r,!1),r!==2){if(vo&&!f){o.errorRecoveryDisabledLanes|=i,El|=i,n=4;break e}i=Gt,Gt=n,i!==null&&(Gt===null?Gt=i:Gt.push.apply(Gt,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){xs(e,0),ll(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:ll(s,t,Ft,!Pa);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=fi+300-Ee(),10<n)){if(ll(s,t,Ft,!Pa),Hl(s,0,!0)!==0)break e;Oa=t,s.timeoutHandle=Mu(eu.bind(null,s,a,Gt,xi,jo,t,Ft,El,fs,Pa,i,"Throttled",-0,0),n);break e}eu(s,a,Gt,xi,jo,t,Ft,El,fs,Pa,i,null,-0,0)}}break}while(!0);ha(e)}function eu(e,t,a,s,n,i,r,o,f,N,T,O,k,C){if(e.timeoutHandle=-1,O=t.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Z0(t,i,O);var de=(i&62914560)===i?fi-Ee():(i&4194048)===i?F0-Ee():0;if(de=Qx(O,de),de!==null){Oa=i,e.cancelPendingCommit=de(ou.bind(null,e,t,i,a,s,n,r,o,f,T,O,null,k,C)),ll(e,i,r,!N);return}}ou(e,t,i,a,s,n,r,o,f)}function nx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],i=n.getSnapshot;n=n.value;try{if(!Xt(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ll(e,t,a,s){t&=~yo,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-kt(n),r=1<<i;s[i]=-1,n&=~r}a!==0&&et(e,a,t)}function hi(){return(Xe&6)===0?(nn(0),!1):!0}function So(){if(Oe!==null){if($e===0)var e=Oe.return;else e=Oe,ka=wl=null,qr(e),ss=null,Ys=0,e=Oe;for(;e!==null;)_0(e.alternate,e),e=e.return;Oe=null}}function xs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Oa=0,So(),tt=e,Oe=a=ja(e.current,null),Ue=t,$e=0,Jt=null,Pa=!1,us=xl(e,t),vo=!1,fs=Ft=yo=El=el=ct=0,Gt=ln=null,jo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-kt(s),i=1<<n;t|=e[n],s&=~i}return Ea=t,Hn(),a}function tu(e,t){De=null,y.H=Js,t===ls||t===Vn?(t=bc(),$e=3):t===Dr?(t=bc(),$e=4):$e=t===ao?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,Oe===null&&(ct=1,si(e,aa(t,e.current)))}function au(){var e=$t.current;return e===null?!0:(Ue&4194048)===Ue?ia===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===ia:!1}function lu(){var e=y.H;return y.H=Js,e===null?Js:e}function su(){var e=y.A;return y.A=lx,e}function gi(){ct=4,Pa||(Ue&4194048)!==Ue&&$t.current!==null||(us=!0),(el&134217727)===0&&(El&134217727)===0||tt===null||ll(tt,Ue,Ft,!1)}function Co(e,t,a){var s=Xe;Xe|=2;var n=lu(),i=su();(tt!==e||Ue!==t)&&(xi=null,xs(e,t)),t=!1;var r=ct;e:do try{if($e!==0&&Oe!==null){var o=Oe,f=Jt;switch($e){case 8:So(),r=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var N=$e;if($e=0,Jt=null,hs(e,o,f,N),a&&us){r=0;break e}break;default:N=$e,$e=0,Jt=null,hs(e,o,f,N)}}ix(),r=ct;break}catch(T){tu(e,T)}while(!0);return t&&e.shellSuspendCounter++,ka=wl=null,Xe=s,y.H=n,y.A=i,Oe===null&&(tt=null,Ue=0,Hn()),r}function ix(){for(;Oe!==null;)nu(Oe)}function rx(e,t){var a=Xe;Xe|=2;var s=lu(),n=su();tt!==e||Ue!==t?(xi=null,mi=Ee()+500,xs(e,t)):us=xl(e,t);e:do try{if($e!==0&&Oe!==null){t=Oe;var i=Jt;t:switch($e){case 1:$e=0,Jt=null,hs(e,t,i,1);break;case 2:case 9:if(hc(i)){$e=0,Jt=null,iu(t);break}t=function(){$e!==2&&$e!==9||tt!==e||($e=7),ha(e)},i.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:hc(i)?($e=0,Jt=null,iu(t)):($e=0,Jt=null,hs(e,t,i,7));break;case 5:var r=null;switch(Oe.tag){case 26:r=Oe.memoizedState;case 5:case 27:var o=Oe;if(r?Xu(r):o.stateNode.complete){$e=0,Jt=null;var f=o.sibling;if(f!==null)Oe=f;else{var N=o.return;N!==null?(Oe=N,bi(N)):Oe=null}break t}}$e=0,Jt=null,hs(e,t,i,5);break;case 6:$e=0,Jt=null,hs(e,t,i,6);break;case 8:So(),ct=6;break e;default:throw Error(c(462))}}ox();break}catch(T){tu(e,T)}while(!0);return ka=wl=null,y.H=s,y.A=n,Xe=a,Oe!==null?0:(tt=null,Ue=0,Hn(),ct)}function ox(){for(;Oe!==null&&!Pe();)nu(Oe)}function nu(e){var t=A0(e.alternate,e,Ea);e.memoizedProps=e.pendingProps,t===null?bi(e):Oe=t}function iu(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=k0(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=k0(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:qr(t);default:_0(a,t),t=Oe=sc(t,Ea),t=A0(a,t,Ea)}e.memoizedProps=e.pendingProps,t===null?bi(e):Oe=t}function hs(e,t,a,s){ka=wl=null,qr(t),ss=null,Ys=0;var n=t.return;try{if(Fm(e,n,t,a,Ue)){ct=1,si(e,aa(a,e.current)),Oe=null;return}}catch(i){if(n!==null)throw Oe=n,i;ct=1,si(e,aa(a,e.current)),Oe=null;return}t.flags&32768?(Ye||s===1?e=!0:us||(Ue&536870912)!==0?e=!1:(Pa=e=!0,(s===2||s===9||s===3||s===6)&&(s=$t.current,s!==null&&s.tag===13&&(s.flags|=16384))),ru(t,e)):bi(t)}function bi(e){var t=e;do{if((t.flags&32768)!==0){ru(t,Pa);return}e=t.return;var a=Pm(t.alternate,t,Ea);if(a!==null){Oe=a;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ct===0&&(ct=5)}function ru(e,t){do{var a=ex(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);ct=6,Oe=null}function ou(e,t,a,s,n,i,r,o,f){e.cancelPendingCommit=null;do pi();while(vt!==0);if((Xe&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=mr,_e(e,a,i,r,o,f),e===tt&&(Oe=tt=null,Ue=0),ms=t,al=e,Oa=a,No=i,ko=n,I0=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fx(he,function(){return mu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=y.T,y.T=null,n=U.p,U.p=2,r=Xe,Xe|=4;try{tx(e,t,a)}finally{Xe=r,U.p=n,y.T=s}}vt=1,du(),cu(),uu()}}function du(){if(vt===1){vt=0;var e=al,t=ms,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=y.T,y.T=null;var s=U.p;U.p=2;var n=Xe;Xe|=4;try{Q0(t,e);var i=Lo,r=Jd(e.containerInfo),o=i.focusedElem,f=i.selectionRange;if(r!==o&&o&&o.ownerDocument&&Kd(o.ownerDocument.documentElement,o)){if(f!==null&&or(o)){var N=f.start,T=f.end;if(T===void 0&&(T=N),"selectionStart"in o)o.selectionStart=N,o.selectionEnd=Math.min(T,o.value.length);else{var O=o.ownerDocument||document,k=O&&O.defaultView||window;if(k.getSelection){var C=k.getSelection(),de=o.textContent.length,ye=Math.min(f.start,de),We=f.end===void 0?ye:Math.min(f.end,de);!C.extend&&ye>We&&(r=We,We=ye,ye=r);var v=$d(o,ye),g=$d(o,We);if(v&&g&&(C.rangeCount!==1||C.anchorNode!==v.node||C.anchorOffset!==v.offset||C.focusNode!==g.node||C.focusOffset!==g.offset)){var j=O.createRange();j.setStart(v.node,v.offset),C.removeAllRanges(),ye>We?(C.addRange(j),C.extend(g.node,g.offset)):(j.setEnd(g.node,g.offset),C.addRange(j))}}}}for(O=[],C=o;C=C.parentNode;)C.nodeType===1&&O.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<O.length;o++){var E=O[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Mi=!!Uo,Lo=Uo=null}finally{Xe=n,U.p=s,y.T=a}}e.current=t,vt=2}}function cu(){if(vt===2){vt=0;var e=al,t=ms,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=y.T,y.T=null;var s=U.p;U.p=2;var n=Xe;Xe|=4;try{L0(e,t.alternate,t)}finally{Xe=n,U.p=s,y.T=a}}vt=3}}function uu(){if(vt===4||vt===3){vt=0,at();var e=al,t=ms,a=Oa,s=I0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?vt=5:(vt=0,ms=al=null,fu(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(tl=null),ba(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(lt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=y.T,n=U.p,U.p=2,y.T=null;try{for(var i=e.onRecoverableError,r=0;r<s.length;r++){var o=s[r];i(o.value,{componentStack:o.stack})}}finally{y.T=t,U.p=n}}(Oa&3)!==0&&pi(),ha(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===wo?sn++:(sn=0,wo=e):sn=0,nn(0)}}function fu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Bs(t)))}function pi(){return du(),cu(),uu(),mu()}function mu(){if(vt!==5)return!1;var e=al,t=No;No=0;var a=ba(Oa),s=y.T,n=U.p;try{U.p=32>a?32:a,y.T=null,a=ko,ko=null;var i=al,r=Oa;if(vt=0,ms=al=null,Oa=0,(Xe&6)!==0)throw Error(c(331));var o=Xe;if(Xe|=4,K0(i.current),X0(i,i.current,r,a),Xe=o,nn(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(lt,i)}catch{}return!0}finally{U.p=n,y.T=s,fu(e,t)}}function xu(e,t,a){t=aa(a,t),t=to(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(z(e,2),ha(e))}function Ke(e,t,a){if(e.tag===3)xu(e,e,a);else for(;t!==null;){if(t.tag===3){xu(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(tl===null||!tl.has(s))){e=aa(a,e),a=h0(2),s=Ja(t,a,2),s!==null&&(g0(a,s,t,e),z(s,2),ha(s));break}}t=t.return}}function zo(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new sx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(vo=!0,n.add(a),e=dx.bind(null,e,t,a),t.then(e,e))}function dx(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,tt===e&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>Ee()-fi?(Xe&2)===0&&xs(e,0):yo|=a,fs===Ue&&(fs=0)),ha(e)}function hu(e,t){t===0&&(t=wn()),e=jl(e,t),e!==null&&(z(e,t),ha(e))}function cx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),hu(e,a)}function ux(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),hu(e,a)}function fx(e,t){return oe(e,t)}var vi=null,gs=null,Do=!1,yi=!1,Ao=!1,sl=0;function ha(e){e!==gs&&e.next===null&&(gs===null?vi=gs=e:gs=gs.next=e),yi=!0,Do||(Do=!0,xx())}function nn(e,t){if(!Ao&&yi){Ao=!0;do for(var a=!1,s=vi;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var r=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-kt(42|e)+1)-1,i&=n&~(r&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,vu(s,i))}else i=Ue,i=Hl(s,s===tt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||xl(s,i)||(a=!0,vu(s,i));s=s.next}while(a);Ao=!1}}function mx(){gu()}function gu(){yi=Do=!1;var e=0;sl!==0&&wx()&&(e=sl);for(var t=Ee(),a=null,s=vi;s!==null;){var n=s.next,i=bu(s,t);i===0?(s.next=null,a===null?vi=n:a.next=n,n===null&&(gs=a)):(a=s,(e!==0||(i&3)!==0)&&(yi=!0)),s=n}vt!==0&&vt!==5||nn(e),sl!==0&&(sl=0)}function bu(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-kt(i),o=1<<r,f=n[r];f===-1?((o&a)===0||(o&s)!==0)&&(n[r]=Qi(o,t)):f<=t&&(e.expiredLanes|=o),i&=~o}if(t=tt,a=Ue,a=Hl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ze(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&ze(s),ba(a)){case 2:case 8:a=X;break;case 32:a=he;break;case 268435456:a=jt;break;default:a=he}return s=pu.bind(null,e),a=oe(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&ze(s),e.callbackPriority=2,e.callbackNode=null,2}function pu(e,t){if(vt!==0&&vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pi()&&e.callbackNode!==a)return null;var s=Ue;return s=Hl(e,e===tt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(P0(e,s,t),bu(e,Ee()),e.callbackNode!=null&&e.callbackNode===a?pu.bind(null,e):null)}function vu(e,t){if(pi())return null;P0(e,t,!0)}function xx(){Cx(function(){(Xe&6)!==0?oe(b,mx):gu()})}function Mo(){if(sl===0){var e=ts;e===0&&(e=Ba,Ba<<=1,(Ba&261888)===0&&(Ba=256)),sl=e}return sl}function yu(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dn(""+e)}function ju(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function hx(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var i=yu((n[ot]||null).action),r=s.submitter;r&&(t=(t=r[ot]||null)?yu(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var o=new Tn("action","action",null,s,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(sl!==0){var f=r?ju(n,r):new FormData(n);Jr(a,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(o.preventDefault(),f=r?ju(n,r):new FormData(n),Jr(a,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var _o=0;_o<fr.length;_o++){var To=fr[_o],gx=To.toLowerCase(),bx=To[0].toUpperCase()+To.slice(1);da(gx,"on"+bx)}da(Wd,"onAnimationEnd"),da(Pd,"onAnimationIteration"),da(ec,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(Em,"onTransitionRun"),da(Om,"onTransitionStart"),da(Rm,"onTransitionCancel"),da(tc,"onTransitionEnd"),Yl("onMouseEnter",["mouseout","mouseover"]),Yl("onMouseLeave",["mouseout","mouseover"]),Yl("onPointerEnter",["pointerout","pointerover"]),Yl("onPointerLeave",["pointerout","pointerover"]),bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bl("onBeforeInput",["compositionend","keypress","textInput","paste"]),bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rn));function Nu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var r=s.length-1;0<=r;r--){var o=s[r],f=o.instance,N=o.currentTarget;if(o=o.listener,f!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=N;try{i(n)}catch(T){Rn(T)}n.currentTarget=null,i=f}else for(r=0;r<s.length;r++){if(o=s[r],f=o.instance,N=o.currentTarget,o=o.listener,f!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=N;try{i(n)}catch(T){Rn(T)}n.currentTarget=null,i=f}}}}function Re(e,t){var a=t[Ul];a===void 0&&(a=t[Ul]=new Set);var s=e+"__bubble";a.has(s)||(ku(t,e,2,!1),a.add(s))}function Eo(e,t,a){var s=0;t&&(s|=4),ku(a,e,s,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[ji]){e[ji]=!0,gd.forEach(function(a){a!=="selectionchange"&&(px.has(a)||Eo(a,!1,e),Eo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,Eo("selectionchange",!1,t))}}function ku(e,t,a,s){switch(Wu(t)){case 2:var n=Zx;break;case 8:n=$x;break;default:n=Jo}a=n.bind(null,t,a,e),n=void 0,!Pi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Ro(e,t,a,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var o=s.stateNode.containerInfo;if(o===n)break;if(r===4)for(r=s.return;r!==null;){var f=r.tag;if((f===3||f===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;o!==null;){if(r=Ll(o),r===null)return;if(f=r.tag,f===5||f===6||f===26||f===27){s=i=r;continue e}o=o.parentNode}}s=s.return}Dd(function(){var N=i,T=Ii(a),O=[];e:{var k=ac.get(e);if(k!==void 0){var C=Tn,de=e;switch(e){case"keypress":if(Mn(a)===0)break e;case"keydown":case"keyup":C=um;break;case"focusin":de="focus",C=lr;break;case"focusout":de="blur",C=lr;break;case"beforeblur":case"afterblur":C=lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=xm;break;case Wd:case Pd:case ec:C=am;break;case tc:C=gm;break;case"scroll":case"scrollend":C=If;break;case"wheel":C=pm;break;case"copy":case"cut":case"paste":C=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Ed;break;case"toggle":case"beforetoggle":C=ym}var ye=(t&4)!==0,We=!ye&&(e==="scroll"||e==="scrollend"),v=ye?k!==null?k+"Capture":null:k;ye=[];for(var g=N,j;g!==null;){var E=g;if(j=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||j===null||v===null||(E=Ds(g,v),E!=null&&ye.push(on(g,E,j))),We)break;g=g.return}0<ye.length&&(k=new C(k,de,null,a,T),O.push({event:k,listeners:ye}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",k&&a!==Fi&&(de=a.relatedTarget||a.fromElement)&&(Ll(de)||de[Ya]))break e;if((C||k)&&(k=T.window===T?T:(k=T.ownerDocument)?k.defaultView||k.parentWindow:window,C?(de=a.relatedTarget||a.toElement,C=N,de=de?Ll(de):null,de!==null&&(We=H(de),ye=de.tag,de!==We||ye!==5&&ye!==27&&ye!==6)&&(de=null)):(C=null,de=N),C!==de)){if(ye=_d,E="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Ed,E="onPointerLeave",v="onPointerEnter",g="pointer"),We=C==null?k:zs(C),j=de==null?k:zs(de),k=new ye(E,g+"leave",C,a,T),k.target=We,k.relatedTarget=j,E=null,Ll(T)===N&&(ye=new ye(v,g+"enter",de,a,T),ye.target=j,ye.relatedTarget=We,E=ye),We=E,C&&de)t:{for(ye=vx,v=C,g=de,j=0,E=v;E;E=ye(E))j++;E=0;for(var ge=g;ge;ge=ye(ge))E++;for(;0<j-E;)v=ye(v),j--;for(;0<E-j;)g=ye(g),E--;for(;j--;){if(v===g||g!==null&&v===g.alternate){ye=v;break t}v=ye(v),g=ye(g)}ye=null}else ye=null;C!==null&&wu(O,k,C,ye,!1),de!==null&&We!==null&&wu(O,We,de,ye,!0)}}e:{if(k=N?zs(N):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var Qe=Yd;else if(Bd(k))if(Gd)Qe=Mm;else{Qe=Dm;var xe=zm}else C=k.nodeName,!C||C.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&Ji(N.elementType)&&(Qe=Yd):Qe=Am;if(Qe&&(Qe=Qe(e,N))){qd(O,Qe,a,T);break e}xe&&xe(e,k,N),e==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&Ki(k,"number",k.value)}switch(xe=N?zs(N):window,e){case"focusin":(Bd(xe)||xe.contentEditable==="true")&&($l=xe,dr=N,Hs=null);break;case"focusout":Hs=dr=$l=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,Fd(O,a,T);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":Fd(O,a,T)}var Me;if(nr)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Zl?Ud(e,a)&&(Le="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Od&&a.locale!=="ko"&&(Zl||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Zl&&(Me=Ad()):(Ga=T,er="value"in Ga?Ga.value:Ga.textContent,Zl=!0)),xe=Ni(N,Le),0<xe.length&&(Le=new Td(Le,e,null,a,T),O.push({event:Le,listeners:xe}),Me?Le.data=Me:(Me=Ld(a),Me!==null&&(Le.data=Me)))),(Me=Nm?km(e,a):wm(e,a))&&(Le=Ni(N,"onBeforeInput"),0<Le.length&&(xe=new Td("onBeforeInput","beforeinput",null,a,T),O.push({event:xe,listeners:Le}),xe.data=Me)),hx(O,e,N,a,T)}Nu(O,t)})}function on(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ni(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Ds(e,a),n!=null&&s.unshift(on(e,n,i)),n=Ds(e,t),n!=null&&s.push(on(e,n,i))),e.tag===3)return s;e=e.return}return[]}function vx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wu(e,t,a,s,n){for(var i=t._reactName,r=[];a!==null&&a!==s;){var o=a,f=o.alternate,N=o.stateNode;if(o=o.tag,f!==null&&f===s)break;o!==5&&o!==26&&o!==27||N===null||(f=N,n?(N=Ds(a,i),N!=null&&r.unshift(on(a,N,f))):n||(N=Ds(a,i),N!=null&&r.push(on(a,N,f)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var yx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(yx,`
`).replace(jx,"")}function Cu(e,t){return t=Su(t),Su(e)===t}function Ie(e,t,a,s,n,i){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ql(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ql(e,""+s);break;case"className":Cn(e,"class",s);break;case"tabIndex":Cn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(e,a,s);break;case"style":Cd(e,s,i);break;case"data":if(t!=="object"){Cn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Dn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Ie(e,t,"name",n.name,n,null),Ie(e,t,"formEncType",n.formEncType,n,null),Ie(e,t,"formMethod",n.formMethod,n,null),Ie(e,t,"formTarget",n.formTarget,n,null)):(Ie(e,t,"encType",n.encType,n,null),Ie(e,t,"method",n.method,n,null),Ie(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Dn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=va);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Dn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Sn(e,"popover",s);break;case"xlinkActuate":pa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Sn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jf.get(a)||a,Sn(e,a,s))}}function Ho(e,t,a,s,n,i){switch(a){case"style":Cd(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ql(e,s):(typeof s=="number"||typeof s=="bigint")&&Ql(e,""+s);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"onClick":s!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[ot]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Sn(e,a,s)}}}function Mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var s=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ie(e,t,i,r,a,null)}}n&&Ie(e,t,"srcSet",a.srcSet,a,null),s&&Ie(e,t,"src",a.src,a,null);return;case"input":Re("invalid",e);var o=i=r=n=null,f=null,N=null;for(s in a)if(a.hasOwnProperty(s)){var T=a[s];if(T!=null)switch(s){case"name":n=T;break;case"type":r=T;break;case"checked":f=T;break;case"defaultChecked":N=T;break;case"value":i=T;break;case"defaultValue":o=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(c(137,t));break;default:Ie(e,t,s,T,a,null)}}Nd(e,i,o,f,N,r,n,!1);return;case"select":Re("invalid",e),s=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":r=o;break;case"multiple":s=o;default:Ie(e,t,n,o,a,null)}t=i,a=r,e.multiple=!!s,t!=null?Gl(e,!!s,t,!1):a!=null&&Gl(e,!!s,a,!0);return;case"textarea":Re("invalid",e),i=n=s=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":s=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:Ie(e,t,r,o,a,null)}wd(e,s,n,i);return;case"option":for(f in a)if(a.hasOwnProperty(f)&&(s=a[f],s!=null))switch(f){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,t,f,s,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(s=0;s<rn.length;s++)Re(rn[s],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(s=a[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ie(e,t,N,s,a,null)}return;default:if(Ji(t)){for(T in a)a.hasOwnProperty(T)&&(s=a[T],s!==void 0&&Ho(e,t,T,s,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(s=a[o],s!=null&&Ie(e,t,o,s,a,null))}function Nx(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,o=null,f=null,N=null,T=null;for(C in a){var O=a[C];if(a.hasOwnProperty(C)&&O!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":f=O;default:s.hasOwnProperty(C)||Ie(e,t,C,null,s,O)}}for(var k in s){var C=s[k];if(O=a[k],s.hasOwnProperty(k)&&(C!=null||O!=null))switch(k){case"type":i=C;break;case"name":n=C;break;case"checked":N=C;break;case"defaultChecked":T=C;break;case"value":r=C;break;case"defaultValue":o=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(c(137,t));break;default:C!==O&&Ie(e,t,k,C,s,O)}}$i(e,r,o,f,N,T,i,n);return;case"select":C=r=o=k=null;for(i in a)if(f=a[i],a.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":C=f;default:s.hasOwnProperty(i)||Ie(e,t,i,null,s,f)}for(n in s)if(i=s[n],f=a[n],s.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":k=i;break;case"defaultValue":o=i;break;case"multiple":r=i;default:i!==f&&Ie(e,t,n,i,s,f)}t=o,a=r,s=C,k!=null?Gl(e,!!a,k,!1):!!s!=!!a&&(t!=null?Gl(e,!!a,t,!0):Gl(e,!!a,a?[]:"",!1));return;case"textarea":C=k=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ie(e,t,o,null,s,n)}for(r in s)if(n=s[r],i=a[r],s.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":k=n;break;case"defaultValue":C=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==i&&Ie(e,t,r,n,s,i)}kd(e,k,C);return;case"option":for(var de in a)if(k=a[de],a.hasOwnProperty(de)&&k!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Ie(e,t,de,null,s,k)}for(f in s)if(k=s[f],C=a[f],s.hasOwnProperty(f)&&k!==C&&(k!=null||C!=null))switch(f){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ie(e,t,f,k,s,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)k=a[ye],a.hasOwnProperty(ye)&&k!=null&&!s.hasOwnProperty(ye)&&Ie(e,t,ye,null,s,k);for(N in s)if(k=s[N],C=a[N],s.hasOwnProperty(N)&&k!==C&&(k!=null||C!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(c(137,t));break;default:Ie(e,t,N,k,s,C)}return;default:if(Ji(t)){for(var We in a)k=a[We],a.hasOwnProperty(We)&&k!==void 0&&!s.hasOwnProperty(We)&&Ho(e,t,We,void 0,s,k);for(T in s)k=s[T],C=a[T],!s.hasOwnProperty(T)||k===C||k===void 0&&C===void 0||Ho(e,t,T,k,s,C);return}}for(var v in a)k=a[v],a.hasOwnProperty(v)&&k!=null&&!s.hasOwnProperty(v)&&Ie(e,t,v,null,s,k);for(O in s)k=s[O],C=a[O],!s.hasOwnProperty(O)||k===C||k==null&&C==null||Ie(e,t,O,k,s,C)}function zu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],i=n.transferSize,r=n.initiatorType,o=n.duration;if(i&&o&&zu(r)){for(r=0,o=n.responseEnd,s+=1;s<a.length;s++){var f=a[s],N=f.startTime;if(N>o)break;var T=f.transferSize,O=f.initiatorType;T&&zu(O)&&(f=f.responseEnd,r+=T*(f<o?1:(o-N)/(f-N)))}if(--s,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uo=null,Lo=null;function ki(e){return e.nodeType===9?e:e.ownerDocument}function Du(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Au(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=null;function wx(){var e=window.event;return e&&e.type==="popstate"?e===qo?!1:(qo=e,!0):(qo=null,!1)}var Mu=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(e){return _u.resolve(null).then(e).catch(zx)}:Mu;function zx(e){setTimeout(function(){throw e})}function nl(e){return e==="head"}function Tu(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),ys(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")dn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dn(a);for(var i=a.firstChild;i;){var r=i.nextSibling,o=i.nodeName;i[Cs]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&dn(e.ownerDocument.body);a=n}while(a);ys(t)}function Eu(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Yo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yo(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dx(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Cs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ra(e.nextSibling),e===null)break}return null}function Ax(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ra(e.nextSibling),e===null))return null;return e}function Ou(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ra(e.nextSibling),e===null))return null;return e}function Go(e){return e.data==="$?"||e.data==="$~"}function Qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vo=null;function Ru(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ra(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Uu(e,t,a){switch(t=ki(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function dn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xi(e)}var oa=new Map,Lu=new Set;function wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=U.d;U.d={f:_x,r:Tx,D:Ex,C:Ox,L:Rx,m:Hx,X:Lx,S:Ux,M:Bx};function _x(){var e=Ra.f(),t=hi();return e||t}function Tx(e){var t=Bl(e);t!==null&&t.tag===5&&t.type==="form"?t0(t):Ra.r(e)}var bs=typeof document>"u"?null:document;function Bu(e,t,a){var s=bs;if(s&&typeof t=="string"&&t){var n=ea(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Lu.has(n)||(Lu.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Mt(t,"link",e),wt(t),s.head.appendChild(t)))}}function Ex(e){Ra.D(e),Bu("dns-prefetch",e,null)}function Ox(e,t){Ra.C(e,t),Bu("preconnect",e,t)}function Rx(e,t,a){Ra.L(e,t,a);var s=bs;if(s&&e&&t){var n='link[rel="preload"][as="'+ea(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+ea(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+ea(a.imageSizes)+'"]')):n+='[href="'+ea(e)+'"]';var i=n;switch(t){case"style":i=ps(e);break;case"script":i=vs(e)}oa.has(i)||(e=A({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),oa.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(cn(i))||t==="script"&&s.querySelector(un(i))||(t=s.createElement("link"),Mt(t,"link",e),wt(t),s.head.appendChild(t)))}}function Hx(e,t){Ra.m(e,t);var a=bs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ea(s)+'"][href="'+ea(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=vs(e)}if(!oa.has(i)&&(e=A({rel:"modulepreload",href:e},t),oa.set(i,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(un(i)))return}s=a.createElement("link"),Mt(s,"link",e),wt(s),a.head.appendChild(s)}}}function Ux(e,t,a){Ra.S(e,t,a);var s=bs;if(s&&e){var n=ql(s).hoistableStyles,i=ps(e);t=t||"default";var r=n.get(i);if(!r){var o={loading:0,preload:null};if(r=s.querySelector(cn(i)))o.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},a),(a=oa.get(i))&&Xo(e,a);var f=r=s.createElement("link");wt(f),Mt(f,"link",e),f._p=new Promise(function(N,T){f.onload=N,f.onerror=T}),f.addEventListener("load",function(){o.loading|=1}),f.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Si(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:o},n.set(i,r)}}}function Lx(e,t){Ra.X(e,t);var a=bs;if(a&&e){var s=ql(a).hoistableScripts,n=vs(e),i=s.get(n);i||(i=a.querySelector(un(n)),i||(e=A({src:e,async:!0},t),(t=oa.get(n))&&Zo(e,t),i=a.createElement("script"),wt(i),Mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Bx(e,t){Ra.M(e,t);var a=bs;if(a&&e){var s=ql(a).hoistableScripts,n=vs(e),i=s.get(n);i||(i=a.querySelector(un(n)),i||(e=A({src:e,async:!0,type:"module"},t),(t=oa.get(n))&&Zo(e,t),i=a.createElement("script"),wt(i),Mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function qu(e,t,a,s){var n=(n=B.current)?wi(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ps(a.href),a=ql(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ps(a.href);var i=ql(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(cn(e)))&&!i._p&&(r.instance=i,r.state.loading=5),oa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oa.set(e,a),i||qx(n,e,a,r.state))),t&&s===null)throw Error(c(528,""));return r}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(a),a=ql(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ps(e){return'href="'+ea(e)+'"'}function cn(e){return'link[rel="stylesheet"]['+e+"]"}function Yu(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function qx(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Mt(t,"link",a),wt(t),e.head.appendChild(t))}function vs(e){return'[src="'+ea(e)+'"]'}function un(e){return"script[async]"+e}function Gu(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ea(a.href)+'"]');if(s)return t.instance=s,wt(s),s;var n=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),wt(s),Mt(s,"style",n),Si(s,a.precedence,e),t.instance=s;case"stylesheet":n=ps(a.href);var i=e.querySelector(cn(n));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;s=Yu(a),(n=oa.get(n))&&Xo(s,n),i=(e.ownerDocument||e).createElement("link"),wt(i);var r=i;return r._p=new Promise(function(o,f){r.onload=o,r.onerror=f}),Mt(i,"link",s),t.state.loading|=4,Si(i,a.precedence,e),t.instance=i;case"script":return i=vs(a.src),(n=e.querySelector(un(i)))?(t.instance=n,wt(n),n):(s=a,(n=oa.get(i))&&(s=A({},a),Zo(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),wt(n),Mt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Si(s,a.precedence,e));return t.instance}function Si(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,r=0;r<s.length;r++){var o=s[r];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Xo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ci=null;function Qu(e,t,a){if(Ci===null){var s=new Map,n=Ci=new Map;n.set(a,s)}else n=Ci,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[Cs]||i[st]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var o=s.get(r);o?o.push(i):s.set(r,[i])}}return s}function Vu(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Yx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xu(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gx(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=ps(s.href),i=t.querySelector(cn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,wt(i);return}i=t.ownerDocument||t,s=Yu(s),(n=oa.get(n))&&Xo(s,n),i=i.createElement("link"),wt(i);var r=i;r._p=new Promise(function(o,f){r.onload=o,r.onerror=f}),Mt(i,"link",s),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var $o=0;function Qx(e,t){return e.stylesheets&&e.count===0&&Ai(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&$o===0&&($o=62500*kx());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>$o?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ai(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Di=null;function Ai(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Di=new Map,t.forEach(Vx,e),Di=null,zi.call(e))}function Vx(e,t){if(!(t.state.loading&4)){var a=Di.get(e);if(a)var s=a.get(null);else{a=new Map,Di.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),s=r)}s&&a.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||s,i===s&&a.set(null,n),a.set(r,n),this.count++,s=zi.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var fn={$$typeof:se,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Xx(e,t,a,s,n,i,r,o,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Zu(e,t,a,s,n,i,r,o,f,N,T,O){return e=new Xx(e,t,a,r,f,N,T,O,o),t=1,i===!0&&(t|=24),i=Zt(3,null,null,t),e.current=i,i.stateNode=e,t=Sr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:a,cache:t},Ar(i),e}function $u(e){return e?(e=Fl,e):Fl}function Ku(e,t,a,s,n,i){n=$u(n),s.context===null?s.context=n:s.pendingContext=n,s=Ka(t),s.payload={element:a},i=i===void 0?null:i,i!==null&&(s.callback=i),a=Ja(e,s,t),a!==null&&(Qt(a,e,t),Qs(a,e,t))}function Ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ko(e,t){Ju(e,t),(e=e.alternate)&&Ju(e,t)}function Fu(e){if(e.tag===13||e.tag===31){var t=jl(e,67108864);t!==null&&Qt(t,e,67108864),Ko(e,67108864)}}function Iu(e){if(e.tag===13||e.tag===31){var t=It();t=Ct(t);var a=jl(e,t);a!==null&&Qt(a,e,t),Ko(e,t)}}var Mi=!0;function Zx(e,t,a,s){var n=y.T;y.T=null;var i=U.p;try{U.p=2,Jo(e,t,a,s)}finally{U.p=i,y.T=n}}function $x(e,t,a,s){var n=y.T;y.T=null;var i=U.p;try{U.p=8,Jo(e,t,a,s)}finally{U.p=i,y.T=n}}function Jo(e,t,a,s){if(Mi){var n=Fo(s);if(n===null)Ro(e,t,s,_i,a),Pu(e,s);else if(Jx(n,e,t,a,s))s.stopPropagation();else if(Pu(e,s),t&4&&-1<Kx.indexOf(e)){for(;n!==null;){var i=Bl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=ga(i.pendingLanes);if(r!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var f=1<<31-kt(r);o.entanglements[1]|=f,r&=~f}ha(i),(Xe&6)===0&&(mi=Ee()+500,nn(0))}}break;case 31:case 13:o=jl(i,2),o!==null&&Qt(o,i,2),hi(),Ko(i,2)}if(i=Fo(s),i===null&&Ro(e,t,s,_i,a),i===n)break;n=i}n!==null&&s.stopPropagation()}else Ro(e,t,s,null,a)}}function Fo(e){return e=Ii(e),Io(e)}var _i=null;function Io(e){if(_i=null,e=Ll(e),e!==null){var t=H(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=S(t),e!==null)return e;e=null}else if(a===31){if(e=$(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _i=e,null}function Wu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case b:return 2;case X:return 8;case he:case Se:return 32;case jt:return 268435456;default:return 32}default:return 32}}var Wo=!1,il=null,rl=null,ol=null,mn=new Map,xn=new Map,dl=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(t.pointerId)}}function hn(e,t,a,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Bl(t),t!==null&&Fu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Jx(e,t,a,s,n){switch(t){case"focusin":return il=hn(il,e,t,a,s,n),!0;case"dragenter":return rl=hn(rl,e,t,a,s,n),!0;case"mouseover":return ol=hn(ol,e,t,a,s,n),!0;case"pointerover":var i=n.pointerId;return mn.set(i,hn(mn.get(i)||null,e,t,a,s,n)),!0;case"gotpointercapture":return i=n.pointerId,xn.set(i,hn(xn.get(i)||null,e,t,a,s,n)),!0}return!1}function ef(e){var t=Ll(e.target);if(t!==null){var a=H(t);if(a!==null){if(t=a.tag,t===13){if(t=S(a),t!==null){e.blockedOn=t,Ss(e.priority,function(){Iu(a)});return}}else if(t===31){if(t=$(a),t!==null){e.blockedOn=t,Ss(e.priority,function(){Iu(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Fo(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Fi=s,a.target.dispatchEvent(s),Fi=null}else return t=Bl(a),t!==null&&Fu(t),e.blockedOn=a,!1;t.shift()}return!0}function tf(e,t,a){Ti(e)&&a.delete(t)}function Fx(){Wo=!1,il!==null&&Ti(il)&&(il=null),rl!==null&&Ti(rl)&&(rl=null),ol!==null&&Ti(ol)&&(ol=null),mn.forEach(tf),xn.forEach(tf)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Fx)))}var Oi=null;function af(e){Oi!==e&&(Oi=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Oi===e&&(Oi=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Io(s||a)===null)continue;break}var i=Bl(a);i!==null&&(e.splice(t,3),t-=3,Jr(i,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function ys(e){function t(f){return Ei(f,e)}il!==null&&Ei(il,e),rl!==null&&Ei(rl,e),ol!==null&&Ei(ol,e),mn.forEach(t),xn.forEach(t);for(var a=0;a<dl.length;a++){var s=dl[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<dl.length&&(a=dl[0],a.blockedOn===null);)ef(a),a.blockedOn===null&&dl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],i=a[s+1],r=n[ot]||null;if(typeof i=="function")r||af(a);else if(r){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[ot]||null)o=r.formAction;else if(Io(n)!==null)continue}else o=r.action;typeof o=="function"?a[s+1]=o:(a.splice(s,3),s-=3),af(a)}}}function lf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Po(e){this._internalRoot=e}Ri.prototype.render=Po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,s=It();Ku(a,s,e,t,null,null)},Ri.prototype.unmount=Po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ku(e.current,2,null,e,null,null),hi(),t[Ya]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=gl();e={blockedOn:null,target:e,priority:t};for(var a=0;a<dl.length&&t!==0&&t<dl[a].priority;a++);dl.splice(a,0,e),a===0&&ef(e)}};var sf=x.version;if(sf!=="19.2.3")throw Error(c(527,sf,"19.2.3"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(t),e=e!==null?Z(e):null,e=e===null?null:e.stateNode,e};var Ix={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{lt=Hi.inject(Ix),Nt=Hi}catch{}}return bn.createRoot=function(e,t){if(!M(e))throw Error(c(299));var a=!1,s="",n=u0,i=f0,r=m0;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Zu(e,1,!1,null,null,a,s,null,n,i,r,lf),e[Ya]=t.current,Oo(e),new Po(t)},bn.hydrateRoot=function(e,t,a){if(!M(e))throw Error(c(299));var s=!1,n="",i=u0,r=f0,o=m0,f=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(f=a.formState)),t=Zu(e,1,!0,t,a??null,s,n,f,i,r,o,lf),t.context=$u(null),a=t.current,s=It(),s=Ct(s),n=Ka(s),n.callback=null,Ja(a,n,s),a=s,t.current.lanes=a,z(t,a),ha(t),e[Ya]=t.current,Oo(e),new Ri(t)},bn.version="19.2.3",bn}var hf;function oh(){if(hf)return ad.exports;hf=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(x){console.error(x)}}return h(),ad.exports=rh(),ad.exports}var dh=oh();const ch=Af(dh);var Je=(h=>(h.PRINCIPAL="PRINCIPAL",h.DOCTOR="DOCTOR",h.STAFF="STAFF",h))(Je||{});class uh{constructor(){this.users=[],this.patients=[],this.appointments=[],this.payments=[],this.treatments=[],this.odontograms=[],this.reminders=[],this.procedures=[],this.diagnosticSessions=[],this.medicalImages=[],this.financialGoal=2e4,this.logo=null,this.schedule={startHour:8,endHour:18},this.load(),this.users.length===0&&this.seedData()}resetDB(){localStorage.clear(),this.users=[],this.patients=[],this.appointments=[],this.payments=[],this.treatments=[],this.odontograms=[],this.reminders=[],this.procedures=[],this.diagnosticSessions=[],this.medicalImages=[],this.schedule={startHour:8,endHour:18},this.logo=null,this.seedData(),window.location.reload()}seedData(){this.users=[{id:"1",username:"admin",name:"Dr. Taboada",role:Je.PRINCIPAL,password:"admin",lastAccess:new Date().toISOString()},{id:"2",username:"sec",name:"Secretaria",role:Je.STAFF,password:"123",lastAccess:new Date().toISOString()}],this.procedures=[{id:"1",name:"Consulta General",price:100},{id:"2",name:"Dolor Agudo (Emergencia)",price:150},{id:"3",name:"Limpieza Dental",price:250},{id:"4",name:"Resina Simple",price:300},{id:"5",name:"Endodoncia",price:800},{id:"6",name:"Extraccin Simple",price:200},{id:"7",name:"Blanqueamiento",price:1200},{id:"8",name:"Ortodoncia Mensual",price:350},{id:"9",name:"Valoracin Esttica",price:0}];const x=[["Juan","Prez"],["Mara","Gonzlez"],["Carlos","Rodrguez"],["Ana","Lpez"],["Pedro","Martnez"],["Laura","Snchez"],["Diego","Fernndez"],["Sofa","Ramrez"],["Miguel","Torres"],["Luca","Vargas"],["Andrs","Castro"],["Elena","Romero"],["Gabriel","Surez"],["Valentina","Mendoza"]],d=new Date;x.forEach((D,p)=>{const Z=(p+100).toString(),A=new Date(d.getTime()-Math.random()*1e10).toISOString();this.patients.push({id:Z,firstName:D[0],lastName:D[1],dni:`${1e6+p} LP`,phone:`700${1e4+p}`,email:`${D[0].toLowerCase()}.${D[1].toLowerCase()}@email.com`,age:(20+p).toString(),gender:p%2===0?"Masculino":"Femenino",generalDescription:"Paciente registrado para control general.",allergies:p%3===0?"Penicilina":"Ninguna",medicalHistory:p%4===0?["Diabetes"]:[],createdAt:A});const V=(p+1)*150,K=p%2===0?V/2:V;this.treatments.push({id:`t-${Z}`,patientId:Z,patientName:`${D[0]} ${D[1]}`,procedure:this.procedures[p%this.procedures.length].name,description:"Tratamiento realizado satisfactoriamente.",cost:V,status:"Completado",date:new Date(new Date(A).getTime()+864e5).toISOString()}),K>0&&this.payments.push({id:`p-${Z}`,patientId:Z,patientName:`${D[0]} ${D[1]}`,amount:K,date:new Date(new Date(A).getTime()+9e7).toISOString(),method:p%3===0?"QR":"Efectivo",status:"completed",notes:"Pago a cuenta"});const F=new Date;p<7?F.setDate(F.getDate()-(p+1)):F.setDate(F.getDate()+(p-6)),F.setHours(9+p%8,0,0,0),this.appointments.push({id:`a-${Z}`,patientId:Z,patientName:`${D[0]} ${D[1]}`,date:F.toISOString(),type:p%2===0?"Tratamiento":"Consulta",status:p<7?"Completada":"Pendiente",notes:this.procedures[p%this.procedures.length].name})});const c="202601";this.patients.push({id:c,firstName:"Futuro",lastName:"Ejemplo 2026",dni:"20262026 LP",phone:"7772026",email:"futuro@2026.com",age:"30",gender:"Masculino",generalDescription:"Paciente agendado para ortodoncia a largo plazo en 2026",allergies:"Ninguna",medicalHistory:[],createdAt:d.toISOString()});const M=new Date("2026-01-15T10:00:00"),H=new Date("2026-02-10T15:30:00");this.appointments.push({id:"appt-2026-1",patientId:c,patientName:"Futuro Ejemplo 2026",date:M.toISOString(),type:"Tratamiento",status:"Pendiente",notes:"Inicio Ortodoncia 2026"},{id:"appt-2026-2",patientId:c,patientName:"Futuro Ejemplo 2026",date:H.toISOString(),type:"Revisin",status:"Pendiente",notes:"Control Mensual Febrero"}),this.treatments.push({id:"t-2026-1",patientId:c,patientName:"Futuro Ejemplo 2026",procedure:"Ortodoncia Mensual",description:"Pago adelantado de la primera cuota de 2026",cost:350,status:"Planificado",date:new Date("2026-01-01T09:00:00").toISOString()}),this.payments.push({id:"p-2026-1",patientId:c,patientName:"Futuro Ejemplo 2026",amount:350,date:new Date("2026-01-01T09:15:00").toISOString(),method:"Transferencia",status:"completed",notes:"Adelanto Enero 2026"}),this.reminders=[{id:"r1",text:"Comprar insumos de endodoncia",completed:!1,createdAt:d.toISOString(),createdBy:"Dr. Taboada",createdById:"1"},{id:"r2",text:"Llamar al tcnico dental",completed:!0,createdAt:d.toISOString(),createdBy:"Secretaria",createdById:"2"},{id:"r3",text:"Revisar agenda de la prxima semana",completed:!1,createdAt:d.toISOString(),createdBy:"Dr. Taboada",createdById:"1"},{id:"r4",text:"Planificar vacaciones 2026",completed:!1,createdAt:d.toISOString(),createdBy:"Dr. Taboada",createdById:"1"}];const S="100";this.odontograms.push({id:"od-seed-1",patientId:S,updatedAt:d.toISOString(),details:[{toothNumber:18,face:"whole",condition:"missing",notes:"Extraccin indicada"},{toothNumber:16,face:"center",condition:"caries",notes:"Caries oclusal profunda"},{toothNumber:16,face:"left",condition:"caries",notes:""},{toothNumber:21,face:"whole",condition:"restoration_good",notes:"Corona porcelana"},{toothNumber:46,face:"whole",condition:"bridge",notes:"Pilar puente"},{toothNumber:45,face:"whole",condition:"missing",notes:"Pntico"},{toothNumber:44,face:"whole",condition:"bridge",notes:"Pilar puente"}]}),this.odontograms.push({id:"od-seed-2026",patientId:c,updatedAt:new Date("2026-01-01T10:00:00").toISOString(),details:[{toothNumber:11,face:"whole",condition:"veneer",notes:"Carilla esttica"},{toothNumber:21,face:"whole",condition:"veneer",notes:"Carilla esttica"}]}),this.diagnosticSessions.push({id:"ds-seed-1",patientId:S,doctorId:"1",doctorName:"Dr. Taboada",date:new Date(d.getTime()-864e5*5).toISOString(),cie10Code:"K02.1",cie10Name:"Caries de la dentina",evolutionNotes:"Paciente acude por molestia a los cambios trmicos en pieza 16. Se observa caries profunda. Se indica endodoncia.",prescription:[{id:"rx-1",medication:"Ibuprofeno",dosage:"400mg",frequency:"8 horas",duration:"3 das"}],odontogramSnapshot:[]}),this.diagnosticSessions.push({id:"ds-seed-2026",patientId:c,doctorId:"1",doctorName:"Dr. Taboada",date:new Date("2026-01-01T10:30:00").toISOString(),cie10Code:"Z01.2",cie10Name:"Examen odontolgico",evolutionNotes:"Planificacin de diseo de sonrisa para 2026. Se toman impresiones y fotos.",prescription:[],odontogramSnapshot:[],nextVisitPlan:["Entrega de mockup","Preparacin de carillas"]}),this.odontograms.push({id:"od-seed-101",patientId:"101",updatedAt:new Date(d.getTime()-864e5*20).toISOString(),details:[{toothNumber:16,face:"center",condition:"sealant",notes:"Sellante preventivo"},{toothNumber:26,face:"center",condition:"sealant",notes:"Sellante preventivo"},{toothNumber:36,face:"center",condition:"caries",notes:"Incipiente"},{toothNumber:46,face:"center",condition:"sealant",notes:"Sellante preventivo"}]}),this.save()}load(){try{this.users=JSON.parse(localStorage.getItem("db_users")||"[]"),this.patients=JSON.parse(localStorage.getItem("db_patients")||"[]"),this.appointments=JSON.parse(localStorage.getItem("db_appointments")||"[]"),this.payments=JSON.parse(localStorage.getItem("db_payments")||"[]"),this.treatments=JSON.parse(localStorage.getItem("db_treatments")||"[]"),this.odontograms=JSON.parse(localStorage.getItem("db_odontograms")||"[]"),this.reminders=JSON.parse(localStorage.getItem("db_reminders")||"[]"),this.procedures=JSON.parse(localStorage.getItem("db_procedures")||"[]"),this.diagnosticSessions=JSON.parse(localStorage.getItem("db_diagnosticSessions")||"[]"),this.medicalImages=JSON.parse(localStorage.getItem("db_images")||"[]");const x=localStorage.getItem("db_goal");x&&(this.financialGoal=parseFloat(x)),this.logo=localStorage.getItem("db_logo");const d=localStorage.getItem("db_schedule");d&&(this.schedule=JSON.parse(d))}catch(x){console.error("Error loading DB",x),this.seedData()}}save(){localStorage.setItem("db_users",JSON.stringify(this.users)),localStorage.setItem("db_patients",JSON.stringify(this.patients)),localStorage.setItem("db_appointments",JSON.stringify(this.appointments)),localStorage.setItem("db_payments",JSON.stringify(this.payments)),localStorage.setItem("db_treatments",JSON.stringify(this.treatments)),localStorage.setItem("db_odontograms",JSON.stringify(this.odontograms)),localStorage.setItem("db_reminders",JSON.stringify(this.reminders)),localStorage.setItem("db_procedures",JSON.stringify(this.procedures)),localStorage.setItem("db_diagnosticSessions",JSON.stringify(this.diagnosticSessions)),localStorage.setItem("db_images",JSON.stringify(this.medicalImages)),localStorage.setItem("db_goal",this.financialGoal.toString()),this.logo&&localStorage.setItem("db_logo",this.logo),localStorage.setItem("db_schedule",JSON.stringify(this.schedule))}getImagesByPatient(x){return this.medicalImages.filter(d=>d.patientId===x).sort((d,c)=>new Date(c.date).getTime()-new Date(d.date).getTime())}addImage(x){this.medicalImages.push(x),this.save()}deleteImage(x){this.medicalImages=this.medicalImages.filter(d=>d.id!==x),this.save()}getSchedule(){return this.schedule}setSchedule(x){this.schedule=x,this.save()}getBolivianHolidays(x){return[{date:`${x}-01-01`,name:"Ao Nuevo"},{date:`${x}-01-22`,name:"Estado Plurinacional"},{date:`${x}-03-03`,name:"Carnaval (L)"},{date:`${x}-03-04`,name:"Carnaval (M)"},{date:`${x}-04-18`,name:"Viernes Santo"},{date:`${x}-05-01`,name:"Da del Trabajo"},{date:`${x}-06-19`,name:"Corpus Christi"},{date:`${x}-06-21`,name:"Ao Nuevo Aymara"},{date:`${x}-08-06`,name:"Da de la Independencia"},{date:`${x}-11-02`,name:"Todos Santos"},{date:`${x}-12-25`,name:"Navidad"}]}getLogo(){return this.logo}setLogo(x){this.logo=x,this.save()}login(x,d){const c=this.users.find(M=>M.username===x&&M.password===d);if(c)return c.lastAccess=new Date().toISOString(),this.save(),c}getUsers(){return this.users}addUser(x){const d={...x,id:Math.random().toString(36).substr(2,9),lastAccess:new Date().toISOString()};this.users.push(d),this.save()}updateUser(x,d){const c=this.users.findIndex(M=>M.id===x);c!==-1&&(this.users[c]={...this.users[c],...d},this.save())}deleteUser(x){this.users=this.users.filter(d=>d.id!==x),this.save()}getPatients(){return this.patients}getPatient(x){return this.patients.find(d=>d.id===x)}addPatient(x){x.id||(x.id=Math.random().toString(36).substr(2,9)),x.createdAt||(x.createdAt=new Date().toISOString()),this.patients.push(x),this.save()}updatePatient(x,d){const c=this.patients.findIndex(M=>M.id===x);c!==-1&&(this.patients[c]=d,this.save())}deletePatient(x){this.patients=this.patients.filter(d=>d.id!==x),this.save()}searchPatients(x){const d=x.toLowerCase();return this.patients.filter(c=>c.firstName.toLowerCase().includes(d)||c.lastName.toLowerCase().includes(d)||c.dni.includes(d))}getAppointments(){return this.appointments}addAppointment(x){const d={...x,id:x.id||Math.random().toString(36).substr(2,9)};this.appointments.push(d),this.save()}cancelAppointment(x){const d=this.appointments.findIndex(c=>c.id===x);d!==-1&&(this.appointments[d].status="Cancelada",this.save())}completeAppointment(x){const d=this.appointments.findIndex(c=>c.id===x);d!==-1&&(this.appointments[d].status="Completada",this.save())}getPayments(){return this.payments}addPayment(x){const d={...x,id:x.id||Math.random().toString(36).substr(2,9),status:"completed"};this.payments.push(d),this.save()}cancelPayment(x){const d=this.payments.findIndex(c=>c.id===x);d!==-1&&(this.payments[d].status="cancelled",this.save())}getFinancialGoal(){return this.financialGoal}getPatientBalance(x){const d=this.treatments.filter(S=>S.patientId===x),c=this.payments.filter(S=>S.patientId===x&&S.status!=="cancelled"),M=d.reduce((S,$)=>S+$.cost,0),H=c.reduce((S,$)=>S+$.amount,0);return{totalCost:M,totalPaid:H,debt:M-H}}getDebtors(){return this.patients.map(x=>{const{debt:d}=this.getPatientBalance(x.id);return{patient:x,debt:d}}).filter(x=>x.debt>0)}getTreatmentsByPatient(x){return this.treatments.filter(d=>d.patientId===x).sort((d,c)=>new Date(c.date).getTime()-new Date(d.date).getTime())}saveIntegralVisit(x){const d={id:Math.random().toString(36).substr(2,9),patientId:x.patient.id,patientName:`${x.patient.firstName} ${x.patient.lastName}`,...x.treatment};this.treatments.push(d),x.payment.amount>0?this.addPayment({patientId:x.patient.id,patientName:`${x.patient.firstName} ${x.patient.lastName}`,amount:x.payment.amount,date:new Date().toISOString(),method:x.payment.method,relatedProcedure:d.procedure,notes:"Pago en atencin integral"}):this.save()}saveDiagnosticSession(x){this.diagnosticSessions.push(x),this.save()}getDiagnosticSessionsByPatient(x){return this.diagnosticSessions.filter(d=>d.patientId===x).sort((d,c)=>new Date(c.date).getTime()-new Date(d.date).getTime())}getOdontogram(x){return this.odontograms.find(d=>d.patientId===x)}saveOdontogram(x){const d=this.odontograms.findIndex(c=>c.patientId===x.patientId);d!==-1?this.odontograms[d]=x:this.odontograms.push(x),this.save()}getStats(){const x=this.payments.filter(S=>S.status!=="cancelled").reduce((S,$)=>S+$.amount,0),d=this.patients.length,c=this.getNowLaPaz().toDateString(),M=this.appointments.filter(S=>new Date(S.date).toDateString()===c&&S.status!=="Cancelada").length,H=this.appointments.filter(S=>S.status==="Pendiente").length;return{totalIncome:x,totalPatients:d,appointmentsToday:M,pendingAppointments:H}}getNowLaPaz(){return new Date}getRecentTreatedPatients(){const x=[...this.treatments].sort((M,H)=>new Date(H.date).getTime()-new Date(M.date).getTime()),d=[],c=new Set;for(const M of x){if(!c.has(M.patientId)){const H=this.patients.find(S=>S.id===M.patientId);H&&(d.push({patient:H,lastTreatment:M}),c.add(M.patientId))}if(d.length>=5)break}return d}getReminders(){return this.reminders}addReminder(x,d){this.reminders.push({id:Math.random().toString(36).substr(2,9),text:x,completed:!1,createdAt:new Date().toISOString(),createdBy:d.name,createdById:d.id}),this.save()}toggleReminder(x){const d=this.reminders.find(c=>c.id===x);d&&(d.completed=!d.completed,this.save())}deleteReminder(x){this.reminders=this.reminders.filter(d=>d.id!==x),this.save()}getProcedures(){return this.procedures}addProcedure(x){this.procedures.push({id:Math.random().toString(36).substr(2,9),...x}),this.save()}removeProcedure(x){this.procedures=this.procedures.filter(d=>d.id!==x),this.save()}getConsultationReasons(){return this.procedures.map(x=>x.name)}formatTime(x){return new Date(x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}getCIE10Codes(x){const d=[{code:"K02.0",name:"Caries limitada al esmalte"},{code:"K02.1",name:"Caries de la dentina"},{code:"K04.0",name:"Pulpitis"},{code:"K04.1",name:"Necrosis de la pulpa"},{code:"K05.0",name:"Gingivitis aguda"},{code:"K05.1",name:"Gingivitis crnica"},{code:"K08.1",name:"Prdida de dientes debida a accidente"},{code:"K00.0",name:"Anodoncia"},{code:"S02.5",name:"Fractura de los dientes"},{code:"K03.6",name:"Depsitos (acrecentamientos) en los dientes"},{code:"K05.3",name:"Periodontitis crnica"},{code:"K07.4",name:"Maloclusin, no especificada"},{code:"K02.9",name:"Caries dental, no especificada"},{code:"Z01.2",name:"Examen odontolgico"}],c=x.toLowerCase();return c?d.filter(M=>M.code.toLowerCase().includes(c)||M.name.toLowerCase().includes(c)).sort((M,H)=>{const S=M.name.toLowerCase().startsWith(c)||M.code.toLowerCase().startsWith(c),$=H.name.toLowerCase().startsWith(c)||H.code.toLowerCase().startsWith(c);return S&&!$?-1:!S&&$?1:0}):d}}const G=new uh;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mh=h=>h.replace(/^([A-Z])|[\s-_]+(\w)/g,(x,d,c)=>c?c.toUpperCase():d.toLowerCase()),gf=h=>{const x=mh(h);return x.charAt(0).toUpperCase()+x.slice(1)},Mf=(...h)=>h.filter((x,d,c)=>!!x&&x.trim()!==""&&c.indexOf(x)===d).join(" ").trim(),xh=h=>{for(const x in h)if(x.startsWith("aria-")||x==="role"||x==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=m.forwardRef(({color:h="currentColor",size:x=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:M="",children:H,iconNode:S,...$},D)=>m.createElement("svg",{ref:D,...hh,width:x,height:x,stroke:h,strokeWidth:c?Number(d)*24/Number(x):d,className:Mf("lucide",M),...!H&&!xh($)&&{"aria-hidden":"true"},...$},[...S.map(([p,Z])=>m.createElement(p,Z)),...Array.isArray(H)?H:[H]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=(h,x)=>{const d=m.forwardRef(({className:c,...M},H)=>m.createElement(gh,{ref:H,iconNode:x,className:Mf(`lucide-${fh(gf(h))}`,`lucide-${h}`,c),...M}));return d.displayName=gf(h),d};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yn=P("activity",bh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],vh=P("arrow-down-a-z",ph);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jh=P("arrow-left",yh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bf=P("arrow-right",Nh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],wh=P("arrow-up-a-z",kh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],pf=P("arrow-up-right",Sh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],vf=P("badge-dollar-sign",Ch);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dh=P("bell",zh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Mh=P("briefcase",Ah);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_f=P("calendar-days",_h);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],rd=P("calendar-plus",Th);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wt=P("calendar",Eh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rh=P("camera",Oh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ui=P("check",Hh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tf=P("chevron-down",Uh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ef=P("chevron-left",Lh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],js=P("chevron-right",Bh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Of=P("chevron-up",qh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gh=P("circle-alert",Yh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ns=P("circle-check",Qh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jn=P("circle-question-mark",Vh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Li=P("circle-x",Xh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$h=P("circle",Zh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yf=P("clipboard-list",Kh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ul=P("clock",Jh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Ih=P("columns-2",Fh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bi=P("credit-card",Wh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],eg=P("database",Ph);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],ag=P("diamond",tg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sg=P("disc",lg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pn=P("dollar-sign",ng);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rg=P("eye-off",ig);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rf=P("eye",og);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ud=P("file-text",dg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],ug=P("fingerprint-pattern",cg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],mg=P("flag",fg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hf=P("funnel",xg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gg=P("grid-3x3",hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pg=P("history",bg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jf=P("house",vg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qi=P("image",yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nn=P("info",jg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],kg=P("layout-grid",Ng);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Sg=P("list",wg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],zg=P("lock-open",Cg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],od=P("lock",Dg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],id=P("log-out",Ag);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_g=P("map-pin",Mg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Eg=P("maximize-2",Tg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Rg=P("menu",Og);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Nf=P("message-circle",Hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lg=P("moon",Ug);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],qg=P("panel-left-close",Bg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Gg=P("panel-left-open",Yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Vg=P("panels-top-left",Qg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Zg=P("pen-tool",Xg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Kg=P("pen",$g);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kf=P("phone",Jg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Ig=P("pill",Fg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vt=P("plus",Wg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Uf=P("printer",Pg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],tb=P("qr-code",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kn=P("save",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],sb=P("scroll-text",lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ol=P("search",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wf=P("settings",ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ob=P("shield-check",rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cb=P("shield",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],fb=P("smile",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sf=P("square-pen",mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],fl=P("stethoscope",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gb=P("sun",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],pb=P("tag",bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ha=P("trash-2",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jb=P("trending-up",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ua=P("triangle-alert",Nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fd=P("upload",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lf=P("user-plus",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gi=P("user",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vn=P("users",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],md=P("wallet",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yt=P("x",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bf=P("zap",Ab),Mb=({onLogin:h})=>{const[x,d]=m.useState(""),[c,M]=m.useState(""),[H,S]=m.useState(!1),[$,D]=m.useState(""),[p,Z]=m.useState(null);m.useEffect(()=>{Z(G.getLogo())},[]);const A=K=>{K.preventDefault();const F=x.trim(),R=c.trim(),ce=G.login(F,R);ce?h(ce):D("Credenciales invlidas.")},V=({size:K=24,className:F=""})=>l.jsxs("svg",{width:K,height:K,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:F,children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"logo_grad_login",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#2dd4bf"})," ",l.jsx("stop",{offset:"100%",stopColor:"#0f766e"})," "]}),l.jsx("filter",{id:"shadow_login",colorInterpolationFilters:"sRGB",children:l.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodOpacity:"0.15"})})]}),l.jsx("rect",{x:"0",y:"0",width:"100",height:"100",rx:"22",fill:"white"}),l.jsxs("g",{filter:"url(#shadow_login)",children:[l.jsx("path",{d:"M 80 30 C 74 20 60 15 45 15 C 22 15 12 35 12 55 C 12 78 28 90 50 90 C 68 90 80 80 85 65",stroke:"url(#logo_grad_login)",strokeWidth:"12",strokeLinecap:"round",fill:"none"}),l.jsx("path",{d:"M 42 38 H 82 M 62 38 V 75",stroke:"url(#logo_grad_login)",strokeWidth:"12",strokeLinecap:"round",fill:"none"})]})]});return l.jsxs("div",{className:"min-h-screen w-full flex bg-white font-sans",children:[l.jsx("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 bg-white z-10",children:l.jsxs("div",{className:"w-full max-w-[380px] space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-24 h-24 flex items-center justify-center mb-6 drop-shadow-xl bg-gradient-to-br from-primary to-teal-700 rounded-3xl p-3",children:p?l.jsx("img",{src:p,alt:"Logo",className:"w-full h-full object-contain"}):l.jsx(V,{size:90})}),l.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Consultorio Odontolgico Taboada"}),l.jsx("p",{className:"text-slate-400 text-xs mt-2 font-semibold uppercase tracking-[0.2em]",children:"Sistema de Gestin Clnica"})]}),l.jsxs("form",{onSubmit:A,className:"space-y-5 pt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Usuario"}),l.jsx("input",{type:"text",value:x,onChange:K=>d(K.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400",placeholder:"Ingrese su usuario",required:!0})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex justify-between items-center mb-2",children:l.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Contrasea"})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:H?"text":"password",value:c,onChange:K=>M(K.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400",placeholder:"",required:!0}),l.jsx("button",{type:"button",onClick:()=>S(!H),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1",children:H?l.jsx(rg,{size:18}):l.jsx(Rf,{size:18})})]})]}),$&&l.jsxs("div",{className:"text-red-500 text-xs bg-red-50 p-3 rounded-lg border border-red-100 flex items-center gap-2",children:[l.jsx("span",{className:"font-bold",children:"Error:"})," ",$]}),l.jsx("button",{type:"submit",className:"w-full bg-slate-900 hover:bg-primary text-white font-semibold py-3.5 rounded-xl transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 mt-2",children:"Iniciar Sesin"})]}),l.jsxs("div",{className:"pt-8 mt-8 border-t border-slate-100 text-center",children:[l.jsxs("div",{className:"inline-flex items-center gap-1.5 text-[10px] font-bold text-slate-600 bg-slate-100 px-3 py-1.5 rounded-full mb-4 uppercase tracking-wider border border-slate-200",children:[l.jsx(ob,{size:12,className:"text-primary"}),"Datos protegidos por jerarqua"]}),l.jsxs("div",{className:"space-y-2 text-xs text-slate-400",children:[l.jsx("p",{children:"Gestin de usuarios restringida al administrador."}),l.jsx("p",{className:"font-medium text-slate-500",children:" 2025 Marca registrada TMG"})]})]})]})}),l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-slate-50 overflow-hidden",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2068&auto=format&fit=crop",alt:"Dental Office",className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-primary/10 mix-blend-multiply"})]})]})},_b=({children:h,user:x,onLogout:d,currentView:c,onNavigate:M})=>{const[H,S]=m.useState(!1),[$,D]=m.useState(!1),[p,Z]=m.useState(!1),[A,V]=m.useState(!1),[K,F]=m.useState(null);m.useEffect(()=>{F(G.getLogo())},[]);const R=!$||p,ce=({size:se=24,className:ne=""})=>l.jsxs("svg",{width:se,height:se,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ne,children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"logo_grad_layout",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"#2dd4bf"})," ",l.jsx("stop",{offset:"100%",stopColor:"#0f766e"})," "]}),l.jsx("filter",{id:"shadow_layout",colorInterpolationFilters:"sRGB",children:l.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodOpacity:"0.15"})})]}),l.jsx("rect",{x:"0",y:"0",width:"100",height:"100",rx:"22",fill:"white"}),l.jsxs("g",{filter:"url(#shadow_layout)",children:[l.jsx("path",{d:"M 80 30 C 74 20 60 15 45 15 C 22 15 12 35 12 55 C 12 78 28 90 50 90 C 68 90 80 80 85 65",stroke:"url(#logo_grad_layout)",strokeWidth:"12",strokeLinecap:"round",fill:"none"}),l.jsx("path",{d:"M 42 38 H 82 M 62 38 V 75",stroke:"url(#logo_grad_layout)",strokeWidth:"12",strokeLinecap:"round",fill:"none"})]})]}),ae=({size:se=26})=>K?l.jsx("img",{src:K,alt:"Logo",style:{width:se,height:se,objectFit:"contain"}}):l.jsx(ce,{size:se}),le=({view:se,icon:ne,label:be})=>l.jsxs("button",{onClick:()=>{M(se),S(!1)},title:R?"":be,className:`relative flex items-center gap-3 px-3 py-3 rounded-xl transition-all overflow-hidden whitespace-nowrap group ${c===se?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white"}`,children:[l.jsx("div",{className:"min-w-[24px] flex justify-center",children:l.jsx(ne,{size:22,strokeWidth:c===se?2.5:2})}),l.jsx("span",{className:`font-medium transition-all duration-300 ${R?"opacity-100 w-auto translate-x-0":"opacity-0 w-0 translate-x-10"}`,children:be})]});return l.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[l.jsxs("aside",{onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),className:`hidden lg:flex flex-col bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 fixed h-full z-20 transition-all duration-500 ease-in-out ${R?"w-72 shadow-2xl":"w-24"}`,children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center h-24 relative",children:[l.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${R?"":"justify-center w-full"}`,children:[l.jsx("div",{className:`bg-gradient-to-br from-primary to-teal-700 p-1.5 rounded-xl text-white shrink-0 shadow-md transition-all duration-500 ${R?"":"scale-110"}`,children:l.jsx(ae,{size:R?36:32})}),l.jsxs("div",{className:`min-w-[180px] transition-all duration-500 overflow-hidden whitespace-nowrap ${R?"w-auto opacity-100 relative":"w-0 opacity-0 absolute"}`,children:[l.jsxs("h1",{className:"font-bold text-sm text-slate-800 dark:text-white tracking-tight leading-tight",children:["Consultorio",l.jsx("br",{}),"Odontolgico Taboada"]}),l.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold mt-0.5",children:"Sistema de Gestin"})]})]}),l.jsx("button",{onClick:()=>D(!$),className:"absolute -right-4 top-8 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 p-2 rounded-full text-slate-500 hover:text-primary hover:border-primary shadow-sm transition-all z-50 transform hover:scale-110",title:$?"Expandir men":"Contraer men",children:$?l.jsx(Gg,{size:20}):l.jsx(qg,{size:20})})]}),l.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto overflow-x-hidden pt-6",children:[l.jsx(le,{view:"dashboard",icon:jf,label:"Inicio"}),l.jsx(le,{view:"patients",icon:vn,label:"Pacientes"}),l.jsx(le,{view:"diagnosis",icon:fl,label:"Diagnstico"}),l.jsx(le,{view:"finance",icon:Bi,label:"Pagos y Finanzas"}),l.jsx(le,{view:"appointments",icon:Wt,label:"Agenda"}),(x.role===Je.PRINCIPAL||x.role===Je.DOCTOR)&&l.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-100 dark:border-slate-700",children:[l.jsx("p",{className:`px-4 text-[10px] font-bold text-slate-400 uppercase mb-2 transition-opacity duration-300 ${R?"opacity-100":"opacity-0 h-0"}`,children:"Sistema"}),l.jsx(le,{view:"settings",icon:wf,label:"Configuracin"})]})]}),l.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700",children:[l.jsxs("div",{className:`flex items-center gap-3 px-3 py-3 bg-slate-50 dark:bg-slate-700/50 rounded-xl mb-2 overflow-hidden ${R?"":"justify-center"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-500 flex items-center justify-center text-slate-600 dark:text-slate-200 font-bold text-xs shrink-0",children:x.name.charAt(0)}),l.jsxs("div",{className:`flex-1 min-w-0 transition-all duration-300 overflow-hidden whitespace-nowrap ${R?"w-auto opacity-100":"w-0 opacity-0"}`,children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:x.name}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:x.role===Je.PRINCIPAL?"Director":x.role===Je.DOCTOR?"Doctor":"Staff"})]})]}),l.jsxs("button",{onClick:()=>V(!0),title:"Cerrar Sesin",className:`w-full flex items-center gap-3 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors overflow-hidden whitespace-nowrap ${R?"":"justify-center"}`,children:[l.jsx(id,{size:20}),l.jsx("span",{className:`font-medium transition-all duration-300 ${R?"opacity-100 w-auto":"opacity-0 w-0"}`,children:"Cerrar Sesin"})]})]})]}),l.jsxs("div",{className:"lg:hidden fixed top-0 w-full bg-white dark:bg-slate-800 z-20 border-b border-slate-200 dark:border-slate-700 px-4 py-3 flex justify-between items-center transition-colors duration-300",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-primary p-1 rounded text-white",children:l.jsx(ae,{size:24})}),l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Consultorio Odontolgico Taboada"})]}),l.jsx("button",{onClick:()=>S(!H),className:"p-2 text-slate-600 dark:text-slate-300",children:l.jsx(Rg,{size:24})})]}),H&&l.jsxs("div",{className:"lg:hidden fixed inset-0 z-30 bg-white dark:bg-slate-800 pt-20 px-4 space-y-2",children:[l.jsx(le,{view:"dashboard",icon:jf,label:"Inicio"}),l.jsx(le,{view:"patients",icon:vn,label:"Pacientes"}),l.jsx(le,{view:"diagnosis",icon:fl,label:"Diagnstico"}),l.jsx(le,{view:"finance",icon:Bi,label:"Pagos y Finanzas"}),l.jsx(le,{view:"appointments",icon:Wt,label:"Agenda"}),(x.role===Je.PRINCIPAL||x.role===Je.DOCTOR)&&l.jsx(le,{view:"settings",icon:wf,label:"Configuracin"}),l.jsxs("button",{onClick:()=>V(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl mt-8",children:[l.jsx(id,{size:20}),l.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]}),l.jsx("main",{className:`flex-1 min-h-screen pt-20 lg:pt-0 transition-all duration-500 ease-in-out ${$?"lg:ml-24":"lg:ml-72"}`,children:l.jsx("div",{className:"max-w-7xl mx-auto p-4 lg:p-8",children:h})}),A&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600 dark:text-red-400",children:l.jsx(id,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cerrar Sesin?"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"Asegrese de haber guardado todos los cambios antes de salir del sistema."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancelar"}),l.jsx("button",{onClick:d,className:"flex-1 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 shadow-lg",children:"S, Salir"})]})]})})]})},qf=({onClose:h,onSuccess:x,preSelectedPatientId:d})=>{var Be;const[c,M]=m.useState([]),[H,S]=m.useState(null),[$,D]=m.useState(""),[p,Z]=m.useState([]),[A,V]=m.useState("procedure"),[K,F]=m.useState(""),[R,ce]=m.useState(""),[ae,le]=m.useState(""),[se,ne]=m.useState("Efectivo"),[be,ie]=m.useState(!1);m.useEffect(()=>{const J=G.getPatients();if(M(J),d){const L=J.find(y=>y.id===d);L&&q(L)}},[d]);const q=J=>{S(J),D("");const L=G.getTreatmentsByPatient(J.id);Z(L.slice(0,10))};m.useEffect(()=>{if(A==="procedure"&&K){const J=p.find(L=>L.id===K);J&&le(J.cost.toString())}},[K,A,p]);const me=c.filter(J=>`${J.firstName} ${J.lastName}`.toLowerCase().includes($.toLowerCase())||J.dni.includes($)),pe=J=>{J.preventDefault(),!(!H||!ae)&&ie(!0)},ue=()=>{if(!H)return;let J="";if(A==="procedure"){const L=p.find(y=>y.id===K);J=L?L.procedure:""}G.addPayment({patientId:H.id,patientName:`${H.firstName} ${H.lastName}`,amount:parseFloat(ae),date:new Date().toISOString(),method:se,relatedProcedure:A==="procedure"?J:void 0,notes:A==="custom"?R:`Pago de: ${J}`}),x(),h()},ke=[{id:"Efectivo",icon:l.jsx(md,{size:18})},{id:"QR",icon:l.jsx(tb,{size:18})},{id:"Tarjeta",icon:l.jsx(Bi,{size:18})},{id:"Transferencia",icon:l.jsx(pn,{size:18})}],we="w-full p-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 outline-none placeholder:text-slate-400 transition-all";return be&&H?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-600 dark:text-emerald-400",children:l.jsx(pn,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:"Confirmar Ingreso"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Registrar este pago en el sistema?"}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-4 mb-6 text-left space-y-2 border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase",children:"Paciente"}),l.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-white text-right",children:[H.firstName," ",H.lastName]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase",children:"Concepto"}),l.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white text-right truncate max-w-[150px]",children:A==="procedure"?((Be=p.find(J=>J.id===K))==null?void 0:Be.procedure)||"Tratamiento":R||"Abono"})]}),l.jsxs("div",{className:"flex justify-between border-t border-slate-200 dark:border-slate-600 pt-2 mt-2",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Monto"}),l.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["Bs ",parseFloat(ae).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>ie(!1),className:"flex-1 py-3 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Corregir"}),l.jsx("button",{onClick:ue,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl font-bold hover:shadow-lg hover:scale-105 transition-all",children:"Confirmar"})]})]})}):l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-2xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh]",children:[l.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-gradient-to-r from-emerald-600 to-teal-700 text-white shadow-md",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Registrar Pago"}),l.jsx("p",{className:"text-xs text-emerald-100 mt-0.5 opacity-90 font-medium uppercase tracking-wide",children:"Nuevo ingreso a caja"})]}),l.jsx("button",{onClick:h,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10",children:l.jsx(yt,{size:24})})]}),l.jsxs("form",{onSubmit:pe,className:"p-8 space-y-6 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2",children:"Paciente"}),H?l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800 relative group transition-colors",children:[l.jsx("button",{type:"button",onClick:()=>{S(null),Z([]),F(""),le("")},className:"absolute top-3 right-3 text-xs text-slate-400 hover:text-red-500 font-medium transition-colors",children:"Cambiar"}),l.jsxs("p",{className:"font-bold text-slate-800 dark:text-white text-lg",children:[H.firstName," ",H.lastName]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["CI: ",H.dni]})]}):l.jsxs("div",{className:"relative",children:[l.jsx(Ol,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsx("input",{type:"text",autoFocus:!0,placeholder:"Buscar paciente por nombre o CI...",value:$,onChange:J=>D(J.target.value),className:we+" pl-10"}),$&&l.jsx("div",{className:"absolute top-full left-0 w-full bg-white dark:bg-slate-700 shadow-xl rounded-b-lg border border-t-0 border-slate-200 dark:border-slate-600 max-h-40 overflow-y-auto z-10",children:me.map(J=>l.jsxs("div",{onClick:()=>{q(J),D("")},className:"px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-600 cursor-pointer text-sm text-slate-700 dark:text-slate-200 border-b border-slate-100 dark:border-slate-600 last:border-0 transition-colors",children:[J.firstName," ",J.lastName]},J.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2",children:"Concepto del Pago"}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{type:"button",onClick:()=>{V("procedure"),le("")},className:`flex-1 py-2 text-xs font-bold rounded-lg border transition-colors ${A==="procedure"?"bg-indigo-50 border-indigo-500 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 text-slate-500"}`,children:"Procedimiento"}),l.jsx("button",{type:"button",onClick:()=>{V("custom"),le("")},className:`flex-1 py-2 text-xs font-bold rounded-lg border transition-colors ${A==="custom"?"bg-indigo-50 border-indigo-500 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 text-slate-500"}`,children:"Abono / Otro"})]}),A==="procedure"?l.jsxs("div",{className:"relative",children:[l.jsx(fl,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsxs("select",{value:K,onChange:J=>F(J.target.value),className:we+" pl-10 appearance-none",disabled:!H,children:[l.jsx("option",{value:"",children:"Seleccione consulta pendiente..."}),p.map(J=>l.jsxs("option",{value:J.id,children:[J.procedure," - ",new Date(J.date).toLocaleDateString()," (Bs ",J.cost,")"]},J.id))]}),p.length===0&&H&&l.jsx("p",{className:"text-[10px] text-slate-400 mt-1 pl-1",children:"No se encontraron tratamientos recientes."})]}):l.jsx("input",{type:"text",value:R,onChange:J=>ce(J.target.value),placeholder:"Detalle (Ej. Pago parcial Ortodoncia...)",className:we})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-emerald-700 dark:text-emerald-400 uppercase tracking-wide mb-2",children:"Monto"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:"Bs."}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.5",value:ae,onChange:J=>le(J.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-xl text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 outline-none font-semibold placeholder:text-slate-300 shadow-sm",placeholder:"0.00"})]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2",children:"Mtodo de Pago"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:ke.map(J=>l.jsxs("button",{type:"button",onClick:()=>ne(J.id),className:`flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-[10px] border transition-all ${se===J.id?"bg-emerald-50 border-emerald-500 text-emerald-800 font-medium":"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-50"}`,children:[J.icon," ",J.id]},J.id))})]}),H&&l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:!ae,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-teal-700 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 tracking-wide",children:"Registrar Ingreso"})})]})]})})},Yi=({patient:h,onClose:x,onSuccess:d,appointmentId:c,initialProcedure:M,initialCost:H})=>{const[S,$]=m.useState([]),[D,p]=m.useState(M||""),[Z,A]=m.useState(""),[V,K]=m.useState(H!==void 0?H:0),[F,R]=m.useState(!1),[ce,ae]=m.useState(""),[le,se]=m.useState("Efectivo"),[ne,be]=m.useState(!1),ie=G.getPatientBalance(h.id).debt;m.useEffect(()=>{if($(G.getProcedures()),c){const ue=G.getAppointments().find(ke=>ke.id===c);ue&&ue.isPaid&&(be(!0),ae("0"))}},[c]),m.useEffect(()=>{if(D){if(M&&D.trim().toLowerCase()===M.trim().toLowerCase()&&H!==void 0){K(H);return}const ke=S.find(we=>we.name.toLowerCase()===D.toLowerCase());ke&&K(ke.price)}},[D,S,M,H]);const q=()=>{D&&(G.saveIntegralVisit({patient:h,treatment:{procedure:D,description:Z,diagnosis:"",cost:V,date:new Date().toISOString(),status:"Completado"},payment:{amount:F&&parseFloat(ce)||0,method:le}}),c&&G.completeAppointment(c),d(),x())},me="w-full p-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-xl text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all shadow-sm",pe="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase tracking-wide";return l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-3xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white dark:bg-slate-800 border-b border-slate-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-xl font-bold text-slate-500 dark:text-slate-300 shadow-inner overflow-hidden",children:h.photo?l.jsx("img",{src:h.photo,className:"w-full h-full object-cover"}):l.jsxs(l.Fragment,{children:[h.firstName.charAt(0),h.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white leading-tight",children:[h.firstName," ",h.lastName]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono bg-slate-50 dark:bg-slate-700 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-600",children:h.dni}),l.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:["Saldo Pendiente:",l.jsxs("span",{className:`font-bold ${ie>0?"text-red-500":"text-emerald-500"}`,children:["Bs ",ie]})]})]})]})]}),l.jsx("button",{onClick:x,className:"group p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:l.jsx(yt,{size:24,className:"text-slate-400 group-hover:text-red-500 transition-colors"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50/50 dark:bg-slate-900/20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold uppercase text-xs tracking-wider mb-2 border-b border-indigo-100 dark:border-indigo-900/50 pb-2",children:[l.jsx(fl,{size:16})," Datos de la Consulta"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:pe,children:"Motivo de Consulta / Tratamiento"}),l.jsx("input",{list:"procedures-list",value:D,onChange:ue=>p(ue.target.value),className:me,placeholder:"Ej. Consulta General, Endodoncia...",autoFocus:!0}),l.jsx("datalist",{id:"procedures-list",children:S.map(ue=>l.jsx("option",{value:ue.name},ue.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:pe,children:"Notas / Evolucin"}),l.jsx("textarea",{value:Z,onChange:ue=>A(ue.target.value),className:`${me} h-32 resize-none`,placeholder:"Detalles del procedimiento realizado..."})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold uppercase text-xs tracking-wider mb-2 border-b border-emerald-100 dark:border-emerald-900/50 pb-2",children:[l.jsx(md,{size:16})," Costos y Pagos"]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsx("label",{className:pe,children:"Costo Total del Tratamiento"}),l.jsxs("div",{className:"relative mt-2",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-lg",children:"Bs"}),l.jsx("input",{type:"number",value:V,onChange:ue=>K(parseFloat(ue.target.value)||0),className:"w-full pl-12 p-3 text-2xl font-bold text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700/50 rounded-xl border-2 border-transparent focus:border-indigo-500 outline-none transition-all"})]})]}),ne&&l.jsxs("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 rounded-xl text-xs font-bold flex items-center gap-2 border border-emerald-200 dark:border-emerald-800",children:[l.jsx(Ns,{size:16}),"Cita pagada por adelantado."]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300 font-bold text-sm",children:[l.jsx("div",{className:`p-1.5 rounded-lg ${F?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:l.jsx(pn,{size:18})}),"Registrar Pago Inmediato"]}),l.jsx("button",{type:"button",onClick:()=>R(!F),className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 ${F?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,children:l.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${F?"translate-x-6":"translate-x-0"}`})})]}),F&&l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-5 rounded-2xl border border-emerald-100 dark:border-emerald-800/50 animate-fade-in space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold text-emerald-700 dark:text-emerald-400 mb-1 block",children:"Monto a Pagar"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-500 font-bold text-xs",children:"Bs"}),l.jsx("input",{type:"number",value:ce,onChange:ue=>ae(ue.target.value),className:"w-full pl-8 p-2.5 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-white dark:bg-slate-800 text-emerald-700 dark:text-emerald-300 font-bold outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold text-emerald-700 dark:text-emerald-400 mb-1 block",children:"Mtodo"}),l.jsxs("select",{value:le,onChange:ue=>se(ue.target.value),className:"w-full p-2.5 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-white dark:bg-slate-800 text-emerald-700 dark:text-emerald-300 text-sm font-medium outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:"Efectivo",children:"Efectivo"}),l.jsx("option",{value:"QR",children:"QR"}),l.jsx("option",{value:"Transferencia",children:"Transferencia"}),l.jsx("option",{value:"Tarjeta",children:"Tarjeta"})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-emerald-200/50",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-700/70",children:"Deuda Restante:"}),l.jsxs("span",{className:"text-sm font-black text-emerald-700",children:["Bs ",Math.max(0,(parseFloat(V.toString())||0)-(parseFloat(ce)||0))]})]})]})]})]})]})]})}),l.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-4",children:[l.jsx("button",{onClick:x,className:"px-6 py-3 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl font-bold transition-colors",children:"Cancelar"}),l.jsxs("button",{onClick:q,disabled:!D,className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/30 hover:scale-[1.02] transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(kn,{size:20}),"Guardar Atencin"]})]})]})})},Yf=({onCancel:h,onSuccess:x,patientToEdit:d,initialName:c,initialCi:M})=>{const H={firstName:"",lastName:"",dni:"",phone:"",generalDescription:"",email:"",age:"",birthDate:"",weight:"",height:"",gender:"",civilStatus:"",occupation:"",medicalHistory:[]},[S,$]=m.useState(H),[D,p]=m.useState(null),[Z,A]=m.useState(!0),[V,K]=m.useState({}),[F,R]=m.useState([]),[ce,ae]=m.useState(""),[le,se]=m.useState([]),[ne,be]=m.useState(""),[ie,q]=m.useState(!1),[me,pe]=m.useState(!1),[ue,ke]=m.useState(!1),[we,Be]=m.useState(!1),[J,L]=m.useState(""),[y,U]=m.useState([]),I=m.useRef(null),ve=m.useRef(null),Q=m.useRef(null);m.useEffect(()=>{if(U(G.getConsultationReasons()),d)Q.current!==d.id&&(Q.current=d.id,$({firstName:d.firstName,lastName:d.lastName,dni:d.dni,phone:d.phone||"",generalDescription:d.generalDescription,email:d.email||"",age:d.age||"",birthDate:d.birthDate||"",weight:d.weight||"",height:d.height||"",gender:d.gender||"",civilStatus:d.civilStatus||"",occupation:d.occupation||"",medicalHistory:d.medicalHistory||[]}),d.photo?(p(d.photo),A(!0)):(p(null),A(!0)),d.allergies&&d.allergies!=="Ninguna"?R(d.allergies.split(",").map(b=>b.trim()).filter(b=>b)):R([]),d.currentMedications?se(d.currentMedications):se([]),d.medicalHistory&&d.medicalHistory.length>0&&Be(!0));else if(Q.current!=="new"){if(Q.current="new",c){const b=c.trim().split(" ");if(b.length>0){const X=b[0],he=b.slice(1).join(" ");$(Se=>({...Se,firstName:X,lastName:he}))}}M&&$(b=>({...b,dni:M}))}},[d,c,M]),m.useEffect(()=>{if(!d&&S.firstName&&!S.gender){const b=S.firstName.trim().split(" ")[0].toLowerCase();b.length>2&&(b.endsWith("a")?$(X=>({...X,gender:"Femenino"})):(b.endsWith("o")||b.endsWith("os"))&&$(X=>({...X,gender:"Masculino"})))}},[S.firstName,d,S.gender]),m.useEffect(()=>{if(S.birthDate){const b=new Date,X=new Date(S.birthDate);let he=b.getFullYear()-X.getFullYear();const Se=b.getMonth()-X.getMonth();(Se<0||Se===0&&b.getDate()<X.getDate())&&he--,he>=0&&$(jt=>({...jt,age:he.toString()}))}},[S.birthDate]);const u=()=>{if(d)return!0;const b=S.firstName||S.lastName||S.dni||S.phone||S.generalDescription,X=F.length>0||le.length>0||D!==null;return b||X},w=()=>{u()?pe(!0):h()},Y=b=>{$({...S,[b.target.name]:b.target.value}),V[b.target.name]&&K(X=>({...X,[b.target.name]:!1}))},ee=b=>{var he;const X=(he=b.target.files)==null?void 0:he[0];if(X){const Se=new FileReader;Se.onload=jt=>{var pt;const Ut=new Image;Ut.onload=()=>{const lt=document.createElement("canvas"),Nt=lt.getContext("2d"),Et=300;let kt=Ut.width,ml=Ut.height;const La=Math.min(kt,ml),ks=(kt-La)/2,Ba=(ml-La)/2;if(lt.width=Et,lt.height=Et,Nt){Nt.drawImage(Ut,ks,Ba,La,La,0,0,Et,Et);const qa=lt.toDataURL("image/jpeg",.8);p(qa),A(!0)}},Ut.src=(pt=jt.target)==null?void 0:pt.result},Se.readAsDataURL(X)}},fe=b=>{const X=b.target.checked;A(X),X?d!=null&&d.photo&&p(d.photo):p(null)},B=b=>{let X=b.target.value.replace(/\D/g,"");if(X.length>0){const he=X.charAt(0);if(he!=="6"&&he!=="7")return}X.length>8&&(X=X.slice(0,8)),$({...S,phone:X}),V.phone&&K(he=>({...he,phone:!1}))},je=b=>{const{name:X,value:he}=b.target;if(he===""){$({...S,[X]:""});return}let Se=parseFloat(he);X==="age"?(Se<0&&(Se=0),Se>120&&(Se=120)):X==="weight"?(Se<0&&(Se=0),Se>300&&(Se=300)):X==="height"&&(Se<0&&(Se=0),Se>250&&(Se=250)),$({...S,[X]:Se.toString()})},qe=b=>{$(X=>({...X,gender:b}))},Ae=()=>{ce.trim()&&(R([...F,ce.trim()]),ae(""))},mt=b=>{R(F.filter((X,he)=>he!==b))},_=()=>{if(ne.trim()){const b={name:ne.trim(),dosage:"",frequency:""};se([...le,b]),be("")}},te=b=>{se(le.filter((X,he)=>he!==b))},re=b=>{$(X=>{const he=X.medicalHistory.includes(b)?X.medicalHistory.filter(Se=>Se!==b):[...X.medicalHistory,b];return{...X,medicalHistory:he}})},Ne=()=>{J.trim()&&($(b=>({...b,medicalHistory:[...b.medicalHistory,J.trim()]})),L(""))},Ge=b=>{$(X=>({...X,generalDescription:X.generalDescription?`${X.generalDescription}, ${b}`:b})),V.generalDescription&&K(X=>({...X,generalDescription:!1}))},He=()=>{const b={};let X=!0;return S.firstName.trim()||(b.firstName=!0,X=!1),S.lastName.trim()||(b.lastName=!0,X=!1),S.generalDescription.trim()||(b.generalDescription=!0,X=!1),S.phone&&S.phone.length!==8&&(b.phone="El celular debe tener 8 dgitos",X=!1),K(b),X},Ze=b=>{b.preventDefault(),He()&&q(!0)},Te=()=>{const b=Z&&D||void 0,X={id:d?d.id:"",...S,photo:b,gender:S.gender===""?void 0:S.gender,civilStatus:S.civilStatus===""?void 0:S.civilStatus,allergies:F.length>0?F.join(", "):"Ninguna",currentMedications:le,createdAt:d?d.createdAt:new Date().toISOString()};d?G.updatePatient(d.id,X):G.addPatient(X),q(!1),x()},W=()=>{d&&(G.deletePatient(d.id),ke(!1),x())},oe=[{id:"Hipertensin",label:"Hipertensin",icon:""},{id:"Diabetes",label:"Diabetes",icon:""},{id:"Cardiopata",label:"Cardiopata",icon:""},{id:"Coagulacin",label:"Coagulacin",icon:""},{id:"Alergia Anestesia",label:"Alg. Anestesia",icon:""},{id:"Embarazo",label:"Embarazo",icon:""},{id:"Fumador",label:"Fumador",icon:""},{id:"Respiratorio",label:"Respiratorio",icon:""},{id:"Hepatitis",label:"Hepatitis",icon:""},{id:"Renal",label:"Renal",icon:""},{id:"Gastritis",label:"Gastritis",icon:""},{id:"Bruxismo",label:"Bruxismo",icon:""}],ze="w-full bg-white dark:bg-slate-700 border rounded-lg p-2.5 text-sm text-slate-900 dark:text-white outline-none transition-all placeholder:text-slate-400",Pe="border-slate-300 dark:border-slate-600 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",at="border-red-500 ring-1 ring-red-500 focus:border-red-600",Ee="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1 uppercase tracking-wide",Tt="[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none";return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:[l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 w-full max-w-6xl rounded-2xl shadow-2xl flex flex-col overflow-hidden max-h-[95vh]",ref:I,children:[l.jsxs("div",{className:"flex items-center justify-between px-8 py-5 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:l.jsx(Lf,{size:28})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white leading-none",children:d?"Editar Expediente":"Nuevo Paciente"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:d?"Actualice la informacin clnica y personal.":"Complete los campos obligatorios (*) para registrar."})]})]}),l.jsxs("div",{className:"flex gap-3",children:[d&&l.jsxs("button",{onClick:()=>ke(!0),className:"px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-bold flex items-center gap-2 border border-red-100 dark:bg-red-900/10 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/30 transition-colors mr-2",children:[l.jsx(Ha,{size:18}),"Eliminar Paciente"]}),l.jsx("button",{onClick:w,className:"px-4 py-2 text-slate-500 hover:text-slate-800 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium",children:"Cancelar"}),l.jsxs("button",{onClick:Ze,className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl font-bold hover:shadow-lg hover:to-teal-700 transition-all flex items-center gap-2 text-sm transform hover:-translate-y-0.5",children:[l.jsx(kn,{size:18}),d?"Guardar Cambios":"Registrar Paciente"]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400 dark:text-slate-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(ug,{size:14})," Identificacin"]}),l.jsxs("div",{className:"flex flex-col items-center mb-6",children:[l.jsx("div",{className:"relative group",children:l.jsxs("button",{type:"button",onClick:()=>{var b;return(b=ve.current)==null?void 0:b.click()},className:"w-32 h-32 rounded-full flex items-center justify-center text-5xl overflow-hidden border-4 shadow-md transition-all hover:scale-105 active:scale-95 bg-slate-100 border-slate-50 dark:bg-slate-700 dark:border-slate-600 group-hover:border-indigo-200 relative",title:"Haga clic para subir/cambiar foto",children:[D?l.jsx("img",{src:D,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("div",{className:"text-slate-300 dark:text-slate-500",children:S.firstName?l.jsx("span",{className:"font-bold uppercase",children:S.firstName.charAt(0)}):l.jsx(Gi,{size:48,strokeWidth:1.5})}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 flex items-center justify-center transition-colors rounded-full",children:l.jsx(Rh,{size:24,className:"text-white opacity-0 group-hover:opacity-100 drop-shadow-md"})})]})}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:ve,onChange:ee}),(d==null?void 0:d.photo)&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 animate-fade-in bg-slate-50 dark:bg-slate-700/50 px-3 py-1.5 rounded-lg border border-slate-100 dark:border-slate-600",children:[l.jsx("input",{type:"checkbox",id:"keepPhotoCheck",checked:Z,onChange:fe,className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500 border-gray-300 cursor-pointer"}),l.jsx("label",{htmlFor:"keepPhotoCheck",className:"text-xs font-bold text-slate-600 dark:text-slate-300 cursor-pointer select-none",children:"Mantener foto actual"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-4 bg-slate-50 dark:bg-slate-700/50 p-1 rounded-lg border border-slate-100 dark:border-slate-600",children:[l.jsx("button",{type:"button",onClick:()=>qe("Masculino"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-colors ${S.gender==="Masculino"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:"Masculino"}),l.jsx("button",{type:"button",onClick:()=>qe("Femenino"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-colors ${S.gender==="Femenino"?"bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:"Femenino"}),l.jsx("button",{type:"button",onClick:()=>qe("Otro"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-colors ${S.gender==="Otro"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:"Otro"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:Ee,children:["Nombre(s) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{name:"firstName",value:S.firstName,onChange:Y,className:`${ze} ${V.firstName?at:Pe}`,placeholder:"Nombres",autoFocus:!0}),V.firstName&&l.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:"Requerido"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:Ee,children:["Apellidos ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{name:"lastName",value:S.lastName,onChange:Y,className:`${ze} ${V.lastName?at:Pe}`,placeholder:"Apellidos"}),V.lastName&&l.jsx("span",{className:"text-[10px] text-red-500 font-medium",children:"Requerido"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:Ee,children:"Carnet de Identidad (CI)"}),l.jsx("input",{name:"dni",value:S.dni,onChange:Y,className:`${ze} ${Pe}`,placeholder:"1234567 LP"})]}),l.jsxs("div",{children:[l.jsx("label",{className:Ee,children:"Celular"}),l.jsx("input",{name:"phone",value:S.phone,onChange:B,className:`${ze} ${V.phone?at:Pe}`,placeholder:"Ej. 70000000",maxLength:8}),V.phone&&l.jsx("span",{className:"text-[10px] text-red-500 font-medium block leading-tight mt-1",children:V.phone})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Ee,children:"Fecha de Nacimiento"}),l.jsx("input",{type:"date",name:"birthDate",value:S.birthDate,onChange:Y,className:`${ze} ${Pe}`})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400 dark:text-slate-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(_g,{size:14})," Demografa & Biometra"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:Ee,children:"Ocupacin"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mh,{size:14,className:"absolute left-3 top-3 text-slate-400"}),l.jsx("input",{name:"occupation",value:S.occupation,onChange:Y,className:ze+" pl-9 "+Pe,placeholder:"Ej. Abogado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Ee,children:"Estado Civil"}),l.jsxs("select",{name:"civilStatus",value:S.civilStatus,onChange:Y,className:`${ze} ${Pe}`,children:[l.jsx("option",{value:"",children:"Seleccione..."}),l.jsx("option",{value:"Soltero/a",children:"Soltero/a"}),l.jsx("option",{value:"Casado/a",children:"Casado/a"}),l.jsx("option",{value:"Divorciado/a",children:"Divorciado/a"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[l.jsxs("div",{className:"text-center px-1",children:[l.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Edad"}),l.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[l.jsx("input",{name:"age",type:"number",value:S.age,onChange:je,className:`w-12 text-center font-bold text-lg bg-transparent border-b border-transparent focus:border-primary outline-none text-slate-800 dark:text-white ${Tt}`,placeholder:"-",readOnly:!!S.birthDate}),l.jsx("span",{className:"text-xs text-slate-400",children:"aos"})]})]}),l.jsxs("div",{className:"text-center px-1",children:[l.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Peso"}),l.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[l.jsx("input",{name:"weight",type:"number",value:S.weight,onChange:je,className:`w-12 text-center font-bold text-lg bg-transparent border-b border-transparent focus:border-primary outline-none text-slate-800 dark:text-white ${Tt}`,placeholder:"-"}),l.jsx("span",{className:"text-xs text-slate-400",children:"kg"})]})]}),l.jsxs("div",{className:"text-center px-1",children:[l.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Altura"}),l.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[l.jsx("input",{name:"height",type:"number",value:S.height,onChange:je,className:`w-12 text-center font-bold text-lg bg-transparent border-b border-transparent focus:border-primary outline-none text-slate-800 dark:text-white ${Tt}`,placeholder:"-"}),l.jsx("span",{className:"text-xs text-slate-400",children:"cm"})]})]})]})]})]})]}),l.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 rounded-2xl p-6 shadow-sm border border-amber-100 dark:border-amber-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-amber-700 dark:text-amber-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(ud,{size:14})," Motivo de Consulta ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.map(b=>l.jsxs("button",{type:"button",onClick:()=>Ge(b),className:"px-2.5 py-1 text-[10px] font-bold uppercase rounded-md bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-300 hover:text-amber-600 hover:border-amber-300 border border-transparent shadow-sm transition-all",children:["+ ",b]},b))}),l.jsx("textarea",{name:"generalDescription",rows:3,value:S.generalDescription,onChange:Y,className:`w-full bg-white dark:bg-slate-800 border rounded-xl p-4 text-sm text-slate-900 dark:text-white outline-none resize-none placeholder:text-slate-400 ${V.generalDescription?"border-red-500 focus:ring-2 focus:ring-red-500":"border-amber-200 dark:border-amber-700 focus:ring-2 focus:ring-amber-400"}`,placeholder:"Describa el motivo principal de la visita..."}),V.generalDescription&&l.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-1",children:"Este campo es obligatorio"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>Be(!we),className:"w-full p-6 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-400 dark:text-slate-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(yn,{size:14})," Antecedentes Patolgicos",S.medicalHistory.length>0&&l.jsx("span",{className:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 px-2 py-0.5 rounded-full text-[10px] ml-2",children:S.medicalHistory.length})]}),we?l.jsx(Of,{size:18,className:"text-slate-400"}):l.jsx(Tf,{size:18,className:"text-slate-400"})]}),we&&l.jsxs("div",{className:"p-6 pt-0 border-t border-slate-100 dark:border-slate-700/50 animate-slide-down",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4 mt-4",children:oe.map(b=>{const X=S.medicalHistory.includes(b.id);return l.jsxs("div",{onClick:()=>re(b.id),className:`cursor-pointer p-2.5 rounded-xl border text-xs font-medium flex items-center gap-2 transition-all ${X?"bg-indigo-50 border-indigo-500 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-slate-50 border-slate-200 dark:border-slate-600 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:[l.jsx("span",{className:"text-base",children:b.icon}),l.jsx("span",{className:"flex-1 truncate",children:b.label}),X&&l.jsx(Ui,{size:12})]},b.id)})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:J,onChange:b=>L(b.target.value),placeholder:"Otro antecedente (Escribir...)",className:"flex-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-xs outline-none text-slate-900 dark:text-white placeholder:text-slate-400",onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),Ne())}}),l.jsx("button",{type:"button",onClick:Ne,className:"bg-indigo-50 text-indigo-600 border border-indigo-200 p-2 rounded-lg hover:bg-indigo-100",children:l.jsx(Vt,{size:16})})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:S.medicalHistory.filter(b=>!oe.some(X=>X.id===b)).map(b=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-indigo-50 text-indigo-700 text-[10px] font-bold border border-indigo-100",children:[b," ",l.jsx("button",{type:"button",onClick:()=>re(b),children:l.jsx(yt,{size:10})})]},b))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-rose-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(Ua,{size:14})," Alergias"]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{value:ce,onChange:b=>ae(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),Ae())},placeholder:"Aadir...",className:"flex-1 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-1.5 text-xs outline-none text-slate-900 dark:text-white placeholder:text-slate-400"}),l.jsx("button",{type:"button",onClick:Ae,className:"bg-rose-50 text-rose-500 p-1.5 rounded-lg hover:bg-rose-100 border border-rose-100",children:l.jsx(Vt,{size:16})})]}),l.jsxs("div",{className:"flex-1 flex flex-wrap content-start gap-2 min-h-[60px] bg-slate-50 dark:bg-slate-700/30 rounded-lg p-2",children:[F.map((b,X)=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-white dark:bg-slate-600 shadow-sm text-rose-600 dark:text-rose-400 text-[10px] font-bold border border-rose-100 dark:border-slate-500",children:[b," ",l.jsx("button",{type:"button",onClick:()=>mt(X),children:l.jsx(yt,{size:10})})]},X)),F.length===0&&l.jsx("span",{className:"text-xs text-slate-400 italic w-full text-center mt-2",children:"Ninguna registrada"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-emerald-500 uppercase text-xs font-bold tracking-widest",children:[l.jsx(Ig,{size:14})," Medicacin Actual"]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{value:ne,onChange:b=>be(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),_())},placeholder:"Nombre y dosis...",className:"flex-1 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-1.5 text-xs outline-none text-slate-900 dark:text-white placeholder:text-slate-400"}),l.jsx("button",{type:"button",onClick:_,className:"bg-emerald-50 text-emerald-600 p-1.5 rounded-lg hover:bg-emerald-100 border border-emerald-100",children:l.jsx(Vt,{size:16})})]}),l.jsxs("div",{className:"flex-1 flex flex-wrap content-start gap-2 min-h-[60px] bg-slate-50 dark:bg-slate-700/30 rounded-lg p-2",children:[le.map((b,X)=>l.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-white dark:bg-slate-600 shadow-sm text-emerald-700 dark:text-emerald-400 text-[10px] font-bold border border-emerald-100 dark:border-slate-500",children:[b.name," ",b.dosage&&`(${b.dosage})`,l.jsx("button",{type:"button",onClick:()=>te(X),className:"ml-1 hover:text-red-500",children:l.jsx(yt,{size:10})})]},X)),le.length===0&&l.jsx("span",{className:"text-xs text-slate-400 italic w-full text-center mt-2",children:"Sin medicacin"})]})]})]})]})]})})]}),ie&&l.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[1px]",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 text-center max-w-sm w-full mx-4 border border-slate-100 dark:border-slate-700 animate-slide-up",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-3 text-emerald-600 dark:text-emerald-400",children:l.jsx(Ui,{size:28})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:d?"Actualizar Datos?":"Registrar Paciente?"}),l.jsxs("div",{className:"flex gap-3 mt-5",children:[l.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-2 border border-slate-200 rounded-lg text-slate-600 text-sm font-medium hover:bg-slate-50",children:"Volver"}),l.jsx("button",{onClick:Te,className:"flex-1 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold shadow hover:bg-emerald-700",children:"Confirmar"})]})]})}),me&&l.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[1px]",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 text-center max-w-sm w-full mx-4 border border-slate-100 dark:border-slate-700 animate-slide-up",children:[l.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-3 text-red-600 dark:text-red-400",children:l.jsx(yt,{size:28})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:"Descartar Cambios?"}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"La informacin ingresada no se guardar."}),l.jsxs("div",{className:"flex gap-3 mt-5",children:[l.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-2 border border-slate-200 rounded-lg text-slate-600 text-sm font-medium hover:bg-slate-50",children:"Seguir Editando"}),l.jsx("button",{onClick:h,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold shadow hover:bg-red-700",children:"S, Salir"})]})]})}),ue&&l.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[1px]",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 text-center max-w-sm w-full mx-4 border border-slate-100 dark:border-slate-700 animate-slide-up",children:[l.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-3 text-red-600 dark:text-red-400",children:l.jsx(Ua,{size:28})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Eliminar Paciente?"}),l.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 mb-2 font-bold",children:"ADVERTENCIA: Esta accin no se puede deshacer."}),l.jsxs("div",{className:"flex gap-3 mt-5",children:[l.jsx("button",{onClick:()=>ke(!1),className:"flex-1 py-2 border border-slate-200 rounded-lg text-slate-600 text-sm font-medium hover:bg-slate-50",children:"Cancelar"}),l.jsx("button",{onClick:W,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold shadow hover:bg-red-700",children:"S, Eliminar"})]})]})})]})},xd=({onClose:h,onSuccess:x,preSelectedPatientId:d,initialDate:c,initialTime:M,initialProcedure:H})=>{const[S,$]=m.useState([]),[D,p]=m.useState(null),[Z,A]=m.useState(""),[V,K]=m.useState([]),[F,R]=m.useState(H||""),[ce,ae]=m.useState(""),[le,se]=m.useState(""),[ne,be]=m.useState(c||G.getNowLaPaz()),[ie,q]=m.useState(c||G.getNowLaPaz()),[me,pe]=m.useState(M||"09:00"),[ue,ke]=m.useState(8),[we,Be]=m.useState(18),[J,L]=m.useState(!1),[y,U]=m.useState(""),[I,ve]=m.useState("Efectivo"),[Q,u]=m.useState(!1),[w,Y]=m.useState("");m.useEffect(()=>{$(G.getPatients()),K(G.getProcedures());const W=G.getSchedule();if(ke(W.startHour),Be(W.endHour),d){const oe=G.getPatients().find(ze=>ze.id===d);oe&&p(oe)}},[d]),m.useEffect(()=>{const W=V.find(oe=>oe.name===F);W&&se(W.price.toString())},[F,V]);const ee=S.filter(W=>`${W.firstName} ${W.lastName}`.toLowerCase().includes(Z.toLowerCase())||W.dni.includes(Z)),fe=(W,oe)=>{let ze=W.target.value;ze.includes("-")||(ze.length>1&&ze.startsWith("0")&&ze[1]!=="."&&(ze=ze.replace(/^0+/,"")),oe(ze))},B=W=>{const oe=W.getFullYear(),ze=W.getMonth(),Pe=new Date(oe,ze+1,0).getDate(),at=new Date(oe,ze,1).getDay(),Ee=at===0?6:at-1;return{days:Pe,offset:Ee}},je=W=>{const oe=new Date(ie);oe.setMonth(oe.getMonth()+W),q(oe)},qe=W=>{const oe=G.getNowLaPaz();W==="tomorrow"&&oe.setDate(oe.getDate()+1),W==="dayAfterTomorrow"&&oe.setDate(oe.getDate()+2),W==="nextWeek"&&oe.setDate(oe.getDate()+7),W==="nextMonth"&&oe.setMonth(oe.getMonth()+1),be(oe),q(oe)},Ae=()=>{const W=[];for(let oe=ue;oe<=we;oe++)W.push(`${oe.toString().padStart(2,"0")}:00`),oe!==we&&W.push(`${oe.toString().padStart(2,"0")}:30`);return W},mt=W=>{if(W.preventDefault(),!D||!F||!le)return;const oe=new Date(ne),[ze,Pe]=me.split(":").map(Number);if(oe.setHours(ze,Pe,0,0),oe.getTime()<G.getNowLaPaz().getTime()-6e4){Y("No se pueden programar citas en el pasado.");return}Y(""),u(!0)},_=()=>{if(D)try{const W=new Date(ne),[oe,ze]=me.split(":").map(Number);W.setHours(oe,ze,0,0);const Pe=W.toISOString();let at="Consulta";const Ee=F.toLowerCase();Ee.includes("tratamiento")||Ee.includes("endodoncia")||Ee.includes("cirug")?at="Tratamiento":(Ee.includes("revis")||Ee.includes("control"))&&(at="Revisin");const Tt=J&&parseFloat(y)>=parseFloat(le);G.addAppointment({patientId:D.id,patientName:`${D.firstName} ${D.lastName}`,date:Pe,type:at,status:"Pendiente",notes:`${F} ${ce?"- "+ce:""}`,isPaid:Tt}),J&&y&&parseFloat(y)>0&&G.addPayment({patientId:D.id,patientName:`${D.firstName} ${D.lastName}`,amount:parseFloat(y),date:new Date().toISOString(),method:I,relatedProcedure:F,notes:`Adelanto cita: ${F}`}),x(),h()}catch(W){Y(W.message),u(!1)}},te="w-full p-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none placeholder:text-slate-400 transition-all shadow-sm",re="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1.5 uppercase tracking-wide";if(Q&&D){const W=parseFloat(le)||0,oe=J&&parseFloat(y)||0,ze=W-oe;return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl shadow-2xl p-6 text-center border border-white/20",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:l.jsx(_f,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:"Confirmar Cita"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Verifique los detalles antes de agendar."}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-5 mb-6 text-left space-y-3 border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Paciente"}),l.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:[D.firstName," ",D.lastName]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Fecha y Hora"}),l.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:[ne.toLocaleDateString("es-BO",{day:"2-digit",month:"short"})," - ",me]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Procedimiento"}),l.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:F})]}),l.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-600 my-2"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:"Costo Estimado"}),l.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["Bs ",W]})]}),J&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-xs text-emerald-600 uppercase font-bold",children:["Adelanto (",I,")"]}),l.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["- Bs ",oe]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1",children:[l.jsx("span",{className:"text-xs text-indigo-600 uppercase font-bold",children:"Saldo Restante"}),l.jsxs("span",{className:"text-base font-black text-indigo-600",children:["Bs ",ze]})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Volver"}),l.jsx("button",{onClick:_,className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/30 transition-all",children:"Confirmar"})]})]})})}const{days:Ne,offset:Ge}=B(ie),He=["L","M","M","J","V","S","D"],Ze=ie.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),Te=G.getNowLaPaz();return Te.setHours(0,0,0,0),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-3xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh]",children:[l.jsxs("div",{className:"flex items-center justify-between px-8 py-5 bg-white dark:bg-slate-800 border-b border-slate-100 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl text-white shadow-lg shadow-indigo-500/20",children:l.jsx(Wt,{size:24,strokeWidth:2.5})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white leading-none",children:"Agendar Cita"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Programar nueva visita"})]})]}),l.jsx("button",{onClick:h,className:"group p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:l.jsx(yt,{size:24,className:"text-slate-400 group-hover:text-red-500 transition-colors"})})]}),w&&l.jsxs("div",{className:"mx-8 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 rounded-2xl text-red-600 dark:text-red-400 text-sm flex items-center gap-3 animate-slide-down",children:[l.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-900/50 rounded-full",children:l.jsx(yt,{size:14})}),w]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:re,children:"Paciente"}),D?l.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-800/50 group",children:[l.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[l.jsxs("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-indigo-800 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold text-lg shadow-sm",children:[D.firstName.charAt(0),D.lastName.charAt(0)]}),l.jsxs("div",{className:"min-w-0",children:[l.jsxs("span",{className:"font-bold text-slate-800 dark:text-white text-base block truncate",children:[D.firstName," ",D.lastName]}),l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:["CI: ",D.dni]})]})]}),l.jsx("button",{type:"button",onClick:()=>p(null),className:"px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg text-xs font-bold text-slate-500 hover:text-red-500 shadow-sm border border-transparent hover:border-red-100 transition-all",children:"Cambiar"})]}):l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(Ol,{size:20,className:"text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre o CI...",value:Z,onChange:W=>A(W.target.value),className:te+" pl-12 py-4",autoFocus:!0}),Z&&l.jsx("div",{className:"absolute top-full left-0 w-full bg-white dark:bg-slate-700 shadow-2xl rounded-2xl border border-slate-100 dark:border-slate-600 max-h-56 overflow-y-auto z-20 mt-2 p-1 custom-scrollbar",children:ee.map(W=>l.jsxs("div",{onClick:()=>{p(W),A("")},className:"p-3 hover:bg-indigo-50 dark:hover:bg-slate-600 cursor-pointer rounded-xl flex items-center gap-3 transition-colors",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-500 flex items-center justify-center text-xs font-bold text-slate-500 dark:text-slate-200",children:W.firstName.charAt(0)}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-sm",children:[W.firstName," ",W.lastName]}),l.jsxs("div",{className:"text-[10px] text-slate-400",children:["CI: ",W.dni]})]})]},W.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:re,children:"Procedimiento"}),l.jsx("input",{list:"procedures",value:F,onChange:W=>R(W.target.value),className:te,placeholder:"Ej. Consulta General"}),l.jsx("datalist",{id:"procedures",children:V.map(W=>l.jsx("option",{value:W.name},W.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:re,children:"Notas (Opcional)"}),l.jsx("textarea",{rows:2,value:ce,onChange:W=>ae(W.target.value),className:te+" resize-none",placeholder:"Detalles clnicos breves..."})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:re,children:"Costo Estimado"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:"text-slate-400 font-bold text-sm",children:"Bs"})}),l.jsx("input",{type:"number",min:"0",step:"0.5",value:le,onChange:W=>fe(W,se),className:te+" pl-9 font-bold text-slate-700 dark:text-slate-200",placeholder:"0.00"})]})]})})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300 font-bold text-sm",children:[l.jsx("div",{className:`p-1.5 rounded-lg ${J?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:l.jsx(md,{size:18})}),"Pago por Adelantado"]}),l.jsx("button",{type:"button",onClick:()=>L(!J),className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 ${J?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,children:l.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${J?"translate-x-6":"translate-x-0"}`})})]}),J&&l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-5 rounded-2xl border border-emerald-100 dark:border-emerald-800/50 animate-fade-in space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold text-emerald-700 dark:text-emerald-400 mb-1 block",children:"Monto Adelanto"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-500 font-bold text-xs",children:"Bs"}),l.jsx("input",{type:"number",value:y,onChange:W=>fe(W,U),className:"w-full pl-8 p-2.5 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-white dark:bg-slate-800 text-emerald-700 dark:text-emerald-300 font-bold outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] uppercase font-bold text-emerald-700 dark:text-emerald-400 mb-1 block",children:"Mtodo"}),l.jsxs("select",{value:I,onChange:W=>ve(W.target.value),className:"w-full p-2.5 rounded-xl border border-emerald-200 dark:border-emerald-800 bg-white dark:bg-slate-800 text-emerald-700 dark:text-emerald-300 text-sm font-medium outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:"Efectivo",children:"Efectivo"}),l.jsx("option",{value:"QR",children:"QR"}),l.jsx("option",{value:"Transferencia",children:"Transferencia"}),l.jsx("option",{value:"Tarjeta",children:"Tarjeta"})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-emerald-200/50",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-700/70",children:"Saldo Restante:"}),l.jsxs("span",{className:"text-sm font-black text-emerald-700",children:["Bs ",(parseFloat(le)||0)-(parseFloat(y)||0)]})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("label",{className:re,children:"Fecha y Hora de la Cita"}),l.jsxs("div",{className:"bg-white dark:bg-slate-700/30 rounded-3xl border border-slate-200 dark:border-slate-600 p-5 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>je(-1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-lg text-slate-500",children:l.jsx(Ef,{size:20})}),l.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white capitalize",children:Ze}),l.jsx("button",{onClick:()=>je(1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-lg text-slate-500",children:l.jsx(js,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:[He.map(W=>l.jsx("div",{className:"text-[10px] font-bold text-slate-400 mb-2",children:W},W)),Array.from({length:Ge}).map((W,oe)=>l.jsx("div",{},`empty-${oe}`)),Array.from({length:Ne}).map((W,oe)=>{const ze=oe+1,Pe=new Date(ie.getFullYear(),ie.getMonth(),ze),at=Pe.toDateString(),Ee=at===ne.toDateString(),Tt=at===Te.toDateString(),b=Pe<Te;return l.jsx("button",{onClick:()=>!b&&be(new Date(ie.getFullYear(),ie.getMonth(),ze)),disabled:b,className:`
                                            h-9 w-9 rounded-full flex items-center justify-center text-sm font-medium transition-all
                                            ${b?"text-slate-300 dark:text-slate-600 cursor-not-allowed":"hover:bg-slate-100 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300"}
                                            ${Ee?"bg-indigo-600 text-white shadow-md scale-110 hover:bg-indigo-700":""}
                                            ${Tt&&!Ee?"border border-indigo-500 text-indigo-600 font-bold":""}
                                        `,children:ze},ze)})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-4 pt-4 border-t border-slate-100 dark:border-slate-600",children:[l.jsx("button",{type:"button",onClick:()=>qe("today"),className:"text-[10px] font-bold px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"Hoy"}),l.jsx("button",{type:"button",onClick:()=>qe("tomorrow"),className:"text-[10px] font-bold px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"Maana"}),l.jsx("button",{type:"button",onClick:()=>qe("dayAfterTomorrow"),className:"text-[10px] font-bold px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"Pasado"}),l.jsx("button",{type:"button",onClick:()=>qe("nextWeek"),className:"text-[10px] font-bold px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"Prx. Semana"}),l.jsx("button",{type:"button",onClick:()=>qe("nextMonth"),className:"text-[10px] font-bold px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"Prx. Mes"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-700/30 rounded-3xl border border-slate-200 dark:border-slate-600 p-5 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase",children:[l.jsx(ul,{size:14})," Hora"]}),l.jsx("input",{type:"time",value:me,onChange:W=>pe(W.target.value),className:"border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-sm bg-white dark:bg-slate-800 text-slate-800 dark:text-white font-bold outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2",children:"Seleccin Rpida"}),l.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto pr-1 custom-scrollbar",children:Ae().map(W=>l.jsx("button",{type:"button",onClick:()=>pe(W),className:`
                                        py-2 px-1 rounded-lg text-xs font-bold transition-all border
                                        ${me===W?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:border-indigo-300"}
                                    `,children:W},W))})]})]})]})}),l.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-4",children:[l.jsx("button",{type:"button",onClick:h,className:"px-6 py-3 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl font-bold transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"button",onClick:mt,disabled:!D||!le||!F,className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/30 hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l.jsx(kn,{size:18}),"Confirmar Cita"]})]})]})})},Cf=({user:h,onNavigate:x})=>{const[d,c]=m.useState(""),[M,H]=m.useState({totalIncome:0,totalPatients:0,appointmentsToday:0,pendingAppointments:0,monthlyIncome:0,dailyIncome:0}),[S,$]=m.useState([]),[D,p]=m.useState([]),[Z,A]=m.useState(""),[V,K]=m.useState(!1),[F,R]=m.useState("appointments"),[ce,ae]=m.useState([]),[le,se]=m.useState(!1),[ne,be]=m.useState(!1),[ie,q]=m.useState(""),[me,pe]=m.useState([]),[ue,ke]=m.useState(!1),[we,Be]=m.useState(!1),J=m.useRef(null),[L,y]=m.useState(null),[U,I]=m.useState(!1),[ve,Q]=m.useState(null),[u,w]=m.useState(G.getNowLaPaz()),[Y,ee]=m.useState(!1),[fe,B]=m.useState(null),[je,qe]=m.useState([]),Ae=()=>{const b=G.getStats(),X=G.getPayments().filter(pt=>pt.status!=="cancelled"),he=G.getNowLaPaz(),Se=X.filter(pt=>{const lt=new Date(pt.date);return lt.getMonth()===he.getMonth()&&lt.getFullYear()===he.getFullYear()}).reduce((pt,lt)=>pt+lt.amount,0),jt=X.filter(pt=>{const lt=new Date(pt.date);return lt.getDate()===he.getDate()&&lt.getMonth()===he.getMonth()&&lt.getFullYear()===he.getFullYear()}).reduce((pt,lt)=>pt+lt.amount,0);H({...b,monthlyIncome:Se,dailyIncome:jt}),$(G.getAppointments());const Ut=[...G.getReminders()].sort((pt,lt)=>Number(pt.completed)-Number(lt.completed));p(Ut),ae(G.getRecentTreatedPatients())};m.useEffect(()=>{const b=()=>{const Se=G.getNowLaPaz(),jt=Se.getHours(),Ut=G.getSchedule();ee(jt>=Ut.startHour&&jt<Ut.endHour),w(Se),jt<12?c("Buenos das"):jt<18?c("Buenas tardes"):c("Buenas noches")};b(),Ae();const X=setInterval(b,1e3),he=Se=>{J.current&&!J.current.contains(Se.target)&&ke(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he),clearInterval(X)}},[]),m.useEffect(()=>{if(ie.length>0){const b=G.searchPatients(ie);pe(b),ke(!0)}else pe([]),ke(!1)},[ie]);const mt=b=>{y(b),q(""),ke(!1)},_=b=>{const X=G.getPatients().find(he=>he.id===b.patientId);if(X){let he=b.type==="Tratamiento"?"Consulta General":b.type;b.notes&&b.notes.includes("-")?he=b.notes.split("-")[0].trim():b.notes&&(he=b.notes),Q({patient:X,id:b.id,procedure:he})}},te=b=>{x("diagnosis",b)},re=b=>{if(b.preventDefault(),!Z.trim())return;G.addReminder(Z,h);const X=[...G.getReminders()].sort((he,Se)=>Number(he.completed)-Number(Se.completed));p(X),A(""),K(!1)},Ne=b=>{G.toggleReminder(b);const X=[...G.getReminders()].sort((he,Se)=>Number(he.completed)-Number(Se.completed));p(X)},Ge=b=>{G.deleteReminder(b);const X=[...G.getReminders()].sort((he,Se)=>Number(he.completed)-Number(Se.completed));p(X)},He=(b,X)=>{b.stopPropagation(),B(X)},Ze=()=>{fe&&(qe(b=>[...b,fe]),setTimeout(()=>{G.cancelAppointment(fe),qe(b=>b.filter(X=>X!==fe)),B(null),Ae()},700))},Te=b=>new Intl.NumberFormat("es-BO",{style:"decimal",minimumFractionDigits:0}).format(b),W=b=>new Intl.DateTimeFormat("es-BO",{timeZone:"America/La_Paz",hour:"2-digit",minute:"2-digit",hour12:!1}).format(b),oe=b=>new Intl.DateTimeFormat("es-BO",{timeZone:"America/La_Paz",weekday:"long",day:"numeric",month:"long"}).format(b),ze=G.getNowLaPaz();ze.setHours(0,0,0,0);const Pe=G.getNowLaPaz(),at=S.filter(b=>new Date(b.date)>=ze&&b.status==="Pendiente").sort((b,X)=>new Date(b.date).getTime()-new Date(X.date).getTime()).slice(0,5),Ee=()=>h.role===Je.PRINCIPAL?l.jsxs("div",{className:"flex-1 min-w-[120px] px-2 flex flex-col items-center animate-fade-in",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:"Ingresos del Mes"}),l.jsx("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:l.jsxs("span",{className:"text-xl font-bold tracking-tight",children:["Bs.- ",Te(M.monthlyIncome)]})})]}):h.role===Je.STAFF?l.jsxs("div",{className:"flex-1 min-w-[120px] px-2 flex flex-col items-center animate-fade-in",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:"Caja Diaria (Hoy)"}),l.jsx("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:l.jsxs("span",{className:"text-xl font-bold tracking-tight",children:["Bs.- ",Te(M.dailyIncome)]})})]}):l.jsxs("div",{className:"flex-1 min-w-[120px] px-2 flex flex-col items-center animate-fade-in",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:"Pacientes Atendidos"}),l.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400",children:[l.jsx(vn,{size:16,strokeWidth:3}),l.jsx("span",{className:"text-xl font-bold tracking-tight",children:ce.length})]})]}),Tt=/^\d+$/.test(ie.trim());return l.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[l.jsxs("div",{className:"relative rounded-3xl shadow-xl overflow-hidden p-8 md:p-10 flex flex-col md:flex-row justify-between items-center gap-6 text-white transition-all transform hover:scale-[1.01] duration-500",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 z-0"}),l.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none animate-pulse"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-emerald-500/10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 text-center md:text-left",children:[l.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight mb-3",children:[d,", ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-200 to-teal-400",children:h.name})]}),l.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white/5 backdrop-blur-md rounded-full border border-white/10 shadow-sm transition-transform hover:scale-105",children:Y?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 animate-pulse shadow-[0_0_10px_rgba(52,211,153,0.8)]"}),l.jsx(zg,{size:12,className:"text-emerald-400"}),l.jsx("span",{className:"text-xs font-bold text-emerald-100 uppercase tracking-widest",children:"Consultorio Abierto"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-red-500 shadow-sm"}),l.jsx(od,{size:12,className:"text-red-400"}),l.jsx("span",{className:"text-xs font-bold text-red-100 uppercase tracking-widest",children:"Consultorio Cerrado"})]})})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center md:items-end border-t md:border-t-0 border-white/10 pt-6 md:pt-0 w-full md:w-auto",children:[l.jsx("div",{className:"text-6xl font-bold tracking-tighter tabular-nums drop-shadow-lg leading-none",children:W(u)}),l.jsxs("div",{className:"text-sm font-medium text-slate-300 uppercase tracking-wide mt-2 flex items-center gap-2",children:[l.jsx(Wt,{size:14,className:"text-primary"}),oe(u)]})]})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm px-6 py-4 flex flex-wrap justify-around items-center gap-4 text-center divide-x divide-slate-100 dark:divide-slate-700",children:[Ee(),l.jsxs("div",{className:"flex-1 min-w-[120px] px-2 flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:"Total Pacientes"}),l.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[l.jsx(vn,{size:16,strokeWidth:3}),l.jsx("span",{className:"text-xl font-bold tracking-tight",children:M.totalPatients})]})]}),l.jsxs("div",{className:"flex-1 min-w-[120px] px-2 flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:"Citas Hoy"}),l.jsxs("div",{className:"flex items-center gap-2 text-rose-600 dark:text-rose-400",children:[l.jsx(Wt,{size:16,strokeWidth:3}),l.jsx("span",{className:"text-xl font-bold tracking-tight",children:M.appointmentsToday})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 items-stretch",children:[l.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col justify-between min-h-[140px]",ref:J,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bf,{size:20,className:"text-primary"}),l.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Nueva Consulta / Nuevo paciente"})]}),l.jsxs("button",{onClick:()=>Be(!0),className:"flex items-center gap-1.5 px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-[10px] font-bold uppercase hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[l.jsx(jn,{size:14}),l.jsx("span",{children:"Cmo funciona?"})]})]}),l.jsxs("div",{className:"relative group flex-1 flex items-center",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx(Ol,{size:24,className:"text-slate-400 group-focus-within:text-primary transition-colors"})}),l.jsx("input",{type:"text",value:ie,onChange:b=>q(b.target.value),placeholder:"Busque paciente por nombre o CI para atender...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-xl font-medium text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all placeholder:text-slate-400"}),ue&&l.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden animate-slide-down z-50",children:me.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-900/50 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Resultados de Bsqueda"}),me.map(b=>l.jsxs("button",{onClick:()=>mt(b),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 dark:hover:bg-slate-700 flex items-center justify-between group transition-colors border-b border-slate-100 dark:border-slate-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-indigo-900/30 flex items-center justify-center text-slate-600 dark:text-indigo-300 font-bold text-sm group-hover:bg-white group-hover:text-primary transition-colors",children:[b.firstName.charAt(0),b.lastName.charAt(0)]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800 dark:text-white group-hover:text-primary transition-colors text-base",children:[b.firstName," ",b.lastName]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["CI: ",b.dni]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-primary opacity-0 group-hover:opacity-100 transition-all translate-x-2 group-hover:translate-x-0",children:["Atender ",l.jsx(js,{size:16})]})]},b.id))]}):l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"No existe el paciente."}),l.jsxs("button",{onClick:()=>{I(!0),ke(!1)},className:"w-full py-3 bg-slate-900 dark:bg-primary text-white rounded-xl font-bold hover:opacity-90 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Lf,{size:18}),Tt?`Registrar con CI: ${ie}`:`Registrar a: "${ie}"`]})]})})]})]}),l.jsxs("div",{className:"xl:col-span-1 grid grid-cols-2 gap-4 h-full min-h-[140px]",children:[l.jsxs("button",{onClick:()=>be(!0),className:"relative overflow-hidden rounded-2xl p-4 flex flex-col justify-between h-full bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-md hover:shadow-lg hover:-translate-y-1 transition-all group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20 transform translate-x-2 -translate-y-2",children:l.jsx(rd,{size:50})}),l.jsx("div",{className:"relative z-10 bg-white/20 w-fit p-2 rounded-lg backdrop-blur-sm",children:l.jsx(rd,{size:20})}),l.jsxs("div",{className:"relative z-10 mt-auto pt-4",children:[l.jsx("h3",{className:"font-bold text-base leading-tight",children:"Agendar Cita"}),l.jsx("p",{className:"text-[10px] text-indigo-100 opacity-90 mt-0.5",children:"Nueva Consulta / Trat."})]})]}),l.jsxs("button",{onClick:()=>se(!0),className:"relative overflow-hidden rounded-2xl p-4 flex flex-col justify-between h-full bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-md hover:shadow-lg hover:-translate-y-1 transition-all group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20 transform translate-x-2 -translate-y-2",children:l.jsx(vf,{size:50})}),l.jsx("div",{className:"relative z-10 bg-white/20 w-fit p-2 rounded-lg backdrop-blur-sm",children:l.jsx(vf,{size:20})}),l.jsxs("div",{className:"relative z-10 mt-auto pt-4",children:[l.jsx("h3",{className:"font-bold text-base leading-tight",children:"Registrar Ingreso"}),l.jsx("p",{className:"text-[10px] text-emerald-100 opacity-90 mt-0.5",children:"Cobro Rpido"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col h-full min-h-[400px]",children:[l.jsxs("div",{className:"flex border-b border-slate-100 dark:border-slate-700",children:[l.jsxs("button",{onClick:()=>R("appointments"),className:`flex-1 py-4 text-sm font-semibold flex items-center justify-center gap-2 transition-colors ${F==="appointments"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white border-b-2 border-primary":"bg-slate-50 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[l.jsx(Wt,{size:18})," Prximas Citas"]}),l.jsxs("button",{onClick:()=>R("recent"),className:`flex-1 py-4 text-sm font-semibold flex items-center justify-center gap-2 transition-colors ${F==="recent"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white border-b-2 border-primary":"bg-slate-50 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[l.jsx(pg,{size:18})," Pacientes Recientes"]})]}),l.jsx("div",{className:"p-0 flex-1 overflow-y-auto max-h-[400px]",children:F==="appointments"?l.jsx("div",{children:at.length>0?l.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:at.map(b=>{const X=je.includes(b.id),he=new Date(b.date),Se=he.toDateString()===Pe.toDateString();return l.jsxs("div",{onClick:()=>_(b),className:`relative p-4 flex items-center gap-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-300 group cursor-pointer overflow-hidden ${X?"opacity-0 translate-x-10 grayscale line-through":"opacity-100 hover:shadow-[inset_4px_0_0_0_rgba(13,148,136,1)]"}`,children:[l.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-xl border transition-colors ${Se?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border-indigo-100 dark:border-indigo-900/50"}`,children:[l.jsx("span",{className:"text-xs font-bold uppercase",children:he.toLocaleDateString("es-ES",{month:"short"})}),l.jsx("span",{className:"text-xl font-bold",children:he.getDate()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white group-hover:text-primary transition-colors truncate",children:b.patientName}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[l.jsx(ul,{size:12}),l.jsx("span",{className:Se?"font-bold text-emerald-600":"",children:G.formatTime(b.date)}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),l.jsx("span",{className:"truncate",children:b.notes?b.notes.split("-")[0].trim():b.type})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[l.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs font-bold text-primary opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-300",children:[l.jsx("span",{children:"Atender"}),l.jsx(js,{size:14})]}),l.jsx("button",{onClick:jt=>He(jt,b.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors z-10",title:"Cancelar Cita",children:l.jsx(Li,{size:20})})]})]},b.id)})}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[l.jsx(Wt,{size:40,className:"mb-2 opacity-20"}),l.jsx("p",{children:"No hay citas prximas programadas."}),l.jsx("button",{onClick:()=>x("appointments"),className:"text-primary text-sm font-medium mt-2 hover:underline",children:"Ver Agenda Completa"})]})}):l.jsx("div",{children:ce.length>0?l.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:ce.map(b=>l.jsxs("div",{onClick:()=>te(b.patient),className:"p-4 flex items-center gap-4 hover:bg-indigo-50 dark:hover:bg-slate-700/80 transition-all cursor-pointer group relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-50/0 group-hover:bg-indigo-50/50 dark:group-hover:bg-indigo-900/10 transition-colors pointer-events-none"}),l.jsxs("div",{className:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/30 flex items-center justify-center text-teal-700 dark:text-teal-400 font-bold text-sm relative z-10",children:[b.patient.firstName.charAt(0),b.patient.lastName.charAt(0)]}),l.jsxs("div",{className:"flex-1 relative z-10",children:[l.jsxs("h4",{className:"font-semibold text-slate-800 dark:text-white group-hover:text-primary transition-colors",children:[b.patient.firstName," ",b.patient.lastName]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[l.jsx(fl,{size:12}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:b.lastTreatment.procedure}),l.jsx("span",{className:"text-slate-300",children:"|"}),l.jsx("span",{className:"italic",children:new Date(b.lastTreatment.date).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[l.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${b.lastTreatment.status==="Completado"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:b.lastTreatment.status}),l.jsx("div",{className:"text-primary opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0",children:l.jsx(js,{size:18})})]})]},b.patient.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[l.jsx(yn,{size:40,className:"mb-2 opacity-20"}),l.jsx("p",{children:"No hay actividad reciente registrada."})]})})})]})}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full min-h-[400px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-100 dark:border-slate-700 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-500 font-bold",children:[l.jsx(Dh,{size:20}),l.jsx("span",{children:"Recordatorios & Notas"})]}),l.jsx("button",{onClick:()=>K(!V),className:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 p-2 rounded-lg hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:l.jsx(Vt,{size:18})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide space-y-3",children:[V&&l.jsxs("form",{onSubmit:re,className:"mb-4 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-amber-200 dark:border-amber-900/50 animate-fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:Z,onChange:b=>A(b.target.value),placeholder:"Escriba nueva tarea...",className:"w-full text-sm border-b border-amber-300 dark:border-amber-600 outline-none bg-transparent text-slate-900 dark:text-white pb-1 placeholder:text-slate-400"}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsx("button",{type:"submit",className:"text-xs bg-amber-500 text-white px-3 py-1 rounded shadow-sm hover:bg-amber-600",children:"Aadir"})})]}),D.length===0&&!V?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[l.jsx(Ns,{size:40,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-xs italic",children:"Todo est al da"})]}):D.map(b=>l.jsxs("div",{className:"flex flex-col gap-1 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 group hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-600",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>Ne(b.id),className:"mt-0.5 text-slate-400 hover:text-primary transition-colors",children:b.completed?l.jsx(Ns,{size:16,className:"text-green-500"}):l.jsx($h,{size:16})}),l.jsx("span",{className:`text-sm flex-1 text-slate-700 dark:text-slate-200 leading-snug ${b.completed?"line-through opacity-50":""}`,children:b.text}),l.jsx("button",{onClick:()=>Ge(b.id),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-red-500 transition-opacity",children:l.jsx(Ha,{size:14})})]}),l.jsx("div",{className:"pl-7",children:l.jsxs("span",{className:"text-[10px] font-medium bg-white dark:bg-slate-600 text-slate-400 dark:text-slate-300 px-2 py-0.5 rounded-full border border-slate-100 dark:border-slate-500 flex w-fit shadow-sm",children:["Por: ",b.createdBy||"Sistema"]})})]},b.id))]})]})})]}),le&&l.jsx(qf,{onClose:()=>se(!1),onSuccess:Ae}),L&&l.jsx(Yi,{patient:L,onClose:()=>y(null),onSuccess:()=>{Ae(),q("")}}),ve&&l.jsx(Yi,{patient:ve.patient,appointmentId:ve.id,initialProcedure:ve.procedure,onClose:()=>Q(null),onSuccess:()=>{Ae(),Q(null)}}),ne&&l.jsx(xd,{onClose:()=>be(!1),onSuccess:()=>{Ae(),be(!1)}}),U&&l.jsx(Yf,{initialName:Tt?"":ie,initialCi:Tt?ie:"",onCancel:()=>I(!1),onSuccess:()=>{setTimeout(()=>{Ae(),I(!1)},100)}}),fe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600 dark:text-red-400",children:l.jsx(Li,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cancelar Cita?"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"La cita se eliminar de la lista de pendientes."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>B(null),className:"flex-1 py-3 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Mantener"}),l.jsx("button",{onClick:Ze,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-medium hover:shadow-lg hover:bg-red-700",children:"S, Cancelar"})]})]})}),we&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-start",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Nn,{size:20}),"Gua de Flujo Clnico Rpido"]}),l.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Cmo optimizar la atencin del paciente"})]}),l.jsx("button",{onClick:()=>Be(!1),className:"text-white/70 hover:text-white bg-white/10 p-1 rounded-full",children:l.jsx(yt,{size:18})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Bsqueda Inteligente"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Escriba el ",l.jsx("strong",{children:"Nombre, Apellido o Carnet (CI)"})," en la barra central grande."]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Atencin Inmediata"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Si el paciente aparece en la lista desplegable, haga clic en su nombre para ir directo al diagnstico o cobro."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Registro Rpido"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Si no encuentra resultados, aparecer un botn azul para ",l.jsx("strong",{children:'"Registrar"'})," al instante usando el nombre o nmero que ya escribi."]})]})]}),l.jsx("button",{onClick:()=>Be(!1),className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold rounded-xl text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:"Entendido, Volver al Tablero"})]})]})})]})},dd=({patient:h,onClose:x})=>{const[d,c]=m.useState([]),[M,H]=m.useState(void 0),[S,$]=m.useState([]),[D,p]=m.useState(null),Z=m.useRef(null),A=m.useRef(null);m.useEffect(()=>{c(G.getTreatmentsByPatient(h.id)),H(G.getOdontogram(h.id)),$(G.getImagesByPatient(h.id)),p(G.getLogo())},[h.id]);const V=R=>{var ae;const ce=(ae=R.target.files)==null?void 0:ae[0];if(ce){const le=new FileReader;le.onload=se=>{var be;const ne=new Image;ne.onload=()=>{const ie=document.createElement("canvas"),q=ie.getContext("2d"),me=800;let pe=ne.width,ue=ne.height;if(pe>ue?pe>me&&(ue*=me/pe,pe=me):ue>me&&(pe*=me/ue,ue=me),ie.width=pe,ie.height=ue,q){q.drawImage(ne,0,0,pe,ue);const ke=ie.toDataURL("image/jpeg",.8),we={id:Math.random().toString(36).substr(2,9),patientId:h.id,date:new Date().toISOString(),type:"Rayos X",title:ce.name,imageData:ke};G.addImage(we),$(Be=>[we,...Be])}},ne.src=(be=se.target)==null?void 0:be.result},le.readAsDataURL(ce)}},K=R=>{confirm("Eliminar esta imagen del expediente?")&&(G.deleteImage(R),$(ce=>ce.filter(ae=>ae.id!==R)))},F=()=>{var ie;const R=Z.current;if(!R)return;const ce=(ie=R.contentWindow)==null?void 0:ie.document;if(!ce)return;const ae=D?`<img src="${D}" style="height: 60px; max-width: 180px; object-fit: contain; display: block;" />`:'<h1 style="color: #0f172a; font-size: 24px; font-weight: bold; margin: 0;">Consultorio Odontolgico Taboada</h1>';let le='<tr><td colspan="3" style="text-align: center; color: #94a3b8; font-style: italic; padding: 10px;">Sin registro de odontograma.</td></tr>';M&&M.details.length>0&&(le=M.details.map(q=>{const me=q.condition==="restoration_good"?"Restauracin (Buen Estado)":q.condition==="root_canal"?"Tratamiento de Conducto":q.condition==="veneer"?"Carilla":q.condition==="whitening"?"Blanqueamiento":q.condition==="missing"?"Pieza Ausente":q.condition.charAt(0).toUpperCase()+q.condition.slice(1),pe=q.face==="whole"?"Completa":q.face==="top"?"Vestibular (Sup)":q.face==="bottom"?"Palatino/Lingual":q.face==="left"?"Mesial/Distal":q.face==="right"?"Distal/Mesial":"Oclusal/Incisal";return`
                <tr>
                    <td style="text-align: center; font-weight: bold;">${q.toothNumber}</td>
                    <td>${pe} - ${me}</td>
                    <td>${q.notes||"-"}</td>
                </tr>
              `}).join(""));let se="";S.length>0&&(se=`
            <h3 style="margin-top: 30px;">Estudios de Imagenologa</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 10px;">
                ${S.map(q=>`
                    <div style="width: 150px; border: 1px solid #e2e8f0; border-radius: 5px; padding: 5px; text-align: center;">
                        <img src="${q.imageData}" style="width: 100%; height: 120px; object-fit: contain; display: block;" />
                        <p style="font-size: 9px; margin: 5px 0 0 0; color: #475569;">${q.title}</p>
                        <p style="font-size: 8px; margin: 0; color: #94a3b8;">${new Date(q.date).toLocaleDateString()}</p>
                    </div>
                `).join("")}
            </div>
          `);const ne=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Historia Clnica - ${h.firstName} ${h.lastName}</title>
          <style>
            @media print {
                @page { size: A4; margin: 15mm; }
                body { -webkit-print-color-adjust: exact; }
            }
            body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #1e293b; padding: 20px; margin: 0; font-size: 12px; line-height: 1.5; }
            .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #0d9488; padding-bottom: 15px; margin-bottom: 25px; }
            .clinic-info { text-align: right; font-size: 11px; color: #64748b; }
            
            .patient-card { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 15px; margin-bottom: 25px; }
            .row { display: flex; gap: 20px; margin-bottom: 10px; }
            .col { flex: 1; }
            .label { font-size: 10px; text-transform: uppercase; color: #64748b; font-weight: bold; margin-bottom: 3px; display: block; letter-spacing: 0.5px; }
            .value { font-size: 13px; font-weight: 600; color: #0f172a; }
            .alert { color: #dc2626; font-weight: bold; background: #fee2e2; padding: 2px 6px; border-radius: 4px; }
            
            h3 { font-size: 14px; margin: 25px 0 10px 0; color: #0d9488; border-bottom: 1px solid #e2e8f0; padding-bottom: 5px; text-transform: uppercase; letter-spacing: 0.5px; }
            
            table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 11px; }
            th { text-align: left; background: #f1f5f9; font-size: 10px; text-transform: uppercase; color: #475569; padding: 8px; font-weight: bold; border-bottom: 2px solid #cbd5e1; }
            td { padding: 8px; border-bottom: 1px solid #e2e8f0; vertical-align: top; }
            tr:nth-child(even) { background-color: #fcfcfc; }
            
            .status-completed { color: #059669; font-weight: bold; background: #ecfdf5; padding: 2px 6px; border-radius: 4px; display: inline-block; font-size: 10px; }
            
            .footer { position: fixed; bottom: 0; left: 0; right: 0; text-align: center; font-size: 9px; color: #94a3b8; border-top: 1px solid #e2e8f0; padding-top: 10px; background: white; }
            
            .signature-box { margin-top: 50px; page-break-inside: avoid; display: flex; justify-content: flex-end; }
            .signature-line { width: 200px; border-top: 1px solid #333; text-align: center; padding-top: 5px; }
          </style>
        </head>
        <body>
          <div class="header">
            <div>${ae}</div>
            <div class="clinic-info">
              <p style="font-size: 14px; font-weight: bold; color: #0f172a; margin-bottom: 5px;">Odontologa Integral Especializada</p>
              <p>Fecha de Impresin: ${new Date().toLocaleDateString()}</p>
              <p>Historia Clnica Digital # ${h.id.substring(0,6).toUpperCase()}</p>
            </div>
          </div>

          <div class="patient-card">
             <div style="margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #cbd5e1; display: flex; justify-content: space-between; align-items: baseline;">
                <div>
                    <span class="label">Paciente</span>
                    <span class="value" style="font-size: 18px;">${h.firstName} ${h.lastName}</span>
                </div>
                <div>
                     <span class="label" style="text-align: right;">CI / DNI</span>
                     <span class="value">${h.dni||"---"}</span>
                </div>
             </div>
             
             <div class="row">
                <div class="col">
                   <span class="label">Edad / Nacimiento / Sexo</span>
                   <span class="value">${h.age?h.age+" aos":"--"} / ${h.birthDate||"--"} / ${h.gender||"--"}</span>
                </div>
                <div class="col">
                   <span class="label">Celular</span>
                   <span class="value">${h.phone||"---"}</span>
                </div>
                <div class="col">
                   <span class="label">Ocupacin</span>
                   <span class="value">${h.occupation||"---"}</span>
                </div>
             </div>
             
             <div class="row" style="margin-top: 15px;">
                <div class="col">
                   <span class="label">Alergias</span>
                   <span class="value ${h.allergies&&h.allergies!=="Ninguna"?"alert":""}">${h.allergies||"Ninguna"}</span>
                </div>
                <div class="col" style="flex: 2;">
                   <span class="label">Antecedentes Patolgicos</span>
                   <span class="value" style="line-height: 1.4;">${h.medicalHistory&&h.medicalHistory.length>0?h.medicalHistory.join(", "):"Sin antecedentes registrados"}</span>
                </div>
             </div>
          </div>

          <h3>Estado Dental Actual (Odontograma)</h3>
          ${M?`
            <p style="font-size: 10px; color: #64748b; margin-bottom: 5px;">ltima actualizacin: ${new Date(M.updatedAt).toLocaleDateString()}</p>
            <table>
                <thead>
                    <tr>
                        <th width="10%">Pieza</th>
                        <th width="40%">Condicin</th>
                        <th width="50%">Notas</th>
                    </tr>
                </thead>
                <tbody>
                    ${le}
                </tbody>
            </table>
          `:'<p style="font-style: italic; color: #64748b; padding: 10px 0;">No se ha registrado odontograma para este paciente.</p>'}

          <h3>Tratamientos Realizados (Evolucin)</h3>
          
          <table>
             <thead>
                <tr>
                   <th width="12%">Fecha</th>
                   <th width="25%">Procedimiento</th>
                   <th width="40%">Detalle Clnico</th>
                   <th width="13%">Estado</th>
                </tr>
             </thead>
             <tbody>
                ${d.length>0?d.map(q=>`
                  <tr>
                     <td>${new Date(q.date).toLocaleDateString()}</td>
                     <td><strong>${q.procedure}</strong></td>
                     <td>${q.description}</td>
                     <td><span class="${q.status==="Completado"?"status-completed":""}">${q.status}</span></td>
                  </tr>
                `).join(""):'<tr><td colspan="4" style="text-align: center; padding: 20px; color: #94a3b8; font-style: italic;">No hay tratamientos registrados.</td></tr>'}
             </tbody>
          </table>

          ${se}

          <div class="signature-box">
             <div class="signature-line">
                 <strong>Dr. Taboada</strong><br>
                 <span style="font-size: 10px; color: #64748b;">Cirujano Dentista - Director</span>
             </div>
          </div>

          <div class="footer">
             Documento generado digitalmente por sistema DentalFlow TMG | Confidencial
          </div>
        </body>
        </html>
      `;ce.open(),ce.write(ne),ce.close();const be=ce.querySelector("img");be?(be.onload=()=>{var q,me;(q=R.contentWindow)==null||q.focus(),(me=R.contentWindow)==null||me.print()},setTimeout(()=>{var q,me;(q=R.contentWindow)!=null&&q.matchMedia("print").matches||(me=R.contentWindow)==null||me.print()},1e3)):setTimeout(()=>{var q,me;(q=R.contentWindow)==null||q.focus(),(me=R.contentWindow)==null||me.print()},300)};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[l.jsx("iframe",{ref:Z,style:{position:"absolute",width:"0",height:"0",border:"none"},title:"print-frame"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:A,onChange:V}),l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2.5 rounded-lg text-blue-600 dark:text-blue-400",children:l.jsx(ud,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Expediente Digital"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Confidencial"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:text-indigo-300 dark:hover:bg-indigo-900/40 rounded-lg transition-colors text-sm font-bold shadow-sm",title:"Imprimir Informe (A4)",children:[l.jsx(Uf,{size:18})," Imprimir Reporte"]}),l.jsx("button",{onClick:x,className:"p-2 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:l.jsx(yt,{size:24})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto bg-slate-50/30 dark:bg-slate-900/10",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 border-b border-slate-200 dark:border-slate-700 flex flex-col md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-2xl font-bold text-slate-500 dark:text-slate-300 overflow-hidden",children:h.photo?l.jsx("img",{src:h.photo,className:"w-full h-full object-cover"}):l.jsxs(l.Fragment,{children:[h.firstName.charAt(0),h.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[h.firstName," ",h.lastName]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["CI: ",h.dni]})]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-600",children:[l.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold mb-1",children:"Edad"}),l.jsx("span",{className:"font-bold text-slate-700 dark:text-white text-lg",children:h.age?h.age+" aos":"-"})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-600",children:[l.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold mb-1",children:"Celular"}),l.jsx("span",{className:"font-bold text-slate-700 dark:text-white text-lg",children:h.phone||"-"})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg col-span-2 border border-slate-100 dark:border-slate-600",children:[l.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold mb-1",children:"Alergias"}),l.jsx("span",{className:`font-bold text-lg ${h.allergies&&h.allergies!=="Ninguna"?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-white"}`,children:h.allergies||"Ninguna"})]})]})]}),l.jsxs("div",{className:"p-6 space-y-8 pb-10",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2 text-slate-800 dark:text-white font-bold border-b border-slate-200 dark:border-slate-700 pb-2",children:[l.jsx(gg,{size:20,className:"text-indigo-500"}),l.jsx("h3",{children:"Estado Dental Actual (Odontograma)"})]}),M&&M.details.length>0?l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 text-xs uppercase font-bold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Pieza"}),l.jsx("th",{className:"px-4 py-3",children:"Ubicacin"}),l.jsx("th",{className:"px-4 py-3",children:"Condicin"}),l.jsx("th",{className:"px-4 py-3",children:"Notas"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-slate-700 dark:text-slate-300",children:M.details.map((R,ce)=>{const ae={healthy:"Sano",caries:"Caries",restoration_good:"Restauracin OK",root_canal:"Trat. Conducto",veneer:"Carilla",whitening:"Blanqueamiento",missing:"Ausente",sealant:"Sellante",bridge:"Puente",implant:"Implante"},le={whole:"Completa",center:"Oclusal/Incisal",top:"Vestibular",bottom:"Palatino",left:"Mesial",right:"Distal"};return l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 font-bold",children:R.toothNumber}),l.jsx("td",{className:"px-4 py-2",children:le[R.face]}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-[10px] font-bold uppercase
                                                        ${R.condition==="caries"?"bg-red-100 text-red-700":R.condition==="root_canal"?"bg-amber-100 text-amber-700":R.condition==="missing"?"bg-slate-100 text-slate-700":"bg-blue-100 text-blue-700"}`,children:ae[R.condition]||R.condition})}),l.jsx("td",{className:"px-4 py-2 italic text-slate-500",children:R.notes||"-"})]},ce)})})]})}):l.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg text-slate-400 text-sm italic text-center border border-dashed border-slate-200 dark:border-slate-700",children:"No se ha registrado un odontograma para este paciente."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2 text-slate-800 dark:text-white font-bold border-b border-slate-200 dark:border-slate-700 pb-2",children:[l.jsx(yn,{size:20,className:"text-primary"}),l.jsx("h3",{children:"Tratamientos Realizados (Evolucin)"})]}),l.jsxs("div",{className:"relative border-l-2 border-slate-200 dark:border-slate-700 ml-4 space-y-8",children:[d.length>0?d.map((R,ce)=>l.jsxs("div",{className:"relative pl-8",children:[l.jsx("div",{className:`absolute -left-[9px] top-0 w-4 h-4 rounded-full border-4 border-white dark:border-slate-800 ${R.status==="Completado"?"bg-primary":"bg-amber-400"}`}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:R.procedure}),l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[l.jsx(Wt,{size:12})," ",new Date(R.date).toLocaleDateString()]}),l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wider ${R.status==="Completado"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:R.status})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm text-sm text-slate-600 dark:text-slate-300",children:[l.jsx("p",{className:"mb-2 font-medium",children:R.description}),l.jsxs("p",{className:"text-xs font-mono text-slate-400 mt-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:["Costo: Bs ",R.cost," | Registrado por: Dr. Taboada"]})]})]},R.id)):l.jsx("div",{className:"pl-8 pt-2 text-slate-400 italic",children:"No hay tratamientos registrados an."}),l.jsxs("div",{className:"relative pl-8",children:[l.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-300 dark:bg-slate-600 border-4 border-white dark:border-slate-800"}),l.jsx("span",{className:"text-sm font-bold text-slate-400",children:"Fecha de Registro"}),l.jsx("p",{className:"text-xs text-slate-400",children:new Date(h.createdAt).toLocaleDateString()})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between text-slate-800 dark:text-white font-bold border-b border-slate-200 dark:border-slate-700 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qi,{size:20,className:"text-amber-500"}),l.jsx("h3",{children:"Estudios de Imagenologa"})]}),l.jsxs("button",{onClick:()=>{var R;return(R=A.current)==null?void 0:R.click()},className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 hover:bg-amber-100 rounded-lg text-xs transition-colors border border-amber-200",children:[l.jsx(fd,{size:14})," Subir Imagen"]})]}),S.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:S.map(R=>l.jsxs("div",{className:"relative group bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-md transition-all",children:[l.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700",children:l.jsx("img",{src:R.imageData,alt:R.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-2",children:[l.jsx("p",{className:"text-xs font-bold text-slate-800 dark:text-white truncate",children:R.title}),l.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:new Date(R.date).toLocaleDateString()})]}),l.jsx("button",{onClick:()=>K(R.id),className:"absolute top-1 right-1 bg-white/80 rounded-full p-1 text-red-500 opacity-0 group-hover:opacity-100 hover:bg-white transition-all shadow-sm",children:l.jsx(Ha,{size:12})})]},R.id))}):l.jsx("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 text-slate-400 text-sm",children:"No hay estudios cargados (Rayos X, Fotos)."})]})]})]})]})})},Tb=({onNavigate:h,autoOpenForm:x=!1})=>{const[d,c]=m.useState(G.getPatients()),[M,H]=m.useState(""),[S,$]=m.useState(x),[D,p]=m.useState(null),[Z,A]=m.useState("list"),[V,K]=m.useState("recent"),[F,R]=m.useState(!1),[ce,ae]=m.useState(!1),[le,se]=m.useState(null),[ne,be]=m.useState(null);m.useEffect(()=>{x&&$(!0)},[x]);const ie=()=>{c(G.getPatients())},q=(L,y)=>{L.stopPropagation(),p(null),se(y),$(!0)},me=()=>{$(!1),se(null)},pe=(L,y)=>{L.stopPropagation(),be(y)},ue=L=>{p(L)},ke=(L,y)=>{if(L.stopPropagation(),!y){alert("El paciente no tiene un nmero registrado.");return}const U=y.replace(/\D/g,"");if(!U)return;const I=U.length===8?`591${U}`:U;window.open(`https://wa.me/${I}`,"_blank")},we=L=>{const y=[...L];switch(V){case"recent":return y.sort((U,I)=>new Date(I.createdAt).getTime()-new Date(U.createdAt).getTime());case"oldest":return y.sort((U,I)=>new Date(U.createdAt).getTime()-new Date(I.createdAt).getTime());case"az":return y.sort((U,I)=>U.lastName.localeCompare(I.lastName));case"za":return y.sort((U,I)=>I.lastName.localeCompare(U.lastName));default:return y}},Be=d.filter(L=>L.firstName.toLowerCase().includes(M.toLowerCase())||L.lastName.toLowerCase().includes(M.toLowerCase())||L.dni.includes(M)),J=we(Be);return l.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[S&&l.jsx(Yf,{onCancel:me,onSuccess:()=>{ie(),me()},patientToEdit:le}),l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"Directorio de Pacientes"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Gestione expedientes, historial clnico y contacto."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>ae(!0),className:"p-2.5 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",title:"Ayuda",children:l.jsx(jn,{size:20})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 flex shadow-sm",children:[l.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-lg transition-all ${Z==="grid"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:"Vista de Tarjetas",children:l.jsx(kg,{size:20})}),l.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-lg transition-all ${Z==="list"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:"Vista de Lista",children:l.jsx(Sg,{size:20})})]}),l.jsxs("button",{onClick:()=>$(!0),className:"group relative px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-bold shadow-lg hover:shadow-emerald-500/30 hover:-translate-y-0.5 transition-all overflow-hidden flex items-center gap-2",children:[l.jsx(Vt,{size:20,strokeWidth:2.5}),l.jsx("span",{children:"Nuevo Paciente"})]})]})]}),l.jsx("div",{className:"sticky top-0 z-30 pt-2 pb-2 -mx-4 px-4 md:-mx-8 md:px-8",children:l.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-2 flex items-center gap-2 transition-all",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ol,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre, apellido o carnet...",value:M,onChange:L=>H(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-transparent text-slate-900 dark:text-white text-lg placeholder:text-slate-400 outline-none font-medium"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>R(!F),className:"flex items-center gap-2 px-4 py-3 hover:bg-slate-100 dark:hover:bg-slate-700/50 rounded-xl text-slate-600 dark:text-slate-300 font-bold text-sm transition-colors border-l border-slate-200 dark:border-slate-600",children:[l.jsx(Hf,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Ordenar"})]}),F&&l.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden z-30 animate-slide-down",children:l.jsxs("div",{className:"p-1",children:[l.jsxs("button",{onClick:()=>{K("recent"),R(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${V==="recent"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(ul,{size:16})," Ms Recientes"]}),l.jsxs("button",{onClick:()=>{K("oldest"),R(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${V==="oldest"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(Wt,{size:16})," Ms Antiguos"]}),l.jsxs("button",{onClick:()=>{K("az"),R(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${V==="az"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(vh,{size:16})," Apellido (A-Z)"]}),l.jsxs("button",{onClick:()=>{K("za"),R(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${V==="za"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(wh,{size:16})," Apellido (Z-A)"]})]})})]}),l.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700 mx-2 hidden md:block"}),l.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider px-4 hidden md:block",children:[J.length," Reg."]})]})}),J.length>0?l.jsx(l.Fragment,{children:Z==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:J.map(L=>{const y=L.allergies&&L.allergies!=="Ninguna"&&L.allergies!=="",U=L.medicalHistory&&L.medicalHistory.length>0;return l.jsxs("div",{onClick:()=>ue(L),title:"Clic para ver expediente",className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-xl hover:border-indigo-200 dark:hover:border-indigo-800 transition-all duration-300 group flex flex-col relative overflow-hidden cursor-pointer",children:[l.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-slate-200 to-slate-100 dark:from-slate-700 dark:to-slate-800 group-hover:from-indigo-500 group-hover:to-purple-500 transition-all duration-500"}),l.jsxs("div",{className:"p-6 flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-5",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-300 font-bold text-2xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors shadow-inner overflow-hidden",children:L.photo?l.jsx("img",{src:L.photo,alt:L.firstName,className:"w-full h-full object-cover"}):l.jsxs("span",{children:[L.firstName.charAt(0),L.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-xl text-slate-800 dark:text-white leading-tight",children:[L.firstName," ",l.jsx("br",{}),L.lastName]}),l.jsxs("p",{className:"text-sm text-slate-400 font-mono mt-1",children:["CI: ",L.dni||"---"]})]})]}),l.jsx("div",{className:"flex gap-1",children:l.jsx("button",{onClick:I=>q(I,L),className:"text-slate-300 hover:text-indigo-500 transition-colors p-2 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-full",title:"Editar",children:l.jsx(Sf,{size:20})})})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 min-h-[28px]",children:[y?l.jsxs("span",{className:"bg-red-50 text-red-600 border border-red-100 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide flex items-center gap-1",children:[l.jsx(Ua,{size:12,strokeWidth:3})," ",L.allergies]}):l.jsx("span",{className:"bg-emerald-50 text-emerald-600 border border-emerald-100 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide flex items-center gap-1 opacity-60",children:" Sin Alergias"}),U&&l.jsxs("span",{className:"bg-blue-50 text-blue-600 border border-blue-100 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide",children:[L.medicalHistory.length," Antecedentes"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-y-3 text-sm text-slate-500 dark:text-slate-400 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gi,{size:16,className:"opacity-50"}),l.jsx("span",{className:"text-base",children:L.age?`${L.age} aos`:"--"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kf,{size:16,className:"opacity-50"}),l.jsx("span",{className:"text-base",children:L.phone||"--"})]})]})]}),l.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-700 flex items-center justify-end gap-3",children:[L.phone&&l.jsx("button",{onClick:I=>ke(I,L.phone),className:"p-3 text-slate-400 hover:text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-xl transition-colors",title:"Enviar WhatsApp",children:l.jsx(Nf,{size:20})}),l.jsxs("button",{onClick:I=>pe(I,L),className:"flex items-center justify-center gap-2 bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-5 py-3 rounded-xl text-sm font-bold shadow hover:bg-indigo-600 dark:hover:bg-indigo-100 dark:hover:text-indigo-900 transition-all group-hover:translate-x-1",children:[l.jsx(fl,{size:18}),"Atender"]})]})]},L.id)})}):l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"text-sm text-slate-500 uppercase bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-5 font-bold tracking-wider",children:"Paciente"}),l.jsx("th",{className:"px-6 py-5 font-bold tracking-wider",children:"Documento / Contacto"}),l.jsx("th",{className:"px-6 py-5 font-bold tracking-wider",children:"Datos Clnicos"}),l.jsx("th",{className:"px-6 py-5 font-bold tracking-wider text-right",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:J.map(L=>{const y=L.allergies&&L.allergies!=="Ninguna"&&L.allergies!=="";return l.jsxs("tr",{onClick:()=>ue(L),className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer",title:"Clic para ver expediente",children:[l.jsx("td",{className:"px-6 py-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-300 font-bold text-lg shadow-sm overflow-hidden",children:L.photo?l.jsx("img",{src:L.photo,alt:L.firstName,className:"w-full h-full object-cover"}):l.jsxs("span",{children:[L.firstName.charAt(0),L.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-slate-800 dark:text-white text-lg",children:[L.firstName," ",L.lastName]}),l.jsxs("div",{className:"text-sm text-slate-400",children:[L.age?`${L.age} aos`:""," ",L.gender?` ${L.gender}`:""]})]})]})}),l.jsx("td",{className:"px-6 py-6",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:"font-mono text-slate-600 dark:text-slate-300 text-base font-medium",children:["CI: ",L.dni||"---"]}),l.jsxs("span",{className:"text-slate-500 text-sm mt-0.5 flex items-center gap-1",children:[l.jsx(kf,{size:14})," ",L.phone||"Sin celular"]})]})}),l.jsx("td",{className:"px-6 py-6",children:l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[y?l.jsxs("span",{className:"bg-red-50 text-red-600 border border-red-100 px-3 py-1 rounded-lg text-xs font-bold uppercase flex items-center gap-1",children:[l.jsx(Ua,{size:12})," ",L.allergies]}):l.jsx("span",{className:"text-slate-400 text-sm opacity-50",children:"Sin alergias"}),L.medicalHistory.length>0&&l.jsxs("span",{className:"bg-blue-50 text-blue-600 border border-blue-100 px-3 py-1 rounded-lg text-xs font-bold uppercase",children:[L.medicalHistory.length," Antecedentes"]})]})}),l.jsx("td",{className:"px-6 py-6 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[L.phone&&l.jsx("button",{onClick:U=>ke(U,L.phone),className:"p-2 text-slate-400 hover:text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Enviar WhatsApp",children:l.jsx(Nf,{size:20})}),l.jsxs("button",{onClick:U=>pe(U,L),className:"px-4 py-2 bg-slate-900 dark:bg-white dark:text-slate-900 text-white rounded-lg hover:opacity-90 transition-opacity shadow-sm flex items-center gap-2 font-bold text-sm",title:"Atender",children:[l.jsx(fl,{size:16})," Atender"]}),l.jsx("button",{onClick:U=>q(U,L),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors",title:"Editar",children:l.jsx(Sf,{size:20})})]})})]},L.id)})})]})})})}):l.jsxs("div",{className:"col-span-full py-20 text-center text-slate-400",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:l.jsx(Ol,{size:32,className:"opacity-40"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300",children:"No se encontraron pacientes"}),l.jsx("p",{className:"text-sm opacity-70",children:"Intente con otro trmino de bsqueda."})]}),D&&l.jsx(dd,{patient:D,onClose:()=>p(null)}),ne&&l.jsx(Yi,{patient:ne,onClose:()=>be(null),onSuccess:()=>{ie(),be(null)}}),ce&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-start",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Nn,{size:20}),"Gua de Pacientes"]}),l.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Gestin de expedientes y registros"})]}),l.jsx("button",{onClick:()=>ae(!1),className:"text-white/70 hover:text-white bg-white/10 p-1 rounded-full",children:l.jsx(yt,{size:18})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Nuevo Registro"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Use el botn ",l.jsx("strong",{children:'"Nuevo Paciente"'})," para crear una ficha completa (Datos personales, Antecedentes, Alergias)."]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Acceder al Historial"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Haga clic en cualquier ",l.jsx("strong",{children:"tarjeta o fila"})," de paciente para abrir su Historial Clnico completo e imprimirlo."]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Atencin Rpida"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["El botn negro ",l.jsx("strong",{children:'"Atender"'})," le lleva directamente a la pantalla de consulta para registrar un nuevo tratamiento."]})]})]}),l.jsx("button",{onClick:()=>ae(!1),className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold rounded-xl text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:"Entendido, cerrar ayuda"})]})]})})]})},Eb=()=>{const[h,x]=m.useState("transactions"),[d,c]=m.useState([]),[M,H]=m.useState([]),[S,$]=m.useState(""),[D,p]=m.useState("newest"),[Z,A]=m.useState(!1),[V,K]=m.useState(!1),[F,R]=m.useState(void 0),[ce,ae]=m.useState({totalIncome:0,totalDebt:0}),[le,se]=m.useState("month"),[ne,be]=m.useState(""),[ie,q]=m.useState(null),[me,pe]=m.useState(!1),ue=()=>{const Q=G.getPayments(),u=G.getDebtors().map(Y=>{const ee=G.getTreatmentsByPatient(Y.patient.id),fe=ee.length>0?ee[0].date:Y.patient.createdAt;return{...Y,lastTreatmentDate:fe}});c(Q),H(u);const w=u.reduce((Y,ee)=>Y+ee.debt,0);ae(Y=>({...Y,totalDebt:w}))};m.useEffect(()=>{ue()},[]);const we=(()=>{const Q=new Date;return d.filter(u=>{if(u.status==="cancelled")return!1;const w=new Date(u.date);return le==="day"?w.getDate()===Q.getDate()&&w.getMonth()===Q.getMonth()&&w.getFullYear()===Q.getFullYear():le==="month"?w.getMonth()===Q.getMonth()&&w.getFullYear()===Q.getFullYear():w.getFullYear()===Q.getFullYear()}).reduce((u,w)=>u+w.amount,0)})(),Be=Q=>{R(Q),K(!0)},J=Q=>{q(Q)},L=()=>{ie&&(G.cancelPayment(ie),q(null),ue())},y=Q=>Q.sort((u,w)=>{switch(D){case"newest":return new Date(w.date).getTime()-new Date(u.date).getTime();case"oldest":return new Date(u.date).getTime()-new Date(w.date).getTime();case"highest":return w.amount-u.amount;case"lowest":return u.amount-w.amount;default:return 0}}),U=Q=>Q.sort((u,w)=>{switch(D){case"newest":return new Date(w.lastTreatmentDate).getTime()-new Date(u.lastTreatmentDate).getTime();case"oldest":return new Date(u.lastTreatmentDate).getTime()-new Date(w.lastTreatmentDate).getTime();case"highest":return w.debt-u.debt;case"lowest":return u.debt-w.debt;default:return 0}}),I=y(d.filter(Q=>Q.patientName.toLowerCase().includes(ne.toLowerCase())||Q.relatedProcedure&&Q.relatedProcedure.toLowerCase().includes(ne.toLowerCase()))),ve=U(M.filter(Q=>Q.patient.firstName.toLowerCase().includes(S.toLowerCase())||Q.patient.lastName.toLowerCase().includes(S.toLowerCase())||Q.patient.dni.includes(S)));return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Gestin Financiera"}),l.jsx("button",{onClick:()=>pe(!0),className:"p-2 bg-white dark:bg-slate-800 rounded-lg text-slate-500 hover:text-indigo-600 shadow-sm border border-slate-200 dark:border-slate-700 transition-colors",title:"Ayuda",children:l.jsx(jn,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-6 text-white shadow-lg relative overflow-hidden flex flex-col justify-between",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2 opacity-90",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(pn,{size:24})}),l.jsx("span",{className:"font-medium",children:"Ingresos"})]}),l.jsxs("div",{className:"flex bg-black/20 p-1 rounded-lg text-xs font-bold",children:[l.jsx("button",{onClick:()=>se("day"),className:`px-2 py-1 rounded-md transition-all ${le==="day"?"bg-white text-emerald-700 shadow-sm":"text-emerald-100 hover:bg-white/10"}`,children:"Da"}),l.jsx("button",{onClick:()=>se("month"),className:`px-2 py-1 rounded-md transition-all ${le==="month"?"bg-white text-emerald-700 shadow-sm":"text-emerald-100 hover:bg-white/10"}`,children:"Mes"}),l.jsx("button",{onClick:()=>se("year"),className:`px-2 py-1 rounded-md transition-all ${le==="year"?"bg-white text-emerald-700 shadow-sm":"text-emerald-100 hover:bg-white/10"}`,children:"Ao"})]})]}),l.jsxs("h2",{className:"text-3xl font-bold tracking-tight mt-2",children:["Bs ",we.toLocaleString()]}),l.jsx("p",{className:"text-xs text-emerald-100 mt-1 opacity-80",children:"Total registrado en este periodo"})]}),l.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4",children:l.jsx(pn,{size:120})})]}),l.jsxs("div",{onClick:()=>x("debtors"),className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-6 text-white shadow-lg border border-transparent cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all relative overflow-hidden flex flex-col justify-between group",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2 opacity-90",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(jb,{size:24})}),l.jsx("span",{className:"font-medium",children:"Pagos pendientes"})]}),l.jsx("div",{className:"bg-white/20 p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(bf,{size:16})})]}),l.jsxs("h2",{className:"text-3xl font-bold tracking-tight mt-2",children:["Bs ",ce.totalDebt.toLocaleString()]}),l.jsx("p",{className:"text-xs text-orange-100 mt-1 opacity-90",children:"Saldo por cobrar a pacientes"})]}),l.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4",children:l.jsx(Ua,{size:120})})]}),l.jsxs("button",{onClick:()=>Be(),className:"group relative rounded-xl p-6 border-2 border-dashed border-slate-300 dark:border-slate-600 hover:border-emerald-500 dark:hover:border-emerald-500 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 transition-all flex flex-col items-center justify-center text-center gap-3 bg-slate-50 dark:bg-slate-800/50",children:[l.jsx("div",{className:"p-3 bg-white dark:bg-slate-700 rounded-full shadow-sm text-slate-400 group-hover:text-emerald-500 group-hover:scale-110 transition-all",children:l.jsx(Vt,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 dark:text-white group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors",children:"Registrar Nuevo Ingreso"}),l.jsx("p",{className:"text-xs text-slate-400 group-hover:text-emerald-600/70",children:"Cobrar a paciente o agregar abono"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden min-h-[500px]",children:[l.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("button",{onClick:()=>x("transactions"),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${h==="transactions"?"border-b-2 border-primary text-primary bg-primary/5":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[l.jsx(Bi,{size:18})," Historial de Transacciones"]}),l.jsxs("button",{onClick:()=>x("debtors"),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${h==="debtors"?"border-b-2 border-primary text-primary bg-primary/5":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[l.jsx(vn,{size:18})," Deudores (",M.length,")"]})]}),l.jsxs("div",{className:"p-0",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/20 flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ol,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsx("input",{type:"text",placeholder:h==="transactions"?"Buscar por paciente o concepto...":"Buscar deudor...",value:h==="transactions"?ne:S,onChange:Q=>h==="transactions"?be(Q.target.value):$(Q.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>A(!Z),className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg text-slate-600 dark:text-slate-300 font-bold text-sm transition-colors shadow-sm",children:[l.jsx(Hf,{size:16})," ",l.jsx("span",{className:"hidden md:inline",children:"Ordenar"})]}),Z&&l.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden z-30 animate-slide-down",children:l.jsxs("div",{className:"p-1",children:[l.jsxs("button",{onClick:()=>{p("newest"),A(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${D==="newest"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(ul,{size:16})," Ms Recientes"]}),l.jsxs("button",{onClick:()=>{p("oldest"),A(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${D==="oldest"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(Wt,{size:16})," Ms Antiguos"]}),l.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),l.jsxs("button",{onClick:()=>{p("highest"),A(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${D==="highest"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(pf,{size:16})," Mayor ",h==="transactions"?"Monto":"Deuda"]}),l.jsxs("button",{onClick:()=>{p("lowest"),A(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg ${D==="lowest"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:[l.jsx(bf,{size:16})," Menor ",h==="transactions"?"Monto":"Deuda"]})]})})]})]}),h==="transactions"?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left text-slate-500 dark:text-slate-400",children:[l.jsx("thead",{className:"text-xs text-slate-700 dark:text-slate-300 uppercase bg-slate-50 dark:bg-slate-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Fecha"}),l.jsx("th",{className:"px-6 py-4",children:"Paciente"}),l.jsx("th",{className:"px-6 py-4",children:"Procedimiento / Concepto"}),l.jsx("th",{className:"px-6 py-4",children:"Mtodo"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Accin"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:I.length>0?I.map(Q=>l.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${Q.status==="cancelled"?"bg-slate-50/50 dark:bg-slate-800/50 opacity-60":""}`,children:[l.jsxs("td",{className:"px-6 py-6 flex items-center gap-2",children:[l.jsx(Wt,{size:14,className:"text-slate-400"}),l.jsx("span",{className:Q.status==="cancelled"?"line-through":"",children:new Date(Q.date).toLocaleDateString()}),l.jsx("span",{className:"text-xs text-slate-400",children:new Date(Q.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("td",{className:"px-6 py-6 font-medium text-slate-800 dark:text-white text-base",children:[Q.patientName,Q.status==="cancelled"&&l.jsx("span",{className:"ml-2 text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded uppercase font-bold",children:"Anulado"})]}),l.jsx("td",{className:"px-6 py-6",children:Q.relatedProcedure?l.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold",children:[l.jsx(yn,{size:14})," ",Q.relatedProcedure]}):l.jsx("span",{className:"text-slate-400 italic text-xs",children:Q.notes||"Abono General"})}),l.jsx("td",{className:"px-6 py-6",children:l.jsx("span",{className:"px-2.5 py-1.5 bg-slate-100 dark:bg-slate-700 rounded-md text-xs font-medium",children:Q.method})}),l.jsxs("td",{className:`px-6 py-6 text-right font-bold text-base ${Q.status==="cancelled"?"text-slate-400 line-through":"text-emerald-600 dark:text-emerald-400"}`,children:["+ Bs ",Q.amount.toLocaleString()]}),l.jsx("td",{className:"px-6 py-6 text-center",children:Q.status!=="cancelled"&&l.jsx("button",{onClick:()=>J(Q.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Anular Pago",children:l.jsx(Ha,{size:18})})})]},Q.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-10",children:"No se encontraron transacciones."})})})]})}):l.jsx("div",{className:"p-6 space-y-4",children:ve.length>0?ve.map((Q,u)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-xl hover:shadow-md transition-shadow bg-slate-50/30 dark:bg-slate-700/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center font-bold text-sm",children:u+1}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white",children:[Q.patient.firstName," ",Q.patient.lastName]}),l.jsxs("p",{className:"text-xs text-slate-500 flex gap-2",children:[l.jsxs("span",{children:["CI: ",Q.patient.dni]}),l.jsx("span",{children:""}),l.jsxs("span",{className:"text-slate-400",children:["ltima atencin: ",new Date(Q.lastTreatmentDate).toLocaleDateString()]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase",children:"Deuda Pendiente"}),l.jsxs("p",{className:"text-xl font-bold text-red-600",children:["Bs ",Q.debt.toLocaleString()]}),l.jsxs("button",{onClick:()=>Be(Q.patient.id),className:"mt-2 text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded-lg flex items-center gap-1 ml-auto transition-colors shadow-sm hover:shadow",children:["Completar Pago ",l.jsx(pf,{size:12})]})]})]},Q.patient.id)):l.jsx("div",{className:"text-center py-10 text-slate-400",children:l.jsx("p",{children:"No se encontraron deudores con esos criterios."})})})]})]}),V&&l.jsx(qf,{onClose:()=>K(!1),onSuccess:ue,preSelectedPatientId:F}),ie&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600 dark:text-red-400",children:l.jsx(Ua,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Anular Pago?"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:'El registro quedar marcado como "Anulado" y la deuda volver a sumarse a la cuenta del paciente.'}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>q(null),className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancelar"}),l.jsx("button",{onClick:L,className:"flex-1 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 shadow-lg",children:"S, Anular"})]})]})}),me&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-start",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Nn,{size:20}),"Gua Financiera"]}),l.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Control de caja y deudas"})]}),l.jsx("button",{onClick:()=>pe(!1),className:"text-white/70 hover:text-white bg-white/10 p-1 rounded-full",children:l.jsx(yt,{size:18})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Historial"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Vea todos los ingresos registrados. Use el buscador para encontrar pagos especficos por paciente o concepto."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Deudores"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:'La pestaa "Deudores" lista automticamente a quienes tienen saldo pendiente. Use el botn "Completar Pago" para cobrar.'})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Registrar Ingreso"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:'Use el botn grande de "Registrar Nuevo Ingreso" (icono +) para aadir cobros manuales o abonos a cuenta.'})]})]}),l.jsx("button",{onClick:()=>pe(!1),className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold rounded-xl text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:"Entendido, cerrar ayuda"})]})]})})]})},Ob=({user:h,isDarkMode:x,toggleTheme:d})=>{const[c,M]=m.useState([]),[H,S]=m.useState(!1),[$,D]=m.useState(null),[p,Z]=m.useState(!1),[A,V]=m.useState([]),[K,F]=m.useState(""),[R,ce]=m.useState(""),[ae,le]=m.useState(""),[se,ne]=m.useState(""),[be,ie]=m.useState(""),[q,me]=m.useState(Je.STAFF),[pe,ue]=m.useState(null),ke=m.useRef(null),[we,Be]=m.useState(8),[J,L]=m.useState(18);m.useEffect(()=>{M(G.getUsers()),ue(G.getLogo()),y();const B=G.getSchedule();Be(B.startHour),L(B.endHour)},[]);const y=()=>{V(G.getProcedures())},U=()=>{G.setSchedule({startHour:we,endHour:J}),alert("Horario de atencin actualizado.")},I=B=>{var qe;const je=(qe=B.target.files)==null?void 0:qe[0];if(je){const Ae=new FileReader;Ae.onload=mt=>{var te;const _=new Image;_.onload=()=>{const re=document.createElement("canvas"),Ne=re.getContext("2d"),Ge=250;let He=_.width,Ze=_.height;if(He>Ze?He>Ge&&(Ze*=Ge/He,He=Ge):Ze>Ge&&(He*=Ge/Ze,Ze=Ge),re.width=He,re.height=Ze,Ne){Ne.drawImage(_,0,0,He,Ze);const Te=re.toDataURL("image/png");G.setLogo(Te),ue(Te),alert("Logo actualizado y optimizado correctamente. Recargue la pgina para ver cambios en toda la app.")}},_.src=(te=mt.target)==null?void 0:te.result},Ae.readAsDataURL(je)}},ve=()=>{confirm("Eliminar el logo personalizado y volver al predeterminado?")&&(G.setLogo(null),ue(null))},Q=B=>{B?(D(B),le(B.name),ne(B.username),ie(B.password||""),me(B.role)):(D(null),le(""),ne(""),ie(""),me(Je.STAFF)),S(!0)},u=B=>{B.preventDefault(),$?G.updateUser($.id,{name:ae,username:se,password:be,role:q}):G.addUser({name:ae,username:se,password:be,role:q}),M(G.getUsers()),S(!1)},w=B=>{confirm("Est seguro de eliminar este usuario?")&&(G.deleteUser(B),M(G.getUsers()))},Y=B=>{B.preventDefault(),K&&R&&(G.addProcedure({name:K,price:parseFloat(R)}),F(""),ce(""),y())},ee=B=>{confirm("Eliminar este motivo/tratamiento de la lista?")&&(G.removeProcedure(B),y())},fe="w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 text-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none";return l.jsxs("div",{className:"space-y-8 animate-fade-in max-w-5xl mx-auto pb-10",children:[l.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Configuracin del Sistema"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Personalizacin y gestin de accesos."})]})}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-6",children:"Apariencia"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${x?"bg-indigo-500 text-white":"bg-amber-400 text-white"}`,children:x?l.jsx(Lg,{size:20}):l.jsx(gb,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Tema del Sistema"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:x?"Modo Oscuro activado":"Modo Claro activado"})]})]}),l.jsx("button",{onClick:d,className:`
                relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none
                ${x?"bg-indigo-600":"bg-slate-200"}
                `,children:l.jsx("span",{className:`
                    inline-block h-6 w-6 transform rounded-full bg-white transition-transform
                    ${x?"translate-x-7":"translate-x-1"}
                `})})]})]}),(h.role===Je.PRINCIPAL||h.role===Je.DOCTOR)&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2 mb-6",children:[l.jsx(Wt,{size:20,className:"text-primary"}),"Horario de Atencin"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Defina el rango de horas que aparecer disponible en la agenda."}),l.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-slate-50 dark:bg-slate-700/30 p-5 rounded-xl border border-slate-100 dark:border-slate-600",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Hora Apertura (24h)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:"23",value:we,onChange:B=>Be(parseInt(B.target.value)),className:"w-20 p-2.5 text-center border border-slate-300 dark:border-slate-600 rounded-lg text-base font-bold bg-white dark:bg-slate-800 text-slate-800 dark:text-white focus:ring-2 focus:ring-amber-400 outline-none"}),l.jsx("span",{className:"text-sm font-medium text-slate-400",children:":00"})]})]}),l.jsx("div",{className:"pb-3 text-slate-400 font-bold hidden sm:block",children:"-"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Hora Cierre (24h)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",min:"0",max:"23",value:J,onChange:B=>L(parseInt(B.target.value)),className:"w-20 p-2.5 text-center border border-slate-300 dark:border-slate-600 rounded-lg text-base font-bold bg-white dark:bg-slate-800 text-slate-800 dark:text-white focus:ring-2 focus:ring-amber-400 outline-none"}),l.jsx("span",{className:"text-sm font-medium text-slate-400",children:":00"})]})]}),l.jsx("button",{onClick:U,className:"ml-auto px-6 py-2.5 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-lg shadow-sm transition-all",children:"Guardar Cambios"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(eg,{size:20,className:"text-primary"}),"Administrar Motivos y Precios"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Configure los motivos de consulta frecuentes y sus costos base."})]}),h.role===Je.PRINCIPAL||h.role===Je.DOCTOR?l.jsxs("div",{className:`border rounded-xl overflow-hidden transition-all duration-300 ${p?"border-primary shadow-md bg-slate-50 dark:bg-slate-700/30":"border-slate-200 dark:border-slate-600"}`,children:[l.jsxs("button",{onClick:()=>Z(!p),className:"w-full px-5 py-4 flex items-center justify-between bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pb,{size:18,className:"text-slate-500 dark:text-slate-400"}),l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"Motivos de Consulta & Precios"}),l.jsxs("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 text-slate-500 px-2 py-0.5 rounded-full",children:[A.length," items"]})]}),p?l.jsx(Of,{size:20,className:"text-primary"}):l.jsx(Tf,{size:20,className:"text-slate-400"})]}),p&&l.jsxs("div",{className:"p-5 border-t border-slate-200 dark:border-slate-700 animate-slide-down",children:[l.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-600 p-2 space-y-1 mb-4",children:A.map(B=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border border-slate-100 dark:border-slate-700 group hover:border-red-200 dark:hover:border-red-900/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:B.name}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Costo Base: Bs ",B.price]})]}),l.jsx("button",{onClick:()=>ee(B.id),className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-50 text-red-500 rounded transition-all",children:l.jsx(Ha,{size:16})})]},B.id))}),l.jsxs("form",{onSubmit:Y,className:"flex gap-2",children:[l.jsx("input",{placeholder:"Nuevo Motivo / Tratamiento",value:K,onChange:B=>F(B.target.value),className:"flex-1 text-sm p-3 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:border-primary outline-none"}),l.jsx("input",{type:"number",placeholder:"Precio",value:R,onChange:B=>ce(B.target.value),className:"w-28 text-sm p-3 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:border-primary outline-none"}),l.jsx("button",{type:"submit",disabled:!K||!R,className:"bg-slate-900 dark:bg-primary text-white p-3 rounded-lg disabled:opacity-50 hover:opacity-90",children:l.jsx(Vt,{size:20})})]})]})]}):l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/20 p-4 rounded-xl border border-slate-100 dark:border-slate-700 text-center text-slate-500 text-sm",children:[l.jsx(od,{size:20,className:"mx-auto mb-2 opacity-50"}),"Solo Doctores y Administradores pueden editar los precios y datos del sistema."]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(cb,{size:20,className:"text-primary"}),"Administracin de Usuarios"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Gestione los perfiles que tienen acceso a la plataforma."})]}),h.role===Je.PRINCIPAL&&l.jsxs("button",{onClick:()=>Q(),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-bold shadow-sm transition-all",children:[l.jsx(Vt,{size:16}),"Aadir Usuario"]})]}),h.role!==Je.PRINCIPAL?l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 rounded-lg p-4 flex items-center gap-3 text-red-700 dark:text-red-300",children:[l.jsx(od,{size:20}),l.jsx("p",{className:"text-sm font-medium",children:"Solo el Usuario Principal puede gestionar el personal."})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.map(B=>l.jsxs("div",{className:"relative group bg-slate-50 dark:bg-slate-700/50 rounded-xl p-5 border border-slate-200 dark:border-slate-600 hover:border-primary dark:hover:border-primary transition-all",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-teal-700 flex items-center justify-center text-white font-bold text-sm shadow-md",children:B.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:B.name}),l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wider ${B.role===Je.PRINCIPAL?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":B.role===Je.DOCTOR?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-slate-200 text-slate-700 dark:bg-slate-600 dark:text-slate-300"}`,children:B.role===Je.PRINCIPAL?"Principal":B.role===Je.DOCTOR?"Doctor":"Staff"})]})]})}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-600",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsx(ul,{size:14}),l.jsx("span",{children:"ltimo acceso:"}),l.jsxs("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:[new Date(B.lastAccess).toLocaleDateString()," ",new Date(B.lastAccess).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[l.jsx(Gi,{size:14}),l.jsxs("span",{children:["Usuario: ",B.username]})]})]}),l.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>Q(B),className:"p-1.5 bg-white dark:bg-slate-600 text-slate-600 dark:text-slate-200 rounded-lg shadow-sm hover:text-primary hover:bg-slate-50 border border-slate-200 dark:border-slate-500",title:"Editar",children:l.jsx(Kg,{size:14})}),B.id!==h.id&&l.jsx("button",{onClick:()=>w(B.id),className:"p-1.5 bg-white dark:bg-slate-600 text-red-500 dark:text-red-400 rounded-lg shadow-sm hover:bg-red-50 border border-slate-200 dark:border-slate-500",title:"Eliminar",children:l.jsx(Ha,{size:14})})]})]},B.id)),l.jsxs("button",{onClick:()=>Q(),className:"flex flex-col items-center justify-center gap-3 p-6 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl text-slate-400 hover:text-primary hover:border-primary hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all min-h-[160px]",children:[l.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-full",children:l.jsx(Vt,{size:24})}),l.jsx("span",{className:"font-medium text-sm",children:"Aadir Nuevo Perfil"})]})]})]}),(h.role===Je.PRINCIPAL||h.role===Je.DOCTOR)&&l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(qi,{size:20,className:"text-primary"}),"Personalizacin de Marca"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-4",children:"Cambie el logotipo que aparece en el inicio de sesin y en la barra lateral."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:ke,onChange:I}),l.jsxs("button",{onClick:()=>{var B;return(B=ke.current)==null?void 0:B.click()},className:"px-4 py-2 bg-slate-900 dark:bg-primary text-white rounded-lg text-sm font-medium hover:opacity-90 flex items-center gap-2",children:[l.jsx(fd,{size:16})," Subir Logo"]}),pe&&l.jsx("button",{onClick:ve,className:"px-4 py-2 border border-red-200 text-red-600 rounded-lg text-sm font-medium hover:bg-red-50",children:"Restaurar Predeterminado"})]})]}),l.jsxs("div",{className:"p-4 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900/50 flex flex-col items-center justify-center min-w-[200px]",children:[l.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold mb-2",children:"Vista Previa"}),pe?l.jsx("img",{src:pe,alt:"Logo Preview",className:"h-16 object-contain"}):l.jsx("div",{className:"h-16 w-16 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center text-slate-400",children:l.jsx(qi,{size:24})})]})]})}),h.role===Je.PRINCIPAL&&l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl shadow-sm border border-red-100 dark:border-red-800 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400 flex items-center gap-2 mb-2",children:[l.jsx(Ua,{size:20}),"Zona de Peligro"]}),l.jsx("p",{className:"text-sm text-red-600/80 dark:text-red-300/70 mb-4",children:"Estas acciones son destructivas y no se pueden deshacer."}),l.jsx("button",{onClick:()=>{confirm("EST SEGURO? Esto borrar TODOS los datos, pacientes, citas y configuraciones, y restaurar el sistema al estado inicial de fbrica.")&&G.resetDB()},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-bold shadow transition-all",children:"Restablecer Base de Datos (Fbrica)"})]}),H&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-fade-in",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:$?"Editar Perfil":"Nuevo Usuario"}),l.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-red-500",children:l.jsx(yt,{size:20})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),l.jsx("input",{required:!0,value:ae,onChange:B=>le(B.target.value),className:fe,placeholder:"Ej. Dr. Juan / Srta. Ana"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Rol / Permisos"}),l.jsxs("select",{value:q,onChange:B=>me(B.target.value),className:fe,children:[l.jsx("option",{value:Je.STAFF,children:"Staff (Secretaria/Asistente) - Acceso General"}),l.jsx("option",{value:Je.DOCTOR,children:"Doctor - Manejo de Pacientes & Configuracin"}),l.jsx("option",{value:Je.PRINCIPAL,children:"Principal - Acceso Total (Admin)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Usuario de Acceso"}),l.jsx("input",{required:!0,value:se,onChange:B=>ne(B.target.value),className:fe})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),l.jsx("input",{type:"password",required:!0,value:be,onChange:B=>ie(B.target.value),className:fe,placeholder:""})]}),l.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"px-6 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-lg flex items-center gap-2 shadow-sm",children:[l.jsx(kn,{size:16}),"Guardar"]})]})]})]})})]})},zf=["Lun","Mar","Mie","Jue","Vie","Sab"],Df=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],Rb=()=>{const[h,x]=m.useState(G.getNowLaPaz()),[d,c]=m.useState("week"),[M,H]=m.useState([]),[S,$]=m.useState([]),[D,p]=m.useState([]),[Z,A]=m.useState([]),[V,K]=m.useState(null),[F,R]=m.useState(void 0),[ce,ae]=m.useState(!1),[le,se]=m.useState(!1),[ne,be]=m.useState(null),[ie,q]=m.useState(void 0),[me,pe]=m.useState(void 0);m.useEffect(()=>{ue(),p(G.getBolivianHolidays(h.getFullYear()));const _=G.getSchedule();A(Array.from({length:_.endHour-_.startHour+1},(te,re)=>re+_.startHour))},[h]);const ue=()=>{H(G.getAppointments()),$(G.getPatients())},ke=(_,te)=>{_.stopPropagation(),be(te)},we=()=>{ne&&(G.cancelAppointment(ne),be(null),ue())},Be=(_,te)=>{const re=G.getNowLaPaz(),Ne=new Date(_);Ne.setHours(te,0,0,0),!(Ne<re)&&(q(Ne),pe(`${te.toString().padStart(2,"0")}:00`),ae(!0))},J=_=>{_=new Date(_);const te=_.getDay(),re=_.getDate()-te+(te===0?-6:1);return new Date(_.setDate(re))},L=_=>{const te=new Date(h);d==="day"?te.setDate(te.getDate()+(_==="next"?1:-1)):d==="week"?te.setDate(te.getDate()+(_==="next"?7:-7)):te.setMonth(te.getMonth()+(_==="next"?1:-1)),x(te)},y=()=>J(h),U=(_,te)=>M.filter(re=>{const Ne=new Date(re.date);return Ne.getDate()===_.getDate()&&Ne.getMonth()===_.getMonth()&&Ne.getFullYear()===_.getFullYear()&&Ne.getHours()===te}),I=_=>M.filter(te=>{const re=new Date(te.date);return re.getDate()===_.getDate()&&re.getMonth()===_.getMonth()&&re.getFullYear()===_.getFullYear()}),ve=_=>{if(_.status==="Cancelada"||_.status==="Completada")return;const te=S.find(re=>re.id===_.patientId);if(te){K(te);let re=_.type==="Tratamiento"?"Consulta General":_.type;_.notes&&_.notes.includes("-")?re=_.notes.split("-")[0].trim():_.notes&&(re=_.notes),R({id:_.id,procedure:re})}},Q=_=>G.getPatientBalance(_).debt,u=_=>{const te=_.toISOString().split("T")[0],re=D.find(Ne=>Ne.date===te);return re?re.name:null},w=G.getNowLaPaz(),Y=M.filter(_=>new Date(_.date).toDateString()===w.toDateString()&&_.status!=="Cancelada").sort((_,te)=>new Date(_.date).getTime()-new Date(te.date).getTime()),ee=M.filter(_=>{const te=new Date(_.date);return te>w&&te.toDateString()!==w.toDateString()&&_.status==="Pendiente"}).sort((_,te)=>new Date(_.date).getTime()-new Date(te.date).getTime()).slice(0,5),fe=()=>{let _="";if(d==="day")_=h.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});else if(d==="week"){const te=y(),re=new Date(te);re.setDate(re.getDate()+5),_=`${te.toLocaleDateString("es-ES",{day:"numeric",month:"short"})} - ${re.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}`}else _=h.toLocaleDateString("es-ES",{month:"long",year:"numeric"});return l.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 p-1.5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsx("button",{onClick:()=>L("prev"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 hover:text-primary transition-all",children:l.jsx(Ef,{size:20})}),l.jsx("span",{className:"text-base font-bold w-48 text-center text-slate-800 dark:text-white capitalize",children:_}),l.jsx("button",{onClick:()=>L("next"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg text-slate-500 hover:text-primary transition-all",children:l.jsx(js,{size:20})})]})},B=()=>l.jsxs("div",{className:"min-w-[800px] h-full flex flex-col",children:[l.jsxs("div",{className:"grid grid-cols-[60px_repeat(6,1fr)] bg-slate-50 dark:bg-slate-900/50 sticky top-0 z-10 border-b border-slate-200 dark:border-slate-700",children:[l.jsx("div",{className:"p-3 border-r border-slate-200 dark:border-slate-700"}),zf.map((_,te)=>{const re=y(),Ne=new Date(re);Ne.setDate(Ne.getDate()+te);const Ge=Ne.toDateString()===G.getNowLaPaz().toDateString(),He=u(Ne);return l.jsxs("div",{className:`p-3 text-center border-r border-slate-200 dark:border-slate-700 relative overflow-hidden ${Ge?"bg-primary/5":""}`,children:[l.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:_}),l.jsx("div",{className:`text-lg font-bold ${Ge?"text-primary":He?"text-rose-500":"text-slate-700 dark:text-slate-300"}`,children:Ne.getDate()}),He&&l.jsx("div",{className:"text-[9px] text-rose-500 font-bold bg-rose-50 dark:bg-rose-900/30 rounded px-1 py-0.5 mt-1 inline-block truncate max-w-full",children:He})]},_)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:Z.map(_=>l.jsxs("div",{className:"grid grid-cols-[60px_repeat(6,1fr)] border-b border-slate-100 dark:border-slate-700/50",children:[l.jsxs("div",{className:"p-2 text-right text-xs text-slate-400 font-medium border-r border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-900/20",children:[_,":00"]}),zf.map((te,re)=>{const Ne=y(),Ge=new Date(Ne);Ge.setDate(Ge.getDate()+re);const He=U(Ge,_);return Ae(He,_,Ge)})]},_))})]}),je=()=>l.jsxs("div",{className:"w-full h-full flex flex-col",children:[l.jsxs("div",{className:"grid grid-cols-[80px_1fr] bg-slate-50 dark:bg-slate-900/50 sticky top-0 z-10 border-b border-slate-200 dark:border-slate-700",children:[l.jsx("div",{className:"p-4 border-r border-slate-200 dark:border-slate-700"}),l.jsxs("div",{className:"p-4 text-center border-r border-slate-200 dark:border-slate-700",children:[l.jsxs("span",{className:"font-bold text-primary text-xl",children:[Df[h.getDay()]," ",h.getDate()]}),u(h)&&l.jsx("span",{className:"ml-2 bg-rose-100 text-rose-600 text-xs px-2 py-1 rounded-full font-bold",children:u(h)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:Z.map(_=>{const te=U(h,_);return l.jsxs("div",{className:"grid grid-cols-[80px_1fr] border-b border-slate-100 dark:border-slate-700/50 min-h-[100px]",children:[l.jsxs("div",{className:"p-4 text-right text-sm text-slate-400 font-bold border-r border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-900/20",children:[_,":00"]}),l.jsxs("div",{className:"p-2 relative group hover:bg-slate-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",onClick:()=>Be(h,_),children:[te.map(re=>mt(re)),te.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-10 pointer-events-none",children:l.jsx(Vt,{size:24,className:"text-slate-400"})})]})]},_)})})]}),qe=()=>{const _=h.getFullYear(),te=h.getMonth(),re=new Date(_,te,1),Ge=new Date(_,te+1,0).getDate(),He=re.getDay()===0?6:re.getDay()-1,Ze=[];for(let Te=0;Te<He;Te++)Ze.push(l.jsx("div",{className:"min-h-[100px] bg-slate-50/50 dark:bg-slate-900/20 border-r border-b border-slate-200 dark:border-slate-700"},`empty-${Te}`));for(let Te=1;Te<=Ge;Te++){const W=new Date(_,te,Te),oe=I(W),ze=W.toDateString()===G.getNowLaPaz().toDateString(),Pe=u(W);Ze.push(l.jsxs("div",{className:`min-h-[100px] border-r border-b border-slate-200 dark:border-slate-700 p-2 relative group hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${ze?"bg-primary/5":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("div",{className:`text-sm font-bold ${ze?"text-primary":"text-slate-600 dark:text-slate-400"}`,children:Te}),Pe&&l.jsxs("div",{className:"text-[9px] font-bold text-rose-500 bg-rose-100 dark:bg-rose-900/30 px-1.5 py-0.5 rounded flex items-center gap-1",children:[l.jsx(mg,{size:8})," ",Pe]})]}),l.jsxs("div",{className:"space-y-1",children:[oe.slice(0,3).map(at=>l.jsxs("div",{onClick:Ee=>{Ee.stopPropagation(),ve(at)},className:`text-[10px] px-1 py-0.5 rounded truncate cursor-pointer hover:opacity-80 ${at.status==="Cancelada"?"bg-slate-100 text-slate-400 line-through":at.status==="Completada"?"bg-slate-200 text-slate-500 line-through decoration-slate-400":"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300"}`,children:[new Date(at.date).getHours(),":00 ",at.patientName]},at.id)),oe.length>3&&l.jsxs("div",{className:"text-[10px] text-slate-400 font-medium pl-1",children:["+",oe.length-3," ms"]})]})]},Te))}return l.jsxs("div",{className:"w-full h-full flex flex-col",children:[l.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:Df.map(Te=>l.jsx("div",{className:"p-3 text-center text-xs font-bold text-slate-400 uppercase",children:Te.substring(0,3)},Te))}),l.jsx("div",{className:"grid grid-cols-7 border-l border-t border-slate-200 dark:border-slate-700 flex-1 overflow-y-auto custom-scrollbar",children:Ze})]})},Ae=(_,te,re)=>{const Ne=_.filter(Te=>Te.status==="Pendiente"),Ge=_.filter(Te=>Te.status==="Completada"),He=_.filter(Te=>Te.status==="Cancelada"),Ze=[...Ne,...Ge,...He];return l.jsxs("div",{className:"relative min-h-[80px] border-r border-slate-100 dark:border-slate-700 p-1 group hover:bg-slate-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",onClick:()=>Be(re,te),children:[Ze.map(Te=>mt(Te)),Ze.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-10 pointer-events-none",children:l.jsx(Vt,{size:20,className:"text-slate-300"})})]},`${re.toISOString()}-${te}`)},mt=_=>{const te=Q(_.patientId),re=_.status==="Cancelada",Ne=_.status==="Completada",Ge=_.notes?_.notes:_.type;return l.jsxs("div",{onClick:He=>{He.stopPropagation(),ve(_)},className:`w-full text-left p-2 mb-1 rounded-lg border-l-4 text-xs shadow-sm hover:shadow-md transition-all relative overflow-hidden group/card ${re?"bg-slate-100 dark:bg-slate-800 border-slate-300 text-slate-400 opacity-60":Ne?"bg-slate-50 dark:bg-slate-800 border-slate-400 text-slate-500 opacity-80":_.type==="Tratamiento"?"bg-indigo-50 border-indigo-500 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-200 cursor-pointer":"bg-teal-50 border-teal-500 text-teal-800 dark:bg-teal-900/30 dark:text-teal-200 cursor-pointer"}`,children:[l.jsxs("div",{className:`font-bold truncate pr-2 ${re?"line-through":""}`,children:[_.patientName,Ne&&l.jsx("span",{className:"ml-1 inline-block text-[9px] bg-slate-200 text-slate-600 px-1 rounded uppercase align-middle",children:"Atendido"})]}),l.jsxs("div",{className:"flex flex-col opacity-90",children:[l.jsx("span",{className:`truncate font-medium ${re?"line-through":""}`,children:Ge}),d==="day"&&l.jsx("span",{className:"font-mono text-[10px] mt-0.5",children:G.formatTime(_.date)})]}),Ne&&l.jsx("div",{className:"absolute top-1 right-1 text-slate-400",children:l.jsx(Ns,{size:14})}),te>0&&!re&&!Ne&&l.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse",title:`Deuda: Bs ${te}`}),!re&&!Ne&&l.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover/card:opacity-100 transition-opacity z-10 bg-white/80 dark:bg-slate-800/80 rounded-full pl-1",children:[l.jsx("button",{onClick:He=>{He.stopPropagation(),ve(_)},className:"text-emerald-500 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-full p-0.5",title:"Marcar como Atendida",children:l.jsx(Ns,{size:16})}),l.jsx("button",{onClick:He=>ke(He,_.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full p-0.5",title:"Cancelar Cita",children:l.jsx(Li,{size:16})})]})]},_.id)};return l.jsxs("div",{className:"h-full flex flex-col gap-6 animate-fade-in pb-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"Agenda Clnica"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Planificacin de citas, recordatorios y das festivos."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>se(!0),className:"px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg font-bold text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-all flex items-center gap-1.5",children:[l.jsx(jn,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Cmo funciona?"})]}),l.jsxs("button",{onClick:()=>{q(void 0),pe(void 0),ae(!0)},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2",children:[l.jsx(Vt,{size:18})," Nueva Cita"]})]})]}),l.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col overflow-hidden min-h-[500px]",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800",children:[fe(),l.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>c("day"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${d==="day"?"bg-white dark:bg-slate-600 shadow text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-900 dark:text-slate-400"}`,children:"Da"}),l.jsx("button",{onClick:()=>c("week"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${d==="week"?"bg-white dark:bg-slate-600 shadow text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-900 dark:text-slate-400"}`,children:"Semana"}),l.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${d==="month"?"bg-white dark:bg-slate-600 shadow text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-900 dark:text-slate-400"}`,children:"Mes"})]})]}),l.jsxs("div",{className:"flex-1 overflow-hidden",children:[d==="day"&&je(),d==="week"&&B(),d==="month"&&qe()]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2 text-sm uppercase tracking-wide",children:[l.jsx(_f,{size:16,className:"text-primary"}),"Citas de Hoy (",Y.length,")"]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 custom-scrollbar",children:Y.length>0?Y.map(_=>{const te=_.status==="Completada";return l.jsxs("div",{onClick:()=>ve(_),className:`min-w-[200px] p-3 rounded-xl border shadow-sm transition-all group flex flex-col justify-between ${te?"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-70":"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 hover:border-primary cursor-pointer"}`,children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:`font-bold truncate ${te?"text-slate-500 line-through":"text-slate-800 dark:text-white"}`,children:_.patientName}),l.jsx("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-600 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300",children:G.formatTime(_.date)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${_.type==="Tratamiento"?"bg-indigo-500":"bg-teal-500"}`}),l.jsx("span",{className:"truncate",children:_.notes?_.notes.split("-")[0]:_.type})]})]}),!te&&l.jsx("div",{className:"mt-2 text-[10px] text-primary opacity-0 group-hover:opacity-100 transition-opacity font-bold uppercase tracking-wider text-right",children:"Atender "})]},_.id)}):l.jsxs("div",{className:"flex items-center gap-3 text-slate-400 text-sm italic p-2 border border-dashed border-slate-200 rounded-lg w-full",children:[l.jsx(ul,{size:20})," No hay citas pendientes para hoy."]})})]}),ee.length>0&&l.jsxs("div",{className:"pt-2 border-t border-slate-100 dark:border-slate-700",children:[l.jsx("h3",{className:"font-bold text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-2 text-xs uppercase tracking-wide",children:"Prximas Citas"}),l.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 custom-scrollbar",children:ee.map(_=>l.jsxs("div",{onClick:()=>ve(_),className:"min-w-[180px] p-2.5 rounded-lg border border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-700/30 hover:bg-white dark:hover:bg-slate-700 transition-all cursor-pointer",children:[l.jsxs("div",{className:"text-xs font-bold text-slate-400 mb-1",children:[new Date(_.date).toLocaleDateString()," - ",G.formatTime(_.date)]}),l.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm truncate",children:_.patientName}),l.jsx("div",{className:"text-xs text-slate-500 truncate",children:_.type})]},_.id))})]})]}),V&&l.jsx(Yi,{patient:V,appointmentId:F==null?void 0:F.id,initialProcedure:F==null?void 0:F.procedure,onClose:()=>{K(null),R(void 0)},onSuccess:()=>{ue(),K(null),R(void 0)}}),ce&&l.jsx(xd,{onClose:()=>ae(!1),onSuccess:()=>{ue(),ae(!1)},initialDate:ie,initialTime:me}),ne&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600 dark:text-red-400",children:l.jsx(Li,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cancelar Cita?"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"La cita se eliminar de la agenda (quedar tachada)."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>be(null),className:"flex-1 py-3 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Volver"}),l.jsx("button",{onClick:we,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-medium hover:shadow-lg hover:bg-red-700",children:"S, Cancelar"})]})]})}),le&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-start",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Nn,{size:20}),"Gua de Agenda"]}),l.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Cmo gestionar su tiempo eficientemente"})]}),l.jsx("button",{onClick:()=>se(!1),className:"text-white/70 hover:text-white bg-white/10 p-1 rounded-full",children:l.jsx(yt,{size:18})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Crear Cita"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Haga clic en cualquier ",l.jsx("strong",{children:"espacio vaco"}),' del calendario o use el botn azul "Nueva Cita".']})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Gestionar"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Al pasar el mouse sobre una cita, ver dos botones pequeos: un ",l.jsx("strong",{className:"text-emerald-500",children:"Check ()"})," para Atender y una ",l.jsx("strong",{className:"text-red-500",children:"X"})," para Cancelar."]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Vistas"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Use los botones ",l.jsx("strong",{children:"Da, Semana o Mes"})," en la parte superior para cambiar cmo ve el calendario."]})]})]}),l.jsx("button",{onClick:()=>se(!1),className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold rounded-xl text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:"Entendido, cerrar ayuda"})]})]})})]})},Hb={healthy:"fill-white dark:fill-slate-800",caries:"fill-red-500",restoration_good:"fill-blue-500",root_canal:"fill-orange-500",veneer:"fill-cyan-400",whitening:"fill-yellow-200",sealant:"fill-emerald-400",missing:"fill-slate-900 dark:fill-slate-900",bridge:"fill-purple-500",implant:"fill-gray-400"},Ub=({id:h,data:x,activeTool:d,onUpdate:c})=>{const M=A=>{var V;return(V=x.find(K=>K.toothNumber===h&&K.face===A))==null?void 0:V.condition},H=M("whole"),S=H==="missing",$=H==="bridge",D=H==="implant",p=A=>{c(h,A,d)},Z=A=>{const V=M(A);return V?Hb[V]||"fill-white":"fill-white dark:fill-slate-700 hover:fill-slate-100 dark:hover:fill-slate-600"};return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"relative w-14 h-14 md:w-16 md:h-16 transition-transform hover:scale-110 duration-200",children:S?l.jsx("div",{className:"w-full h-full relative cursor-pointer",onClick:()=>p("whole"),children:l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-md",children:[l.jsx("rect",{width:"100",height:"100",className:"fill-slate-200 dark:fill-slate-800 stroke-slate-300 dark:stroke-slate-600",strokeWidth:"2"}),l.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"100",stroke:"black",strokeWidth:"8"}),l.jsx("line",{x1:"100",y1:"0",x2:"0",y2:"100",stroke:"black",strokeWidth:"8"})]})}):$?l.jsx("div",{className:"w-full h-full relative cursor-pointer",onClick:()=>p("whole"),children:l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-md",children:[l.jsx("rect",{width:"100",height:"100",rx:"15",className:"fill-purple-100 dark:fill-purple-900/50 stroke-purple-600 stroke-[4px]"}),l.jsx("text",{x:"50",y:"65",textAnchor:"middle",className:"text-4xl font-bold fill-purple-600 pointer-events-none",children:"P"})]})}):D?l.jsx("div",{className:"w-full h-full relative cursor-pointer",onClick:()=>p("whole"),children:l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-md",children:[l.jsx("rect",{width:"100",height:"100",rx:"5",className:"fill-gray-100 dark:fill-gray-800 stroke-gray-500 stroke-[4px]"}),l.jsx("circle",{cx:"50",cy:"50",r:"15",className:"fill-gray-400"}),l.jsx("rect",{x:"45",y:"65",width:"10",height:"30",className:"fill-gray-500"})]})}):l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-md",children:[l.jsx("polygon",{points:"0,0 100,0 75,25 25,25",className:`stroke-slate-300 dark:stroke-slate-600 stroke-[1px] cursor-pointer transition-colors ${Z("top")}`,onClick:()=>p("top")}),l.jsx("polygon",{points:"0,100 100,100 75,75 25,75",className:`stroke-slate-300 dark:stroke-slate-600 stroke-[1px] cursor-pointer transition-colors ${Z("bottom")}`,onClick:()=>p("bottom")}),l.jsx("polygon",{points:"0,0 0,100 25,75 25,25",className:`stroke-slate-300 dark:stroke-slate-600 stroke-[1px] cursor-pointer transition-colors ${Z("left")}`,onClick:()=>p("left")}),l.jsx("polygon",{points:"100,0 100,100 75,75 75,25",className:`stroke-slate-300 dark:stroke-slate-600 stroke-[1px] cursor-pointer transition-colors ${Z("right")}`,onClick:()=>p("right")}),l.jsx("rect",{x:"25",y:"25",width:"50",height:"50",className:`stroke-slate-300 dark:stroke-slate-600 stroke-[1px] cursor-pointer transition-colors ${Z("center")}`,onClick:()=>p("center")})]})}),l.jsx("span",{className:"text-xs font-bold text-slate-500 mt-1",children:h})]})},Lb=({embeddedPatient:h,externalDentitionType:x="adult",currentDetails:d,onDetailsChange:c})=>{const[M,H]=m.useState("caries"),[S,$]=m.useState([]);m.useEffect(()=>{if(h){const A=G.getOdontogram(h.id);$(A?A.details:[])}},[h]);const D=(A,V,K)=>{const F=S.find(ae=>ae.toothNumber===A);if(F&&K!=="eraser"){const ae=F.face==="whole"||F.face===V;if(d.find(se=>se.toothNumber===A&&se.face===V&&se.condition===K)||ae&&!window.confirm(`La pieza ${A} ya tiene un registro guardado (${F.condition}). Desea modificarlo?`))return}const R=[...d];if(K==="missing"||K==="bridge"||K==="implant"){const ae=R.filter(le=>le.toothNumber!==A);ae.push({toothNumber:A,face:"whole",condition:K,notes:K.charAt(0).toUpperCase()+K.slice(1)}),c(ae);return}if(K==="eraser"){c(V==="whole"?R.filter(ae=>ae.toothNumber!==A):R.filter(ae=>!(ae.toothNumber===A&&(ae.face===V||ae.face==="whole"))));return}const ce=R.filter(ae=>!(ae.toothNumber===A&&(ae.face===V||ae.face==="whole")));ce.push({toothNumber:A,face:V,condition:K,notes:""}),c(ce)},p=A=>l.jsx("div",{className:"flex gap-1 md:gap-2",children:A.map(V=>l.jsx(Ub,{id:V,data:d,activeTool:M,onUpdate:D},V))}),Z=[{id:"caries",label:"Caries",icon:l.jsx(Gh,{size:18}),colorClass:"bg-red-500 text-white",ringClass:"ring-red-500"},{id:"restoration_good",label:"Rest. OK",icon:l.jsx(Ui,{size:18}),colorClass:"bg-blue-500 text-white",ringClass:"ring-blue-500"},{id:"root_canal",label:"Trat. Cond.",icon:l.jsx(yn,{size:18}),colorClass:"bg-orange-500 text-white",ringClass:"ring-orange-500"},{id:"veneer",label:"Carillas",icon:l.jsx(ag,{size:18}),colorClass:"bg-cyan-400 text-white",ringClass:"ring-cyan-400"},{id:"whitening",label:"Blanquear",icon:l.jsx(Bf,{size:18}),colorClass:"bg-yellow-200 text-yellow-800",ringClass:"ring-yellow-300"},{id:"missing",label:"Ausente",icon:l.jsx(yt,{size:18}),colorClass:"bg-slate-800 text-white",ringClass:"ring-slate-800"},{id:"bridge",label:"Puente",icon:l.jsx(Ih,{size:18}),colorClass:"bg-purple-600 text-white",ringClass:"ring-purple-600"},{id:"implant",label:"Implante",icon:l.jsx(sg,{size:18}),colorClass:"bg-gray-500 text-white",ringClass:"ring-gray-500"},{id:"eraser",label:"Borrador",icon:l.jsx(Zg,{size:18}),colorClass:"bg-slate-200 text-slate-700",ringClass:"ring-slate-400"}];return l.jsxs("div",{className:"flex flex-col animate-fade-in h-full bg-white dark:bg-slate-900",children:[l.jsx("div",{className:"flex flex-col items-end gap-4 mb-2 p-4 border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-20",children:l.jsx("div",{className:"flex flex-wrap justify-end gap-2 w-full",children:Z.map(A=>l.jsxs("button",{onClick:()=>H(A.id),title:A.label,className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-xs font-bold transition-all shadow-sm border ${M===A.id?`${A.colorClass} border-transparent ring-2 ring-offset-1 ring-offset-white dark:ring-offset-slate-800 ${A.ringClass}`:"bg-white dark:bg-slate-700 text-slate-500 border-slate-200 dark:border-slate-600 hover:bg-slate-100"}`,children:[A.icon,l.jsx("span",{className:"hidden xl:inline",children:A.label})]},A.id))})}),l.jsx("div",{className:"flex-1 flex flex-col gap-6 p-4 overflow-y-auto",children:l.jsx("div",{className:"flex-grow bg-slate-50 dark:bg-slate-800/30 rounded-3xl border border-slate-200 dark:border-slate-700 relative p-8 flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"flex flex-col items-center justify-center w-full min-w-[700px] gap-12 transform scale-100",children:x==="adult"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap justify-center gap-x-12 gap-y-6 pb-8 border-b-2 border-dashed border-slate-200 dark:border-slate-700/50 w-full",children:[l.jsx("div",{className:"flex justify-end",children:p([18,17,16,15,14,13,12,11])}),l.jsx("div",{className:"flex justify-start",children:p([21,22,23,24,25,26,27,28])})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-x-12 gap-y-6 pt-4 w-full",children:[l.jsx("div",{className:"flex justify-end",children:p([48,47,46,45,44,43,42,41])}),l.jsx("div",{className:"flex justify-start",children:p([31,32,33,34,35,36,37,38])})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap justify-center gap-x-12 gap-y-6 pb-8 border-b-2 border-dashed border-slate-200 dark:border-slate-700/50 mt-4 w-full",children:[l.jsx("div",{className:"flex justify-end",children:p([55,54,53,52,51])}),l.jsx("div",{className:"flex justify-start",children:p([61,62,63,64,65])})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-x-12 gap-y-6 pt-4 w-full",children:[l.jsx("div",{className:"flex justify-end",children:p([85,84,83,82,81])}),l.jsx("div",{className:"flex justify-start",children:p([71,72,73,74,75])})]})]})})})})]})},Bb=({initialPatient:h,user:x})=>{const[d,c]=m.useState(h||null),[M,H]=m.useState(""),[S,$]=m.useState([]),[D,p]=m.useState(!1),[Z,A]=m.useState([]),[V,K]=m.useState([]),[F,R]=m.useState([]),[ce,ae]=m.useState(""),[le,se]=m.useState([]),[ne,be]=m.useState(null),[ie,q]=m.useState(""),[me,pe]=m.useState(!1),[ue,ke]=m.useState([]),[we,Be]=m.useState(""),[J,L]=m.useState(""),[y,U]=m.useState(""),[I,ve]=m.useState(""),[Q,u]=m.useState([]),[w,Y]=m.useState(""),[ee,fe]=m.useState([]),[B,je]=m.useState(!1),[qe,Ae]=m.useState(""),[mt,_]=m.useState("adult"),[te,re]=m.useState([]),[Ne,Ge]=m.useState([]),He=m.useRef(null),[Ze,Te]=m.useState(null),[W,oe]=m.useState(!1),[ze,Pe]=m.useState(!1),[at,Ee]=m.useState(null),[Tt,b]=m.useState(!1),[X,he]=m.useState(null),Se=m.useRef(null);m.useEffect(()=>{if(d){R(G.getDiagnosticSessionsByPatient(d.id)),fe(G.getProcedures()),Ge(G.getImagesByPatient(d.id)),ke([]),q(""),be(null),ae(""),u([]),oe(!1);const z=G.getOdontogram(d.id);re(z?z.details:[])}else{const z=new Date;z.setHours(0,0,0,0);const _e=G.getAppointments().filter(et=>et.status==="Pendiente"&&new Date(et.date)>=z).sort((et,Ot)=>new Date(et.date).getTime()-new Date(Ot.date).getTime()).slice(0,10);A(_e),K(G.getRecentTreatedPatients())}},[d]),m.useEffect(()=>{if(d){const z=ie.length>0,_e=ue.length>0,et=ne!==null,Ot=Q.length>0;(z||_e||et||Ot)&&oe(!0)}},[ie,ue,ne,Q]),m.useEffect(()=>{M.length>0?$(G.searchPatients(M)):$([])},[M]),m.useEffect(()=>{me&&se(G.getCIE10Codes(ce))},[ce,me]);const jt=z=>{W?(Ee(z),Pe(!0)):c(null)},Ut=()=>{c(null),Pe(!1),oe(!1)},pt=z=>{c(z),H("")},lt=z=>{const _e=G.getPatient(z.patientId);_e&&c(_e)},Nt=(z,_e)=>{z.stopPropagation(),he(_e)},Et=()=>{we&&J&&y&&I&&(ke(z=>[...z,{id:Math.random().toString(36).substr(2,9),medication:we,dosage:J,frequency:y,duration:I}]),Be(""),L(""),U(""),ve(""),oe(!0))},kt=z=>{ke(_e=>_e.filter(et=>et.id!==z)),oe(!0)},ml=()=>{w.trim()&&(u(z=>[...z,w.trim()]),Y(""),oe(!0))},La=z=>{u(_e=>_e.filter((et,Ot)=>Ot!==z)),oe(!0)},ks=z=>{Ae(z),je(!0)},Ba=z=>{var Ot;const _e=(Ot=z.target.files)==null?void 0:Ot[0];if(!_e||!d)return;const et=new FileReader;et.onload=hl=>{var ba;const Ct=new Image;Ct.onload=()=>{const gl=document.createElement("canvas"),Ss=gl.getContext("2d"),Rt=800;let st=Ct.width,ot=Ct.height;if(st>ot?st>Rt&&(ot*=Rt/st,st=Rt):ot>Rt&&(st*=Rt/ot,ot=Rt),gl.width=st,gl.height=ot,Ss){Ss.drawImage(Ct,0,0,st,ot);const Ya=gl.toDataURL("image/jpeg",.8),Ul={id:Math.random().toString(36).substr(2,9),patientId:d.id,date:new Date().toISOString(),type:"Rayos X",title:_e.name,imageData:Ya};G.addImage(Ul),Ge(Vi=>[Ul,...Vi])}},Ct.src=(ba=hl.target)==null?void 0:ba.result},et.readAsDataURL(_e)},qa=z=>{confirm("Eliminar imagen?")&&(G.deleteImage(z),Ge(_e=>_e.filter(et=>et.id!==z)))},Rl=()=>{if(!d||!ne&&!ie.trim()&&!window.confirm("No ha ingresado Diagnstico (CIE-10) ni Notas de Evolucin. Desea guardar de todas formas?"))return;const z={id:Math.random().toString(36).substr(2,9),patientId:d.id,updatedAt:new Date().toISOString(),details:te};G.saveOdontogram(z);const _e={id:Math.random().toString(36).substr(2,9),patientId:d.id,doctorId:x.id,doctorName:x.name,date:new Date().toISOString(),cie10Code:(ne==null?void 0:ne.code)||"---",cie10Name:(ne==null?void 0:ne.name)||"Sin diagnstico especificado",evolutionNotes:ie,prescription:ue,odontogramSnapshot:[...te],nextVisitPlan:Q};G.saveDiagnosticSession(_e),R(et=>[_e,...et]),b(!0)},ga=()=>{q(""),ke([]),be(null),ae(""),u([]),oe(!1),b(!1)},Hl=()=>{b(!1),c(null)},xl=z=>{re(z),oe(!0)},Qi=(z,_e)=>{const et=[...te];et[z].notes=_e,re(et),oe(!0)},wn=()=>{var hl;const z=Se.current;if(!z||ue.length===0||!d)return;const _e=(hl=z.contentWindow)==null?void 0:hl.document;if(!_e)return;const et=new Date().toLocaleDateString(),Ot=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Receta - ${d.firstName} ${d.lastName}</title>
            <style>
              body { font-family: 'Helvetica Neue', Arial, sans-serif; color: #333; padding: 20px; font-size: 12pt; }
              .header { text-align: center; border-bottom: 2px solid #0f172a; padding-bottom: 10px; margin-bottom: 20px; }
              h1 { margin: 0; font-size: 18pt; color: #0f172a; }
              .patient-info { margin-bottom: 20px; padding: 10px; background: #f8fafc; border-radius: 5px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; }
              td { padding: 12px 5px; border-bottom: 1px solid #e2e8f0; }
              .med-name { font-weight: bold; font-size: 13pt; }
              .med-instructions { font-style: italic; color: #475569; margin-top: 4px; }
              .footer { margin-top: 60px; text-align: center; font-size: 10pt; color: #94a3b8; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Consultorio Odontolgico Taboada</h1>
              <p>RECETA MDICA</p>
            </div>
            <div class="patient-info">
              <strong>Paciente:</strong> ${d.firstName} ${d.lastName}<br>
              <strong>Fecha:</strong> ${et}
            </div>
            <table>
              ${ue.map(Ct=>`
                <tr>
                  <td>
                    <div class="med-name">${Ct.medication} ${Ct.dosage}</div>
                    <div class="med-instructions">Tomar: ${Ct.frequency} durante ${Ct.duration}</div>
                  </td>
                </tr>
              `).join("")}
            </table>
            <div class="footer">
               <br><br><br>
               ________________________________<br>
               Dr. Taboada<br>
               Cirujano Dentista
            </div>
          </body>
          </html>
        `;_e.open(),_e.write(Ot),_e.close(),setTimeout(()=>{var Ct,ba;(Ct=z.contentWindow)==null||Ct.focus(),(ba=z.contentWindow)==null||ba.print()},500)},ws={healthy:"bg-slate-200",caries:"bg-red-500",restoration_good:"bg-blue-500",root_canal:"bg-orange-500",veneer:"bg-cyan-400",whitening:"bg-yellow-200",sealant:"bg-emerald-400",missing:"bg-slate-900",bridge:"bg-purple-500",implant:"bg-gray-500"};return d?l.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 -m-4 md:-m-8 animate-fade-in overflow-hidden relative",children:[l.jsx("iframe",{ref:Se,style:{width:0,height:0,position:"absolute",border:"none"},title:"print-frame"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-lg border-t-4 border-t-teal-500 rounded-b-2xl mx-4 mt-2 p-4 md:px-6 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between z-30 relative mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-2xl shadow-lg ring-4 ring-white dark:ring-slate-800 overflow-hidden",children:d.photo?l.jsx("img",{src:d.photo,className:"w-full h-full object-cover"}):l.jsx(l.Fragment,{children:d.firstName.charAt(0)})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white leading-tight",children:[d.firstName," ",d.lastName]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:[l.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:[l.jsx(Gi,{size:12})," ",d.age?`${d.age} aos`:"Edad N/A"]}),l.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:[l.jsx(ud,{size:12})," CI: ",d.dni]})]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-wrap justify-end gap-3 items-center",children:[l.jsxs("button",{onClick:()=>he(d),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300 rounded-xl font-bold text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors mx-auto border border-indigo-100 dark:border-indigo-800",children:[l.jsx(yf,{size:18})," Ver Historia"]}),d.allergies&&d.allergies!=="Ninguna"?l.jsxs("div",{className:"flex items-center gap-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-3 py-1.5 rounded-lg border border-red-100 dark:border-red-800 shadow-sm",children:[l.jsx(Ua,{size:16}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider opacity-80",children:"Alergias"}),l.jsx("span",{className:"text-xs font-bold leading-none",children:d.allergies})]})]}):null,l.jsx("div",{className:"h-10 w-px bg-slate-200 dark:bg-slate-700 mx-2 hidden md:block"}),l.jsxs("button",{onClick:()=>jt("back"),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold text-sm transition-all shadow-sm",title:"Volver a la bsqueda",children:[l.jsx(jh,{size:18})," Volver"]}),l.jsxs("button",{onClick:()=>jt("change"),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 font-bold text-sm transition-all shadow-sm",title:"Salir de la sesin",children:[l.jsx(yt,{size:18})," Cambiar Paciente"]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-6",children:l.jsxs("div",{className:"max-w-[1920px] mx-auto grid grid-cols-12 gap-6",children:[l.jsxs("div",{className:"col-span-12 lg:col-span-8 flex flex-col gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col min-h-[500px]",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/30 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-slate-700 dark:text-white flex items-center gap-2",children:[l.jsx(fb,{size:20,className:"text-primary"})," Odontograma"]}),l.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>_("adult"),className:`px-3 py-1 rounded text-xs font-bold transition-all ${mt==="adult"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Adulto"}),l.jsx("button",{onClick:()=>_("child"),className:`px-3 py-1 rounded text-xs font-bold transition-all ${mt==="child"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Nio"})]})]}),l.jsx("div",{className:"flex-1 relative flex flex-col",children:l.jsx(Lb,{embeddedPatient:d,externalDentitionType:mt,currentDetails:te,onDetailsChange:xl})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col min-h-[250px]",children:[l.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/30",children:l.jsxs("h3",{className:"font-bold text-slate-700 dark:text-white flex items-center gap-2",children:[l.jsx(Vg,{size:18,className:"text-indigo-500"})," Hallazgos Registrados"]})}),l.jsx("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar max-h-[300px]",children:te.length>0?l.jsx("div",{className:"space-y-3",children:te.map((z,_e)=>{const et=z.condition==="restoration_good"?"Rest. Buena":z.condition==="root_canal"?"Trat. Conducto":z.condition==="veneer"?"Carilla":z.condition==="whitening"?"Blanqueamiento":z.condition==="missing"?"Ausente":z.condition==="bridge"?"Puente":z.condition==="implant"?"Implante":z.condition.charAt(0).toUpperCase()+z.condition.slice(1);return l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 border border-slate-200 dark:border-slate-600 flex gap-3 items-start",children:[l.jsx("div",{className:"flex flex-col items-center justify-center w-8 h-8 bg-white dark:bg-slate-800 rounded-lg text-slate-700 dark:text-slate-300 font-bold border border-slate-200 dark:border-slate-600 shadow-sm shrink-0",children:l.jsx("span",{className:"text-xs",children:z.toothNumber})}),l.jsxs("div",{className:"flex-1 min-h-0",children:[l.jsxs("div",{className:"text-xs font-bold text-slate-800 dark:text-white mb-1 truncate flex items-center gap-2",children:[et," ",l.jsx("div",{className:`w-2 h-2 rounded-full ${ws[z.condition]||"bg-slate-400"}`})]}),l.jsx("input",{type:"text",placeholder:"Nota clnica...",value:z.notes||"",onChange:Ot=>Qi(_e,Ot.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded px-2 py-1 text-[10px] outline-none focus:border-primary transition-colors text-slate-600 dark:text-slate-300"})]})]},_e)})}):l.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 text-xs italic",children:"Sin hallazgos en la sesin."})})]}),l.jsx("div",{className:"flex flex-col gap-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-4 flex flex-col flex-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Diagnstico CIE-10 (Opcional)"}),l.jsx("div",{className:"relative z-20 mb-4",children:ne?l.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-800 p-1.5 rounded text-indigo-700 dark:text-indigo-300 shrink-0",children:l.jsx(Ns,{size:16})}),l.jsx("div",{className:"min-w-0",children:l.jsxs("span",{className:"block font-bold text-indigo-800 dark:text-white text-xs truncate",children:[ne.code," - ",ne.name]})})]}),l.jsx("button",{onClick:()=>be(null),className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-red-500 transition-colors",children:l.jsx(yt,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx("input",{value:ce,onFocus:()=>pe(!0),onBlur:()=>setTimeout(()=>pe(!1),200),onChange:z=>ae(z.target.value),placeholder:"Buscar CIE-10...",className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all"}),(me||ce.length>0)&&le.length>0&&l.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-slate-100 dark:border-slate-600 max-h-48 overflow-y-auto z-50",children:le.map(z=>l.jsxs("button",{onMouseDown:()=>{be(z),ae("")},className:"w-full text-left px-4 py-2 hover:bg-indigo-50 dark:hover:bg-slate-700 border-b border-slate-50 dark:border-slate-700 last:border-0 text-xs transition-colors",children:[l.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 mr-2",children:z.code}),l.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:z.name})]},z.code))})]})}),l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Nota de Evolucin"}),l.jsx("textarea",{value:ie,onChange:z=>q(z.target.value),className:"flex-1 p-3 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-100 resize-none text-slate-700 dark:text-slate-200",placeholder:"Procedimiento realizado y observaciones..."})]})})]})]}),l.jsxs("div",{className:"col-span-12 lg:col-span-4 flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col p-5",children:[l.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-600 dark:text-indigo-400 uppercase text-xs tracking-wider mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:[l.jsx(sb,{size:18})," Receta Mdica"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{placeholder:"Medicamento",value:we,onChange:z=>Be(z.target.value),className:"w-full p-2 text-xs bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg outline-none focus:border-indigo-500 text-slate-800 dark:text-white placeholder:text-slate-400"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{placeholder:"Dosis",value:J,onChange:z=>L(z.target.value),className:"w-full p-2 text-xs bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg outline-none focus:border-indigo-500 text-slate-800 dark:text-white placeholder:text-slate-400"}),l.jsx("input",{placeholder:"Frecuencia",value:y,onChange:z=>U(z.target.value),className:"w-full p-2 text-xs bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg outline-none focus:border-indigo-500 text-slate-800 dark:text-white placeholder:text-slate-400"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{placeholder:"Duracin",value:I,onChange:z=>ve(z.target.value),className:"flex-1 p-2 text-xs bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg outline-none focus:border-indigo-500 text-slate-800 dark:text-white placeholder:text-slate-400"}),l.jsx("button",{onClick:Et,className:"bg-indigo-600 text-white p-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:l.jsx(Vt,{size:16})})]})]}),l.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[ue.map(z=>l.jsxs("div",{className:"group flex justify-between items-start p-2 bg-slate-50 dark:bg-slate-700/30 border border-slate-200 dark:border-slate-600 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-bold text-slate-800 dark:text-white block text-xs",children:[z.medication," ",z.dosage]}),l.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 block mt-0.5",children:["Cada ",z.frequency,"  ",z.duration]})]}),l.jsx("button",{onClick:()=>kt(z.id),className:"text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:l.jsx(Ha,{size:14})})]},z.id)),ue.length===0&&l.jsx("div",{className:"text-center text-slate-400 text-[10px] italic py-2",children:"Lista vaca."})]}),ue.length>0&&l.jsxs("button",{onClick:wn,className:"w-full py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 text-[10px] font-bold rounded-lg transition-colors border border-indigo-200 flex items-center justify-center gap-2",children:[l.jsx(Uf,{size:12})," Imprimir"]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col p-5",children:[l.jsxs("div",{className:"flex items-center gap-2 font-bold text-emerald-600 dark:text-emerald-400 uppercase text-xs tracking-wider mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:[l.jsx(yf,{size:18})," Plan de Tratamiento"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2 relative",children:[l.jsx("input",{list:"plan-procedures",value:w,onChange:z=>Y(z.target.value),onKeyDown:z=>{z.key==="Enter"&&ml()},placeholder:"Siguiente paso...",className:"flex-1 px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 text-xs outline-none focus:border-emerald-500 bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-white"}),l.jsx("datalist",{id:"plan-procedures",children:ee.map(z=>l.jsx("option",{value:z.name},z.id))}),l.jsx("button",{onClick:ml,disabled:!w.trim(),className:"bg-emerald-500 text-white p-2 rounded-lg hover:bg-emerald-600 disabled:opacity-50 shadow-sm",children:l.jsx(Vt,{size:16})})]}),l.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[Q.map((z,_e)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700/30 rounded-lg border border-slate-200 dark:border-slate-600 group",children:[l.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-slate-300 dark:border-slate-500 shrink-0"}),l.jsx("span",{className:"flex-1 text-xs text-slate-700 dark:text-slate-300 truncate",children:z}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>ks(z),className:"p-1 text-emerald-500 hover:bg-emerald-50 rounded transition-colors",title:"Agendar",children:l.jsx(rd,{size:14})}),l.jsx("button",{onClick:()=>La(_e),className:"p-1 text-slate-400 hover:text-red-500 transition-colors",children:l.jsx(Ha,{size:14})})]})]},_e)),Q.length===0&&l.jsx("div",{className:"text-center text-slate-400 text-[10px] italic py-2",children:"Sin pasos futuros."})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col p-5 flex-1 min-h-[200px]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 font-bold text-amber-600 dark:text-amber-400 uppercase text-xs tracking-wider",children:[l.jsx(qi,{size:18})," Imgenes"]}),l.jsx("button",{onClick:()=>{var z;return(z=He.current)==null?void 0:z.click()},className:"p-1.5 bg-amber-50 text-amber-700 hover:bg-amber-100 rounded-lg transition-colors border border-amber-200",title:"Subir Imagen",children:l.jsx(fd,{size:14})}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:He,onChange:Ba})]}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar max-h-60",children:Ne.length>0?l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ne.map(z=>l.jsxs("div",{className:"relative group bg-slate-50 dark:bg-slate-700/30 rounded-lg border border-slate-200 dark:border-slate-600 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"aspect-square bg-slate-100 cursor-pointer relative",onClick:()=>Te(z),children:[l.jsx("img",{src:z.imageData,alt:z.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:l.jsx(Eg,{className:"text-white opacity-0 group-hover:opacity-100 drop-shadow-md",size:20})})]}),l.jsx("button",{onClick:()=>qa(z.id),className:"absolute top-1 right-1 bg-white/80 rounded-full p-1 text-red-500 opacity-0 group-hover:opacity-100 hover:bg-white transition-all shadow-sm",children:l.jsx(Ha,{size:12})})]},z.id))}):l.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 text-xs italic",children:"Sin imgenes."})})]}),l.jsxs("button",{onClick:Rl,className:"w-full py-4 bg-slate-900 dark:bg-white dark:text-slate-900 text-white rounded-xl font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 flex-shrink-0 mt-2",children:[l.jsx(kn,{size:20})," Guardar Diagnstico"]})]})]})}),Ze&&l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",onClick:()=>Te(null),children:l.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",onClick:z=>z.stopPropagation(),children:[l.jsx("img",{src:Ze.imageData,alt:Ze.title,className:"max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl"}),l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:Ze.title}),l.jsxs("p",{className:"text-white/70 text-sm",children:[new Date(Ze.date).toLocaleDateString()," - ",Ze.type]})]}),l.jsx("button",{onClick:()=>Te(null),className:"absolute -top-12 right-0 text-white/70 hover:text-white transition-colors",children:l.jsx(yt,{size:32})})]})}),ze&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-600 dark:text-amber-400",children:l.jsx(Ua,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Salir sin guardar?"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"Tiene cambios no guardados en el diagnstico. Si sale ahora, se perdern."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>Pe(!1),className:"flex-1 py-3 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancelar"}),l.jsx("button",{onClick:Ut,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-medium hover:shadow-lg hover:bg-red-700",children:"Salir"})]})]})}),Tt&&l.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden border border-white/20",children:[l.jsx("div",{className:"bg-emerald-500 p-6 flex justify-center",children:l.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg animate-bounce-short",children:l.jsx(Ui,{size:40,className:"text-emerald-500",strokeWidth:4})})}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Guardado con xito!"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8",children:"La sesin clnica ha sido registrada en el historial del paciente."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:ga,className:"w-full py-3.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm shadow-lg transition-all",children:"Continuar Diagnstico"}),l.jsx("button",{onClick:Hl,className:"w-full py-3.5 border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl font-bold text-sm transition-all",children:"Salir al Inicio"})]})]})]})}),B&&d&&l.jsx(xd,{onClose:()=>je(!1),onSuccess:()=>{je(!1)},preSelectedPatientId:d.id,initialProcedure:qe}),X&&l.jsx(dd,{patient:X,onClose:()=>he(null)})]}):l.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white tracking-tight",children:"Gestin de Diagnstico"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Seleccione el paciente para administrar el odontograma y anotar receta mdica."})]}),l.jsxs("button",{onClick:()=>p(!0),className:"px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg font-bold text-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-all flex items-center gap-1.5",children:[l.jsx(jn,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Cmo funciona?"})]})]}),l.jsxs("div",{className:"relative rounded-2xl p-8 text-center text-white shadow-xl",children:[l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500 to-emerald-600 rounded-2xl overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3"})]}),l.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto",children:[l.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:l.jsx(fl,{size:32})}),l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Iniciar Nueva Sesin de Diagnstico"}),l.jsxs("div",{className:"relative group text-left",children:[l.jsx(Ol,{size:22,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 z-10"}),l.jsx("input",{type:"text",placeholder:"Buscar paciente por nombre o CI...",value:M,onChange:z=>H(z.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl bg-white text-slate-900 placeholder:text-slate-400 shadow-lg focus:ring-4 focus:ring-white/30 outline-none text-lg font-medium transition-all",autoFocus:!0}),S.length>0&&l.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50 text-left",children:[l.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-900/50 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Coincidencias"}),S.map(z=>l.jsxs("button",{onClick:()=>pt(z),className:"w-full text-left px-5 py-4 hover:bg-slate-50 dark:hover:bg-slate-700 border-b border-slate-100 dark:border-slate-700 last:border-0 flex justify-between items-center group transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 font-bold overflow-hidden",children:z.photo?l.jsx("img",{src:z.photo,className:"w-full h-full object-cover"}):l.jsxs(l.Fragment,{children:[z.firstName.charAt(0),z.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-bold text-slate-800 dark:text-white block text-base",children:[z.firstName," ",z.lastName]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["CI: ",z.dni]})]})]}),l.jsx(js,{className:"text-slate-300 group-hover:text-emerald-500 transition-colors"})]},z.id))]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:l.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(Wt,{size:18,className:"text-indigo-500"}),"Prximas Citas (Pendientes)"]})}),l.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Z.length>0?Z.map(z=>{const _e=new Date(z.date).toDateString()===new Date().toDateString();return l.jsxs("div",{onClick:()=>lt(z),className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 flex justify-between items-center group transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex flex-col items-center justify-center rounded-lg w-12 h-12 transition-colors ${_e?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 dark:bg-slate-700 text-slate-500 group-hover:bg-indigo-50 group-hover:text-indigo-600"}`,children:[l.jsx("span",{className:"text-xs font-bold uppercase",children:new Date(z.date).toLocaleDateString("es-ES",{month:"short"})}),l.jsx("span",{className:"text-lg font-bold leading-none",children:new Date(z.date).getDate()})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-white group-hover:text-primary transition-colors",children:z.patientName}),l.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[l.jsx(ul,{size:12})," ",G.formatTime(z.date),"  ",z.notes?z.notes.split("-")[0]:z.type]})]})]}),l.jsx("span",{className:"text-xs font-bold text-primary opacity-0 group-hover:opacity-100 transition-opacity",children:"Diagnosticar "})]},z.id)}):l.jsx("div",{className:"p-8 text-center text-slate-400 italic text-sm",children:"No hay citas pendientes prximas."})})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[l.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:l.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(ul,{size:18,className:"text-emerald-500"}),"ltimos Atendidos"]})}),l.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:V.length>0?V.map(z=>l.jsxs("div",{onClick:()=>pt(z.patient),className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 flex justify-between items-center group transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-700 dark:text-emerald-400 font-bold group-hover:scale-110 transition-transform overflow-hidden",children:z.patient.photo?l.jsx("img",{src:z.patient.photo,className:"w-full h-full object-cover"}):l.jsxs(l.Fragment,{children:[z.patient.firstName.charAt(0),z.patient.lastName.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800 dark:text-white group-hover:text-primary transition-colors",children:[z.patient.firstName," ",z.patient.lastName]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["ltimo trat.: ",z.lastTreatment.procedure]})]})]}),l.jsxs("button",{onClick:_e=>Nt(_e,z.patient),className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-3 py-1.5 rounded-lg text-[10px] font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center gap-1 z-20",title:"Ver Historia Clnica",children:[l.jsx(Rf,{size:12})," Ver Historia"]})]},z.patient.id)):l.jsx("div",{className:"p-8 text-center text-slate-400 italic text-sm",children:"No hay registros recientes."})})]})]}),X&&l.jsx(dd,{patient:X,onClose:()=>he(null)}),D&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-start",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Nn,{size:20}),"Gua de Diagnstico"]}),l.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Cmo registrar la clnica del paciente"})]}),l.jsx("button",{onClick:()=>p(!1),className:"text-white/70 hover:text-white bg-white/10 p-1 rounded-full",children:l.jsx(yt,{size:18})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Seleccin"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Busque al paciente o seleccinelo de la lista."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Odontograma"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Use las herramientas para marcar hallazgos en las piezas."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-500 shrink-0",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-sm",children:"Tarjetas (Derecha)"}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Use los bloques verticales para llenar la ",l.jsx("strong",{children:"Receta"}),", el ",l.jsx("strong",{children:"Plan de Tratamiento"})," y las ",l.jsx("strong",{children:"Imgenes"}),"."]})]})]}),l.jsx("button",{onClick:()=>p(!1),className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold rounded-xl text-sm hover:bg-indigo-100",children:"Entendido"})]})]})})]})},qb=()=>{const[h,x]=m.useState(null),[d,c]=m.useState("dashboard"),[M,H]=m.useState(!1),[S,$]=m.useState(null);m.useEffect(()=>{localStorage.theme==="dark"?(H(!0),document.documentElement.classList.add("dark")):(H(!1),document.documentElement.classList.remove("dark"))},[]);const D=()=>{M?(document.documentElement.classList.remove("dark"),localStorage.theme="light",H(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",H(!0))},p=K=>{x(K)},Z=()=>{x(null),c("dashboard")},A=(K,F)=>{K==="diagnosis"&&F&&$(F),c(K)};if(!h)return l.jsx(Mb,{onLogin:p});const V=()=>{if(d==="patients"||d==="patients-new")return l.jsx(Tb,{onNavigate:A,autoOpenForm:d==="patients-new"});switch(d){case"dashboard":return l.jsx(Cf,{user:h,onNavigate:A});case"finance":return l.jsx(Eb,{});case"settings":return l.jsx(Ob,{user:h,isDarkMode:M,toggleTheme:D});case"appointments":return l.jsx(Rb,{});case"diagnosis":return l.jsx(Bb,{user:h,initialPatient:S});default:return l.jsx(Cf,{user:h,onNavigate:A})}};return l.jsx(_b,{user:h,onLogout:Z,currentView:d,onNavigate:A,children:V()})},Gf=document.getElementById("root");if(!Gf)throw new Error("Could not find root element to mount to");const Yb=ch.createRoot(Gf);Yb.render(l.jsx(ah.StrictMode,{children:l.jsx(qb,{})}));
